var Rj=(m,c)=>()=>(c||m((c={exports:{}}).exports,c),c.exports);var $Z=Rj((iJ,AS)=>{var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mS={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(m,c){(function(){var f,b="4.17.21",w=200,k="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",O="Expected a function",H="Invalid `variable` option passed into `_.template`",X="__lodash_hash_undefined__",Y=500,Z="__lodash_placeholder__",ke=1,qe=2,Ce=4,Ae=1,De=2,Ge=1,rt=2,pe=4,Ze=8,it=16,We=32,ht=64,_t=128,yt=256,ft=512,le=30,je="...",fn=800,pn=16,Ke=1,ss=2,Yn=3,ae=1/0,Yt=9007199254740991,to=17976931348623157e292,_e=0/0,Fn=4294967295,gi=Fn-1,Oo=Fn>>>1,Ks=[["ary",_t],["bind",Ge],["bindKey",rt],["curry",Ze],["curryRight",it],["flip",ft],["partial",We],["partialRight",ht],["rearg",yt]],pt="[object Arguments]",Bt="[object Array]",C="[object AsyncFunction]",rs="[object Boolean]",no="[object Date]",Sf="[object DOMException]",so="[object Error]",ia="[object Function]",St="[object GeneratorFunction]",At="[object Map]",at="[object Number]",te="[object Null]",ks="[object Object]",ko="[object Promise]",Be="[object Proxy]",Xn="[object RegExp]",Vt="[object Set]",ro="[object String]",Zt="[object Symbol]",oo="[object Undefined]",io="[object WeakMap]",js="[object WeakSet]",fs="[object ArrayBuffer]",Ds="[object DataView]",el="[object Float32Array]",tl="[object Float64Array]",Do="[object Int8Array]",aa="[object Int16Array]",Un="[object Int32Array]",ao="[object Uint8Array]",Qn="[object Uint8ClampedArray]",Po="[object Uint16Array]",Af="[object Uint32Array]",ds=/\b__p \+= '';/g,$v=/\b(__p \+=) '' \+/g,It=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nl=/&(?:amp|lt|gt|quot|#39);/g,_h=/[&<>"']/g,Tf=RegExp(nl.source),yh=RegExp(_h.source),Mv=/<%-([\s\S]+?)%>/g,sl=/<%([\s\S]+?)%>/g,Ac=/<%=([\s\S]+?)%>/g,xf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ut=/^\w*$/,Ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lo=/[\\^$.*+?()[\]{}|]/g,Fv=RegExp(Lo.source),Tc=/^\s+/,Ch=/\s/,Nf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Uv=/\{\n\/\* \[wrapped with (.+)\] \*/,xc=/,? & /,Rf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rl=/[()=,{}\[\]\/\s]/,Hv=/\\(\\)?/g,Nc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Of=/\w*$/,bi=/^[-+]0x[0-9a-f]+$/i,vi=/^0b[01]+$/i,Wv=/^\[object .+?Constructor\]$/,zv=/^0o[0-7]+$/i,Vv=/^(?:0|[1-9]\d*)$/,qv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ol=/($^)/,kf=/['\n\r\u2028\u2029\\]/g,Bo="\\ud800-\\udfff",Kv="\\u0300-\\u036f",Eh="\\ufe20-\\ufe2f",jv="\\u20d0-\\u20ff",wh=Kv+Eh+jv,Sh="\\u2700-\\u27bf",Df="a-z\\xdf-\\xf6\\xf8-\\xff",Gv="\\xac\\xb1\\xd7\\xf7",Ln="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",On="\\u2000-\\u206f",Ah=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rc="A-Z\\xc0-\\xd6\\xd8-\\xde",_i="\\ufe0e\\ufe0f",Th=Gv+Ln+On+Ah,Oc="['\u2019]",Lr="["+Bo+"]",la="["+Th+"]",kc="["+wh+"]",il="\\d+",Pf="["+Sh+"]",Br="["+Df+"]",xh="[^"+Bo+Th+il+Sh+Df+Rc+"]",Lf="\\ud83c[\\udffb-\\udfff]",Nh="(?:"+kc+"|"+Lf+")",Bf="[^"+Bo+"]",Dc="(?:\\ud83c[\\udde6-\\uddff]){2}",Pc="[\\ud800-\\udbff][\\udc00-\\udfff]",yi="["+Rc+"]",If="\\u200d",$f="(?:"+Br+"|"+xh+")",Yv="(?:"+yi+"|"+xh+")",Mf="(?:"+Oc+"(?:d|ll|m|re|s|t|ve))?",Ff="(?:"+Oc+"(?:D|LL|M|RE|S|T|VE))?",Uf=Nh+"?",Hf="["+_i+"]?",Rh="(?:"+If+"(?:"+[Bf,Dc,Pc].join("|")+")"+Hf+Uf+")*",Oh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wf=Hf+Uf+Rh,Dh="(?:"+[Pf,Dc,Pc].join("|")+")"+Wf,Ph="(?:"+[Bf+kc+"?",kc,Dc,Pc,Lr].join("|")+")",Xv=RegExp(Oc,"g"),Lh=RegExp(kc,"g"),Lc=RegExp(Lf+"(?="+Lf+")|"+Ph+Wf,"g"),GS=RegExp([yi+"?"+Br+"+"+Mf+"(?="+[la,yi,"$"].join("|")+")",Yv+"+"+Ff+"(?="+[la,yi+$f,"$"].join("|")+")",yi+"?"+$f+"+"+Mf,yi+"+"+Ff,kh,Oh,il,Dh].join("|"),"g"),Qv=RegExp("["+If+Bo+wh+_i+"]"),Zv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ci=-1,rn={};rn[el]=rn[tl]=rn[Do]=rn[aa]=rn[Un]=rn[ao]=rn[Qn]=rn[Po]=rn[Af]=!0,rn[pt]=rn[Bt]=rn[fs]=rn[rs]=rn[Ds]=rn[no]=rn[so]=rn[ia]=rn[At]=rn[at]=rn[ks]=rn[Xn]=rn[Vt]=rn[ro]=rn[io]=!1;var Xt={};Xt[pt]=Xt[Bt]=Xt[fs]=Xt[Ds]=Xt[rs]=Xt[no]=Xt[el]=Xt[tl]=Xt[Do]=Xt[aa]=Xt[Un]=Xt[At]=Xt[at]=Xt[ks]=Xt[Xn]=Xt[Vt]=Xt[ro]=Xt[Zt]=Xt[ao]=Xt[Qn]=Xt[Po]=Xt[Af]=!0,Xt[so]=Xt[ia]=Xt[io]=!1;var Ir={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},$r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},e_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gt=parseFloat,t_=parseInt,zf=typeof th=="object"&&th&&th.Object===Object&&th,n_=typeof self=="object"&&self&&self.Object===Object&&self,Hn=zf||n_||Function("return this")(),Vf=c&&!c.nodeType&&c,wi=Vf&&!0&&m&&!m.nodeType&&m,qf=wi&&wi.exports===Vf,Bh=qf&&zf.process,fr=function(){try{var U=wi&&wi.require&&wi.require("util").types;return U||Bh&&Bh.binding&&Bh.binding("util")}catch{}}(),s_=fr&&fr.isArrayBuffer,ie=fr&&fr.isDate,Si=fr&&fr.isMap,Ih=fr&&fr.isRegExp,Wn=fr&&fr.isSet,$h=fr&&fr.isTypedArray;function zn(U,ee,Q){switch(Q.length){case 0:return U.call(ee);case 1:return U.call(ee,Q[0]);case 2:return U.call(ee,Q[0],Q[1]);case 3:return U.call(ee,Q[0],Q[1],Q[2])}return U.apply(ee,Q)}function Mh(U,ee,Q,Le){for(var He=-1,kt=U==null?0:U.length;++He<kt;){var Tn=U[He];ee(Le,Tn,Q(Tn),U)}return Le}function Ps(U,ee){for(var Q=-1,Le=U==null?0:U.length;++Q<Le&&ee(U[Q],Q,U)!==!1;);return U}function Fh(U,ee){for(var Q=U==null?0:U.length;Q--&&ee(U[Q],Q,U)!==!1;);return U}function ca(U,ee){for(var Q=-1,Le=U==null?0:U.length;++Q<Le;)if(!ee(U[Q],Q,U))return!1;return!0}function lo(U,ee){for(var Q=-1,Le=U==null?0:U.length,He=0,kt=[];++Q<Le;){var Tn=U[Q];ee(Tn,Q,U)&&(kt[He++]=Tn)}return kt}function Pt(U,ee){var Q=U==null?0:U.length;return!!Q&&Vn(U,ee,0)>-1}function Bc(U,ee,Q){for(var Le=-1,He=U==null?0:U.length;++Le<He;)if(Q(ee,U[Le]))return!0;return!1}function Jt(U,ee){for(var Q=-1,Le=U==null?0:U.length,He=Array(Le);++Q<Le;)He[Q]=ee(U[Q],Q,U);return He}function Io(U,ee){for(var Q=-1,Le=ee.length,He=U.length;++Q<Le;)U[He+Q]=ee[Q];return U}function Zn(U,ee,Q,Le){var He=-1,kt=U==null?0:U.length;for(Le&&kt&&(Q=U[++He]);++He<kt;)Q=ee(Q,U[He],He,U);return Q}function Ls(U,ee,Q,Le){var He=U==null?0:U.length;for(Le&&He&&(Q=U[--He]);He--;)Q=ee(Q,U[He],He,U);return Q}function Kf(U,ee){for(var Q=-1,Le=U==null?0:U.length;++Q<Le;)if(ee(U[Q],Q,U))return!0;return!1}var r_=Gf("length");function jf(U){return U.split("")}function Uh(U){return U.match(Rf)||[]}function En(U,ee,Q){var Le;return Q(U,function(He,kt,Tn){if(ee(He,kt,Tn))return Le=kt,!1}),Le}function dr(U,ee,Q,Le){for(var He=U.length,kt=Q+(Le?1:-1);Le?kt--:++kt<He;)if(ee(U[kt],kt,U))return kt;return-1}function Vn(U,ee,Q){return ee===ee?u_(U,ee,Q):dr(U,al,Q)}function co(U,ee,Q,Le){for(var He=Q-1,kt=U.length;++He<kt;)if(Le(U[He],ee))return He;return-1}function al(U){return U!==U}function An(U,ee){var Q=U==null?0:U.length;return Q?Yf(U,ee)/Q:_e}function Gf(U){return function(ee){return ee==null?f:ee[U]}}function Ic(U){return function(ee){return U==null?f:U[ee]}}function $c(U,ee,Q,Le,He){return He(U,function(kt,Tn,qt){Q=Le?(Le=!1,kt):ee(Q,kt,Tn,qt)}),Q}function o_(U,ee){var Q=U.length;for(U.sort(ee);Q--;)U[Q]=U[Q].value;return U}function Yf(U,ee){for(var Q,Le=-1,He=U.length;++Le<He;){var kt=ee(U[Le]);kt!==f&&(Q=Q===f?kt:Q+kt)}return Q}function Ai(U,ee){for(var Q=-1,Le=Array(U);++Q<U;)Le[Q]=ee(Q);return Le}function Hh(U,ee){return Jt(ee,function(Q){return[Q,U[Q]]})}function Xf(U){return U&&U.slice(0,Mr(U)+1).replace(Tc,"")}function ms(U){return function(ee){return U(ee)}}function Qf(U,ee){return Jt(ee,function(Q){return U[Q]})}function uo(U,ee){return U.has(ee)}function Zf(U,ee){for(var Q=-1,Le=U.length;++Q<Le&&Vn(ee,U[Q],0)>-1;);return Q}function ll(U,ee){for(var Q=U.length;Q--&&Vn(ee,U[Q],0)>-1;);return Q}function i_(U,ee){for(var Q=U.length,Le=0;Q--;)U[Q]===ee&&++Le;return Le}var Jf=Ic(Ir),cl=Ic($r);function a_(U){return"\\"+e_[U]}function l_(U,ee){return U==null?f:U[ee]}function ua(U){return Qv.test(U)}function ul(U){return Zv.test(U)}function YS(U){for(var ee,Q=[];!(ee=U.next()).done;)Q.push(ee.value);return Q}function D(U){var ee=-1,Q=Array(U.size);return U.forEach(function(Le,He){Q[++ee]=[He,Le]}),Q}function ed(U,ee){return function(Q){return U(ee(Q))}}function Bn(U,ee){for(var Q=-1,Le=U.length,He=0,kt=[];++Q<Le;){var Tn=U[Q];(Tn===ee||Tn===Z)&&(U[Q]=Z,kt[He++]=Q)}return kt}function fl(U){var ee=-1,Q=Array(U.size);return U.forEach(function(Le){Q[++ee]=Le}),Q}function c_(U){var ee=-1,Q=Array(U.size);return U.forEach(function(Le){Q[++ee]=[Le,Le]}),Q}function u_(U,ee,Q){for(var Le=Q-1,He=U.length;++Le<He;)if(U[Le]===ee)return Le;return-1}function Ct(U,ee,Q){for(var Le=Q+1;Le--;)if(U[Le]===ee)return Le;return Le}function hs(U){return ua(U)?dl(U):r_(U)}function Gs(U){return ua(U)?mr(U):jf(U)}function Mr(U){for(var ee=U.length;ee--&&Ch.test(U.charAt(ee)););return ee}var f_=Ic(Ei);function dl(U){for(var ee=Lc.lastIndex=0;Lc.test(U);)++ee;return ee}function mr(U){return U.match(Lc)||[]}function Wh(U){return U.match(GS)||[]}var zh=function U(ee){ee=ee==null?Hn:fa.defaults(Hn.Object(),ee,fa.pick(Hn,Jv));var Q=ee.Array,Le=ee.Date,He=ee.Error,kt=ee.Function,Tn=ee.Math,qt=ee.Object,Mc=ee.RegExp,d_=ee.String,ps=ee.TypeError,ml=Q.prototype,m_=kt.prototype,Bs=qt.prototype,da=ee["__core-js_shared__"],Fc=m_.toString,Kt=Bs.hasOwnProperty,h_=0,td=function(){var i=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Uc=Bs.toString,ma=Fc.call(qt),Vh=Hn._,p_=Mc("^"+Fc.call(Kt).replace(Lo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hl=qf?ee.Buffer:f,hr=ee.Symbol,Is=ee.Uint8Array,nd=hl?hl.allocUnsafe:f,Ti=ed(qt.getPrototypeOf,qt),sd=qt.create,rd=Bs.propertyIsEnumerable,Hc=ml.splice,gs=hr?hr.isConcatSpreadable:f,Ys=hr?hr.iterator:f,$o=hr?hr.toStringTag:f,an=function(){try{var i=Cs(qt,"defineProperty");return i({},"",{}),i}catch{}}(),g_=ee.clearTimeout!==Hn.clearTimeout&&ee.clearTimeout,b_=Le&&Le.now!==Hn.Date.now&&Le.now,xi=ee.setTimeout!==Hn.setTimeout&&ee.setTimeout,Mo=Tn.ceil,$t=Tn.floor,Fr=qt.getOwnPropertySymbols,v_=hl?hl.isBuffer:f,od=ee.isFinite,qh=ml.join,Wc=ed(qt.keys,qt),kn=Tn.max,Jn=Tn.min,__=Le.now,y_=ee.parseInt,Kh=Tn.random,C_=ml.reverse,id=Cs(ee,"DataView"),ha=Cs(ee,"Map"),Fo=Cs(ee,"Promise"),pa=Cs(ee,"Set"),Uo=Cs(ee,"WeakMap"),pl=Cs(qt,"create"),ga=Uo&&new Uo,Ho={},jh=Zo(id),Gh=Zo(ha),E_=Zo(Fo),Yh=Zo(pa),Xh=Zo(Uo),zc=hr?hr.prototype:f,ba=zc?zc.valueOf:f,ad=zc?zc.toString:f;function A(i){if(yn(i)&&!dt(i)&&!(i instanceof Tt)){if(i instanceof Qs)return i;if(Kt.call(i,"__wrapped__"))return Z_(i)}return new Qs(i)}var Xs=function(){function i(){}return function(l){if(!ln(l))return{};if(sd)return sd(l);i.prototype=l;var h=new i;return i.prototype=f,h}}();function Vc(){}function Qs(i,l){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=f}A.templateSettings={escape:Mv,evaluate:sl,interpolate:Ac,variable:"",imports:{_:A}},A.prototype=Vc.prototype,A.prototype.constructor=A,Qs.prototype=Xs(Vc.prototype),Qs.prototype.constructor=Qs;function Tt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Fn,this.__views__=[]}function gl(){var i=new Tt(this.__wrapped__);return i.__actions__=ys(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ys(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ys(this.__views__),i}function bl(){if(this.__filtered__){var i=new Tt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Ni(){var i=this.__wrapped__.value(),l=this.__dir__,h=dt(i),g=l<0,E=h?i.length:0,R=q_(0,E,this.__views__),P=R.start,$=R.end,q=$-P,ce=g?$:P-1,ue=this.__iteratees__,he=ue.length,Re=0,Fe=Jn(q,this.__takeCount__);if(!h||!g&&E==q&&Fe==q)return su(i,this.__actions__);var nt=[];e:for(;q--&&Re<Fe;){ce+=l;for(var vt=-1,st=i[ce];++vt<he;){var wt=ue[vt],Rt=wt.iteratee,xs=wt.type,ns=Rt(st);if(xs==ss)st=ns;else if(!ns){if(xs==Ke)continue e;break e}}nt[Re++]=st}return nt}Tt.prototype=Xs(Vc.prototype),Tt.prototype.constructor=Tt;function Wo(i){var l=-1,h=i==null?0:i.length;for(this.clear();++l<h;){var g=i[l];this.set(g[0],g[1])}}function gn(){this.__data__=pl?pl(null):{},this.size=0}function Ri(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}function qc(i){var l=this.__data__;if(pl){var h=l[i];return h===X?f:h}return Kt.call(l,i)?l[i]:f}function ye(i){var l=this.__data__;return pl?l[i]!==f:Kt.call(l,i)}function ld(i,l){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=pl&&l===f?X:l,this}Wo.prototype.clear=gn,Wo.prototype.delete=Ri,Wo.prototype.get=qc,Wo.prototype.has=ye,Wo.prototype.set=ld;function Dn(i){var l=-1,h=i==null?0:i.length;for(this.clear();++l<h;){var g=i[l];this.set(g[0],g[1])}}function Kc(){this.__data__=[],this.size=0}function Qh(i){var l=this.__data__,h=Nn(l,i);if(h<0)return!1;var g=l.length-1;return h==g?l.pop():Hc.call(l,h,1),--this.size,!0}function w_(i){var l=this.__data__,h=Nn(l,i);return h<0?f:l[h][1]}function Oi(i){return Nn(this.__data__,i)>-1}function S_(i,l){var h=this.__data__,g=Nn(h,i);return g<0?(++this.size,h.push([i,l])):h[g][1]=l,this}Dn.prototype.clear=Kc,Dn.prototype.delete=Qh,Dn.prototype.get=w_,Dn.prototype.has=Oi,Dn.prototype.set=S_;function qn(i){var l=-1,h=i==null?0:i.length;for(this.clear();++l<h;){var g=i[l];this.set(g[0],g[1])}}function Zh(){this.size=0,this.__data__={hash:new Wo,map:new(ha||Dn),string:new Wo}}function cd(i){var l=mu(this,i).delete(i);return this.size-=l?1:0,l}function se(i){return mu(this,i).get(i)}function A_(i){return mu(this,i).has(i)}function T_(i,l){var h=mu(this,i),g=h.size;return h.set(i,l),this.size+=h.size==g?0:1,this}qn.prototype.clear=Zh,qn.prototype.delete=cd,qn.prototype.get=se,qn.prototype.has=A_,qn.prototype.set=T_;function bs(i){var l=-1,h=i==null?0:i.length;for(this.__data__=new qn;++l<h;)this.add(i[l])}function vl(i){return this.__data__.set(i,X),this}function ud(i){return this.__data__.has(i)}bs.prototype.add=bs.prototype.push=vl,bs.prototype.has=ud;function Dt(i){var l=this.__data__=new Dn(i);this.size=l.size}function Jh(){this.__data__=new Dn,this.size=0}function pr(i){var l=this.__data__,h=l.delete(i);return this.size=l.size,h}function Mt(i){return this.__data__.get(i)}function jc(i){return this.__data__.has(i)}function ep(i,l){var h=this.__data__;if(h instanceof Dn){var g=h.__data__;if(!ha||g.length<w-1)return g.push([i,l]),this.size=++h.size,this;h=this.__data__=new qn(g)}return h.set(i,l),this.size=h.size,this}Dt.prototype.clear=Jh,Dt.prototype.delete=pr,Dt.prototype.get=Mt,Dt.prototype.has=jc,Dt.prototype.set=ep;function gr(i,l){var h=dt(i),g=!h&&si(i),E=!h&&!g&&ri(i),R=!h&&!g&&!E&&Wi(i),P=h||g||E||R,$=P?Ai(i.length,d_):[],q=$.length;for(var ce in i)(l||Kt.call(i,ce))&&!(P&&(ce=="length"||E&&(ce=="offset"||ce=="parent")||R&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Fs(ce,q)))&&$.push(ce);return $}function tp(i){var l=i.length;return l?i[Sd(0,l-1)]:f}function va(i,l){return gu(ys(i),ki(l,0,i.length))}function xn(i){return gu(ys(i))}function Gc(i,l,h){(h!==f&&!rr(i[l],h)||h===f&&!(l in i))&&Ur(i,l,h)}function _l(i,l,h){var g=i[l];(!(Kt.call(i,l)&&rr(g,h))||h===f&&!(l in i))&&Ur(i,l,h)}function Nn(i,l){for(var h=i.length;h--;)if(rr(i[h][0],l))return h;return-1}function XS(i,l,h,g){return zo(i,function(E,R,P){l(g,E,h(E),P)}),g}function fd(i,l){return i&&br(l,In(l),i)}function dd(i,l){return i&&br(l,As(l),i)}function Ur(i,l,h){l=="__proto__"&&an?an(i,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[l]=h}function md(i,l){for(var h=-1,g=l.length,E=Q(g),R=i==null;++h<g;)E[h]=R?f:mm(i,l[h]);return E}function ki(i,l,h){return i===i&&(h!==f&&(i=i<=h?i:h),l!==f&&(i=i>=l?i:l)),i}function Zs(i,l,h,g,E,R){var P,$=l&ke,q=l&qe,ce=l&Ce;if(h&&(P=E?h(i,g,E,R):h(i)),P!==f)return P;if(!ln(i))return i;var ue=dt(i);if(ue){if(P=K_(i),!$)return ys(i,P)}else{var he=es(i),Re=he==ia||he==St;if(ri(i))return Od(i,$);if(he==ks||he==pt||Re&&!E){if(P=q||Re?{}:Ap(i),!$)return q?vp(i,dd(P,i)):QS(i,fd(P,i))}else{if(!Xt[he])return E?i:{};P=Ud(i,he,$)}}R||(R=new Dt);var Fe=R.get(i);if(Fe)return Fe;R.set(i,P),fg(i)?i.forEach(function(st){P.add(Zs(st,l,h,st,i,R))}):cm(i)&&i.forEach(function(st,wt){P.set(wt,Zs(st,l,h,wt,i,R))});var nt=ce?q?du:Nl:q?As:In,vt=ue?f:nt(i);return Ps(vt||i,function(st,wt){vt&&(wt=st,st=i[wt]),_l(P,wt,Zs(st,l,h,wt,i,R))}),P}function x_(i){var l=In(i);return function(h){return np(h,i,l)}}function np(i,l,h){var g=h.length;if(i==null)return!g;for(i=qt(i);g--;){var E=h[g],R=l[E],P=i[E];if(P===f&&!(E in i)||!R(P))return!1}return!0}function sp(i,l,h){if(typeof i!="function")throw new ps(O);return xa(function(){i.apply(f,h)},l)}function yl(i,l,h,g){var E=-1,R=Pt,P=!0,$=i.length,q=[],ce=l.length;if(!$)return q;h&&(l=Jt(l,ms(h))),g?(R=Bc,P=!1):l.length>=w&&(R=uo,P=!1,l=new bs(l));e:for(;++E<$;){var ue=i[E],he=h==null?ue:h(ue);if(ue=g||ue!==0?ue:0,P&&he===he){for(var Re=ce;Re--;)if(l[Re]===he)continue e;q.push(ue)}else R(l,he,g)||q.push(ue)}return q}var zo=_p(_s),rp=_p(hd,!0);function Vo(i,l){var h=!0;return zo(i,function(g,E,R){return h=!!l(g,E,R),h}),h}function vs(i,l,h){for(var g=-1,E=i.length;++g<E;){var R=i[g],P=l(R);if(P!=null&&($===f?P===P&&!Us(P):h(P,$)))var $=P,q=R}return q}function N_(i,l,h,g){var E=i.length;for(h=lt(h),h<0&&(h=-h>E?0:E+h),g=g===f||g>E?E:lt(g),g<0&&(g+=E),g=h>g?0:mg(g);h<g;)i[h++]=l;return i}function Yc(i,l){var h=[];return zo(i,function(g,E,R){l(g,E,R)&&h.push(g)}),h}function dn(i,l,h,g,E){var R=-1,P=i.length;for(h||(h=j_),E||(E=[]);++R<P;){var $=i[R];l>0&&h($)?l>1?dn($,l-1,h,g,E):Io(E,$):g||(E[E.length]=$)}return E}var Xc=Pd(),Qc=Pd(!0);function _s(i,l){return i&&Xc(i,l,In)}function hd(i,l){return i&&Qc(i,l,In)}function qo(i,l){return lo(l,function(h){return go(i[h])})}function Hr(i,l){l=Yo(l,i);for(var h=0,g=l.length;i!=null&&h<g;)i=i[tr(l[h++])];return h&&h==g?i:f}function op(i,l,h){var g=l(i);return dt(i)?g:Io(g,h(i))}function os(i){return i==null?i===f?oo:te:$o&&$o in qt(i)?Md(i):X_(i)}function pd(i,l){return i>l}function R_(i,l){return i!=null&&Kt.call(i,l)}function gd(i,l){return i!=null&&l in qt(i)}function Di(i,l,h){return i>=Jn(l,h)&&i<kn(l,h)}function bd(i,l,h){for(var g=h?Bc:Pt,E=i[0].length,R=i.length,P=R,$=Q(R),q=1/0,ce=[];P--;){var ue=i[P];P&&l&&(ue=Jt(ue,ms(l))),q=Jn(ue.length,q),$[P]=!h&&(l||E>=120&&ue.length>=120)?new bs(P&&ue):f}ue=i[0];var he=-1,Re=$[0];e:for(;++he<E&&ce.length<q;){var Fe=ue[he],nt=l?l(Fe):Fe;if(Fe=h||Fe!==0?Fe:0,!(Re?uo(Re,nt):g(ce,nt,h))){for(P=R;--P;){var vt=$[P];if(!(vt?uo(vt,nt):g(i[P],nt,h)))continue e}Re&&Re.push(nt),ce.push(Fe)}}return ce}function Pn(i,l,h,g){return _s(i,function(E,R,P){l(g,h(E),R,P)}),g}function Ko(i,l,h){l=Yo(l,i),i=Np(i,l);var g=i==null?i:i[tr(nr(l))];return g==null?f:zn(g,i,h)}function Wr(i){return yn(i)&&os(i)==pt}function O_(i){return yn(i)&&os(i)==fs}function _a(i){return yn(i)&&os(i)==no}function zr(i,l,h,g,E){return i===l?!0:i==null||l==null||!yn(i)&&!yn(l)?i!==i&&l!==l:jo(i,l,h,g,zr,E)}function jo(i,l,h,g,E,R){var P=dt(i),$=dt(l),q=P?Bt:es(i),ce=$?Bt:es(l);q=q==pt?ks:q,ce=ce==pt?ks:ce;var ue=q==ks,he=ce==ks,Re=q==ce;if(Re&&ri(i)){if(!ri(l))return!1;P=!0,ue=!1}if(Re&&!ue)return R||(R=new Dt),P||Wi(i)?xl(i,l,h,g,E,R):V_(i,l,q,h,g,E,R);if(!(h&Ae)){var Fe=ue&&Kt.call(i,"__wrapped__"),nt=he&&Kt.call(l,"__wrapped__");if(Fe||nt){var vt=Fe?i.value():i,st=nt?l.value():l;return R||(R=new Dt),E(vt,st,h,g,R)}}return Re?(R||(R=new Dt),Ta(i,l,h,g,E,R)):!1}function $s(i){return yn(i)&&es(i)==At}function Zc(i,l,h,g){var E=h.length,R=E,P=!g;if(i==null)return!R;for(i=qt(i);E--;){var $=h[E];if(P&&$[2]?$[1]!==i[$[0]]:!($[0]in i))return!1}for(;++E<R;){$=h[E];var q=$[0],ce=i[q],ue=$[1];if(P&&$[2]){if(ce===f&&!(q in i))return!1}else{var he=new Dt;if(g)var Re=g(ce,ue,q,i,l,he);if(!(Re===f?zr(ue,ce,Ae|De,g,he):Re))return!1}}return!0}function ip(i){if(!ln(i)||zd(i))return!1;var l=go(i)?p_:Wv;return l.test(Zo(i))}function vd(i){return yn(i)&&os(i)==Xn}function _d(i){return yn(i)&&es(i)==Vt}function k_(i){return yn(i)&&Ul(i.length)&&!!rn[os(i)]}function Cl(i){return typeof i=="function"?i:i==null?Ts:typeof i=="object"?dt(i)?ap(i[0],i[1]):Cd(i):Dg(i)}function ya(i){if(!po(i))return Wc(i);var l=[];for(var h in qt(i))Kt.call(i,h)&&h!="constructor"&&l.push(h);return l}function D_(i){if(!ln(i))return xp(i);var l=po(i),h=[];for(var g in i)g=="constructor"&&(l||!Kt.call(i,g))||h.push(g);return h}function El(i,l){return i<l}function yd(i,l){var h=-1,g=Es(i)?Q(i.length):[];return zo(i,function(E,R,P){g[++h]=l(E,R,P)}),g}function Cd(i){var l=Rl(i);return l.length==1&&l[0][2]?$i(l[0][0],l[0][1]):function(h){return h===i||Zc(h,i,l)}}function ap(i,l){return ho(i)&&Vd(l)?$i(tr(i),l):function(h){var g=mm(h,i);return g===f&&g===l?ku(h,i):zr(l,g,Ae|De)}}function Jc(i,l,h,g,E){i!==l&&Xc(l,function(R,P){if(E||(E=new Dt),ln(R))P_(i,l,P,h,Jc,g,E);else{var $=g?g(qd(i,P),R,P+"",i,l,E):f;$===f&&($=R),Gc(i,P,$)}},As)}function P_(i,l,h,g,E,R,P){var $=qd(i,h),q=qd(l,h),ce=P.get(q);if(ce){Gc(i,h,ce);return}var ue=R?R($,q,h+"",i,l,P):f,he=ue===f;if(he){var Re=dt(q),Fe=!Re&&ri(q),nt=!Re&&!Fe&&Wi(q);ue=q,Re||Fe||nt?dt($)?ue=$:_n($)?ue=ys($):Fe?(he=!1,ue=Od(q,!0)):nt?(he=!1,ue=kd(q,!0)):ue=[]:La(q)||si(q)?(ue=$,si($)?ue=hg($):(!ln($)||go($))&&(ue=Ap(q))):he=!1}he&&(P.set(q,ue),E(ue,q,g,R,P),P.delete(q)),Gc(i,h,ue)}function lp(i,l){var h=i.length;if(!!h)return l+=l<0?h:0,Fs(l,h)?i[l]:f}function Ed(i,l,h){l.length?l=Jt(l,function(R){return dt(R)?function(P){return Hr(P,R.length===1?R[0]:R)}:R}):l=[Ts];var g=-1;l=Jt(l,ms(Je()));var E=yd(i,function(R,P,$){var q=Jt(l,function(ce){return ce(R)});return{criteria:q,index:++g,value:R}});return o_(E,function(R,P){return gp(R,P,h)})}function L_(i,l){return cp(i,l,function(h,g){return ku(i,g)})}function cp(i,l,h){for(var g=-1,E=l.length,R={};++g<E;){var P=l[g],$=Hr(i,P);h($,P)&&wl(R,Yo(P,i),$)}return R}function Js(i){return function(l){return Hr(l,i)}}function wd(i,l,h,g){var E=g?co:Vn,R=-1,P=l.length,$=i;for(i===l&&(l=ys(l)),h&&($=Jt(i,ms(h)));++R<P;)for(var q=0,ce=l[R],ue=h?h(ce):ce;(q=E($,ue,q,g))>-1;)$!==i&&Hc.call($,q,1),Hc.call(i,q,1);return i}function eu(i,l){for(var h=i?l.length:0,g=h-1;h--;){var E=l[h];if(h==g||E!==R){var R=E;Fs(E)?Hc.call(i,E,1):en(i,E)}}return i}function Sd(i,l){return i+$t(Kh()*(l-i+1))}function B_(i,l,h,g){for(var E=-1,R=kn(Mo((l-i)/(h||1)),0),P=Q(R);R--;)P[g?R:++E]=i,i+=h;return P}function Ad(i,l){var h="";if(!i||l<1||l>Yt)return h;do l%2&&(h+=i),l=$t(l/2),l&&(i+=i);while(l);return h}function bt(i,l){return vr(Nt(i,l,Ts),i+"")}function I_(i){return tp(Ba(i))}function Pi(i,l){var h=Ba(i);return gu(h,ki(l,0,h.length))}function wl(i,l,h,g){if(!ln(i))return i;l=Yo(l,i);for(var E=-1,R=l.length,P=R-1,$=i;$!=null&&++E<R;){var q=tr(l[E]),ce=h;if(q==="__proto__"||q==="constructor"||q==="prototype")return i;if(E!=P){var ue=$[q];ce=g?g(ue,q,$):f,ce===f&&(ce=ln(ue)?ue:Fs(l[E+1])?[]:{})}_l($,q,ce),$=$[q]}return i}var Td=ga?function(i,l){return ga.set(i,l),i}:Ts,$_=an?function(i,l){return an(i,"toString",{configurable:!0,enumerable:!1,value:oi(l),writable:!0})}:Ts;function up(i){return gu(Ba(i))}function er(i,l,h){var g=-1,E=i.length;l<0&&(l=-l>E?0:E+l),h=h>E?E:h,h<0&&(h+=E),E=l>h?0:h-l>>>0,l>>>=0;for(var R=Q(E);++g<E;)R[g]=i[g+l];return R}function M_(i,l){var h;return zo(i,function(g,E,R){return h=l(g,E,R),!h}),!!h}function tu(i,l,h){var g=0,E=i==null?g:i.length;if(typeof l=="number"&&l===l&&E<=Oo){for(;g<E;){var R=g+E>>>1,P=i[R];P!==null&&!Us(P)&&(h?P<=l:P<l)?g=R+1:E=R}return E}return Ca(i,l,Ts,h)}function Ca(i,l,h,g){var E=0,R=i==null?0:i.length;if(R===0)return 0;l=h(l);for(var P=l!==l,$=l===null,q=Us(l),ce=l===f;E<R;){var ue=$t((E+R)/2),he=h(i[ue]),Re=he!==f,Fe=he===null,nt=he===he,vt=Us(he);if(P)var st=g||nt;else ce?st=nt&&(g||Re):$?st=nt&&Re&&(g||!Fe):q?st=nt&&Re&&!Fe&&(g||!vt):Fe||vt?st=!1:st=g?he<=l:he<l;st?E=ue+1:R=ue}return Jn(R,gi)}function fp(i,l){for(var h=-1,g=i.length,E=0,R=[];++h<g;){var P=i[h],$=l?l(P):P;if(!h||!rr($,q)){var q=$;R[E++]=P===0?0:P}}return R}function dp(i){return typeof i=="number"?i:Us(i)?_e:+i}function Ms(i){if(typeof i=="string")return i;if(dt(i))return Jt(i,Ms)+"";if(Us(i))return ad?ad.call(i):"";var l=i+"";return l=="0"&&1/i==-ae?"-0":l}function Go(i,l,h){var g=-1,E=Pt,R=i.length,P=!0,$=[],q=$;if(h)P=!1,E=Bc;else if(R>=w){var ce=l?null:Ep(i);if(ce)return fl(ce);P=!1,E=uo,q=new bs}else q=l?[]:$;e:for(;++g<R;){var ue=i[g],he=l?l(ue):ue;if(ue=h||ue!==0?ue:0,P&&he===he){for(var Re=q.length;Re--;)if(q[Re]===he)continue e;l&&q.push(he),$.push(ue)}else E(q,he,h)||(q!==$&&q.push(he),$.push(ue))}return $}function en(i,l){return l=Yo(l,i),i=Np(i,l),i==null||delete i[tr(nr(l))]}function Ea(i,l,h,g){return wl(i,l,h(Hr(i,l)),g)}function nu(i,l,h,g){for(var E=i.length,R=g?E:-1;(g?R--:++R<E)&&l(i[R],R,i););return h?er(i,g?0:R,g?R+1:E):er(i,g?R+1:0,g?E:R)}function su(i,l){var h=i;return h instanceof Tt&&(h=h.value()),Zn(l,function(g,E){return E.func.apply(E.thisArg,Io([g],E.args))},h)}function ru(i,l,h){var g=i.length;if(g<2)return g?Go(i[0]):[];for(var E=-1,R=Q(g);++E<g;)for(var P=i[E],$=-1;++$<g;)$!=E&&(R[E]=yl(R[E]||P,i[$],l,h));return Go(dn(R,1),l,h)}function xd(i,l,h){for(var g=-1,E=i.length,R=l.length,P={};++g<E;){var $=g<R?l[g]:f;h(P,i[g],$)}return P}function ou(i){return _n(i)?i:[]}function Nd(i){return typeof i=="function"?i:Ts}function Yo(i,l){return dt(i)?i:ho(i,l)?[i]:Na(Ht(i))}var Rd=bt;function Xo(i,l,h){var g=i.length;return h=h===f?g:h,!l&&h>=g?i:er(i,l,h)}var mp=g_||function(i){return Hn.clearTimeout(i)};function Od(i,l){if(l)return i.slice();var h=i.length,g=nd?nd(h):new i.constructor(h);return i.copy(g),g}function wa(i){var l=new i.constructor(i.byteLength);return new Is(l).set(new Is(i)),l}function hp(i,l){var h=l?wa(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}function Sl(i){var l=new i.constructor(i.source,Of.exec(i));return l.lastIndex=i.lastIndex,l}function F_(i){return ba?qt(ba.call(i)):{}}function kd(i,l){var h=l?wa(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function pp(i,l){if(i!==l){var h=i!==f,g=i===null,E=i===i,R=Us(i),P=l!==f,$=l===null,q=l===l,ce=Us(l);if(!$&&!ce&&!R&&i>l||R&&P&&q&&!$&&!ce||g&&P&&q||!h&&q||!E)return 1;if(!g&&!R&&!ce&&i<l||ce&&h&&E&&!g&&!R||$&&h&&E||!P&&E||!q)return-1}return 0}function gp(i,l,h){for(var g=-1,E=i.criteria,R=l.criteria,P=E.length,$=h.length;++g<P;){var q=pp(E[g],R[g]);if(q){if(g>=$)return q;var ce=h[g];return q*(ce=="desc"?-1:1)}}return i.index-l.index}function bp(i,l,h,g){for(var E=-1,R=i.length,P=h.length,$=-1,q=l.length,ce=kn(R-P,0),ue=Q(q+ce),he=!g;++$<q;)ue[$]=l[$];for(;++E<P;)(he||E<R)&&(ue[h[E]]=i[E]);for(;ce--;)ue[$++]=i[E++];return ue}function Dd(i,l,h,g){for(var E=-1,R=i.length,P=-1,$=h.length,q=-1,ce=l.length,ue=kn(R-$,0),he=Q(ue+ce),Re=!g;++E<ue;)he[E]=i[E];for(var Fe=E;++q<ce;)he[Fe+q]=l[q];for(;++P<$;)(Re||E<R)&&(he[Fe+h[P]]=i[E++]);return he}function ys(i,l){var h=-1,g=i.length;for(l||(l=Q(g));++h<g;)l[h]=i[h];return l}function br(i,l,h,g){var E=!h;h||(h={});for(var R=-1,P=l.length;++R<P;){var $=l[R],q=g?g(h[$],i[$],$,h,i):f;q===f&&(q=i[$]),E?Ur(h,$,q):_l(h,$,q)}return h}function QS(i,l){return br(i,Fd(i),l)}function vp(i,l){return br(i,wp(i),l)}function iu(i,l){return function(h,g){var E=dt(h)?Mh:XS,R=l?l():{};return E(h,i,Je(g,2),R)}}function Li(i){return bt(function(l,h){var g=-1,E=h.length,R=E>1?h[E-1]:f,P=E>2?h[2]:f;for(R=i.length>3&&typeof R=="function"?(E--,R):f,P&&is(h[0],h[1],P)&&(R=E<3?f:R,E=1),l=qt(l);++g<E;){var $=h[g];$&&i(l,$,g,R)}return l})}function _p(i,l){return function(h,g){if(h==null)return h;if(!Es(h))return i(h,g);for(var E=h.length,R=l?E:-1,P=qt(h);(l?R--:++R<E)&&g(P[R],R,P)!==!1;);return h}}function Pd(i){return function(l,h,g){for(var E=-1,R=qt(l),P=g(l),$=P.length;$--;){var q=P[i?$:++E];if(h(R[q],q,R)===!1)break}return l}}function U_(i,l,h){var g=l&Ge,E=Bi(i);function R(){var P=this&&this!==Hn&&this instanceof R?E:i;return P.apply(g?h:this,arguments)}return R}function yp(i){return function(l){l=Ht(l);var h=ua(l)?Gs(l):f,g=h?h[0]:l.charAt(0),E=h?Xo(h,1).join(""):l.slice(1);return g[i]()+E}}function Sa(i){return function(l){return Zn(gm(Eg(l).replace(Xv,"")),i,"")}}function Bi(i){return function(){var l=arguments;switch(l.length){case 0:return new i;case 1:return new i(l[0]);case 2:return new i(l[0],l[1]);case 3:return new i(l[0],l[1],l[2]);case 4:return new i(l[0],l[1],l[2],l[3]);case 5:return new i(l[0],l[1],l[2],l[3],l[4]);case 6:return new i(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new i(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=Xs(i.prototype),g=i.apply(h,l);return ln(g)?g:h}}function H_(i,l,h){var g=Bi(i);function E(){for(var R=arguments.length,P=Q(R),$=R,q=Ii(E);$--;)P[$]=arguments[$];var ce=R<3&&P[0]!==q&&P[R-1]!==q?[]:Bn(P,q);if(R-=ce.length,R<h)return Bd(i,l,au,E.placeholder,f,P,ce,f,f,h-R);var ue=this&&this!==Hn&&this instanceof E?g:i;return zn(ue,this,P)}return E}function Al(i){return function(l,h,g){var E=qt(l);if(!Es(l)){var R=Je(h,3);l=In(l),h=function($){return R(E[$],$,E)}}var P=i(l,h,g);return P>-1?E[R?l[P]:P]:f}}function Tl(i){return tn(function(l){var h=l.length,g=h,E=Qs.prototype.thru;for(i&&l.reverse();g--;){var R=l[g];if(typeof R!="function")throw new ps(O);if(E&&!P&&bn(R)=="wrapper")var P=new Qs([],!0)}for(g=P?g:h;++g<h;){R=l[g];var $=bn(R),q=$=="wrapper"?$d(R):f;q&&Wd(q[0])&&q[1]==(_t|Ze|We|yt)&&!q[4].length&&q[9]==1?P=P[bn(q[0])].apply(P,q[3]):P=R.length==1&&Wd(R)?P[$]():P.thru(R)}return function(){var ce=arguments,ue=ce[0];if(P&&ce.length==1&&dt(ue))return P.plant(ue).value();for(var he=0,Re=h?l[he].apply(this,ce):ue;++he<h;)Re=l[he].call(this,Re);return Re}})}function au(i,l,h,g,E,R,P,$,q,ce){var ue=l&_t,he=l&Ge,Re=l&rt,Fe=l&(Ze|it),nt=l&ft,vt=Re?f:Bi(i);function st(){for(var wt=arguments.length,Rt=Q(wt),xs=wt;xs--;)Rt[xs]=arguments[xs];if(Fe)var ns=Ii(st),as=i_(Rt,ns);if(g&&(Rt=bp(Rt,g,E,Fe)),R&&(Rt=Dd(Rt,R,P,Fe)),wt-=as,Fe&&wt<ce){var Cn=Bn(Rt,ns);return Bd(i,l,au,st.placeholder,h,Rt,Cn,$,q,ce-wt)}var Cr=he?h:this,vo=Re?Cr[i]:i;return wt=Rt.length,$?Rt=Q_(Rt,$):nt&&wt>1&&Rt.reverse(),ue&&q<wt&&(Rt.length=q),this&&this!==Hn&&this instanceof st&&(vo=vt||Bi(vo)),vo.apply(Cr,Rt)}return st}function Cp(i,l){return function(h,g){return Pn(h,i,l(g),{})}}function lu(i,l){return function(h,g){var E;if(h===f&&g===f)return l;if(h!==f&&(E=h),g!==f){if(E===f)return g;typeof h=="string"||typeof g=="string"?(h=Ms(h),g=Ms(g)):(h=dp(h),g=dp(g)),E=i(h,g)}return E}}function fo(i){return tn(function(l){return l=Jt(l,ms(Je())),bt(function(h){var g=this;return i(l,function(E){return zn(E,g,h)})})})}function cu(i,l){l=l===f?" ":Ms(l);var h=l.length;if(h<2)return h?Ad(l,i):l;var g=Ad(l,Mo(i/hs(l)));return ua(l)?Xo(Gs(g),0,i).join(""):g.slice(0,i)}function W_(i,l,h,g){var E=l&Ge,R=Bi(i);function P(){for(var $=-1,q=arguments.length,ce=-1,ue=g.length,he=Q(ue+q),Re=this&&this!==Hn&&this instanceof P?R:i;++ce<ue;)he[ce]=g[ce];for(;q--;)he[ce++]=arguments[++$];return zn(Re,E?h:this,he)}return P}function Ld(i){return function(l,h,g){return g&&typeof g!="number"&&is(l,h,g)&&(h=g=f),l=bo(l),h===f?(h=l,l=0):h=bo(h),g=g===f?l<h?1:-1:bo(g),B_(l,h,g,i)}}function Aa(i){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=Ss(l),h=Ss(h)),i(l,h)}}function Bd(i,l,h,g,E,R,P,$,q,ce){var ue=l&Ze,he=ue?P:f,Re=ue?f:P,Fe=ue?R:f,nt=ue?f:R;l|=ue?We:ht,l&=~(ue?ht:We),l&pe||(l&=~(Ge|rt));var vt=[i,l,E,Fe,he,nt,Re,$,q,ce],st=h.apply(f,vt);return Wd(i)&&Ol(st,vt),st.placeholder=g,vn(st,i,l)}function Id(i){var l=Tn[i];return function(h,g){if(h=Ss(h),g=g==null?0:Jn(lt(g),292),g&&od(h)){var E=(Ht(h)+"e").split("e"),R=l(E[0]+"e"+(+E[1]+g));return E=(Ht(R)+"e").split("e"),+(E[0]+"e"+(+E[1]-g))}return l(h)}}var Ep=pa&&1/fl(new pa([,-0]))[1]==ae?function(i){return new pa(i)}:qi;function uu(i){return function(l){var h=es(l);return h==At?D(l):h==Vt?c_(l):Hh(l,i(l))}}function Qo(i,l,h,g,E,R,P,$){var q=l&rt;if(!q&&typeof i!="function")throw new ps(O);var ce=g?g.length:0;if(ce||(l&=~(We|ht),g=E=f),P=P===f?P:kn(lt(P),0),$=$===f?$:lt($),ce-=E?E.length:0,l&ht){var ue=g,he=E;g=E=f}var Re=q?f:$d(i),Fe=[i,l,h,g,E,ue,he,R,P,$];if(Re&&Y_(Fe,Re),i=Fe[0],l=Fe[1],h=Fe[2],g=Fe[3],E=Fe[4],$=Fe[9]=Fe[9]===f?q?0:i.length:kn(Fe[9]-ce,0),!$&&l&(Ze|it)&&(l&=~(Ze|it)),!l||l==Ge)var nt=U_(i,l,h);else l==Ze||l==it?nt=H_(i,l,$):(l==We||l==(Ge|We))&&!E.length?nt=W_(i,l,h,g):nt=au.apply(f,Fe);var vt=Re?Td:Ol;return vn(vt(nt,Fe),i,l)}function z_(i,l,h,g){return i===f||rr(i,Bs[h])&&!Kt.call(g,h)?l:i}function mo(i,l,h,g,E,R){return ln(i)&&ln(l)&&(R.set(l,i),Jc(i,l,f,mo,R),R.delete(l)),i}function fu(i){return La(i)?f:i}function xl(i,l,h,g,E,R){var P=h&Ae,$=i.length,q=l.length;if($!=q&&!(P&&q>$))return!1;var ce=R.get(i),ue=R.get(l);if(ce&&ue)return ce==l&&ue==i;var he=-1,Re=!0,Fe=h&De?new bs:f;for(R.set(i,l),R.set(l,i);++he<$;){var nt=i[he],vt=l[he];if(g)var st=P?g(vt,nt,he,l,i,R):g(nt,vt,he,i,l,R);if(st!==f){if(st)continue;Re=!1;break}if(Fe){if(!Kf(l,function(wt,Rt){if(!uo(Fe,Rt)&&(nt===wt||E(nt,wt,h,g,R)))return Fe.push(Rt)})){Re=!1;break}}else if(!(nt===vt||E(nt,vt,h,g,R))){Re=!1;break}}return R.delete(i),R.delete(l),Re}function V_(i,l,h,g,E,R,P){switch(h){case Ds:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case fs:return!(i.byteLength!=l.byteLength||!R(new Is(i),new Is(l)));case rs:case no:case at:return rr(+i,+l);case so:return i.name==l.name&&i.message==l.message;case Xn:case ro:return i==l+"";case At:var $=D;case Vt:var q=g&Ae;if($||($=fl),i.size!=l.size&&!q)return!1;var ce=P.get(i);if(ce)return ce==l;g|=De,P.set(i,l);var ue=xl($(i),$(l),g,E,R,P);return P.delete(i),ue;case Zt:if(ba)return ba.call(i)==ba.call(l)}return!1}function Ta(i,l,h,g,E,R){var P=h&Ae,$=Nl(i),q=$.length,ce=Nl(l),ue=ce.length;if(q!=ue&&!P)return!1;for(var he=q;he--;){var Re=$[he];if(!(P?Re in l:Kt.call(l,Re)))return!1}var Fe=R.get(i),nt=R.get(l);if(Fe&&nt)return Fe==l&&nt==i;var vt=!0;R.set(i,l),R.set(l,i);for(var st=P;++he<q;){Re=$[he];var wt=i[Re],Rt=l[Re];if(g)var xs=P?g(Rt,wt,Re,l,i,R):g(wt,Rt,Re,i,l,R);if(!(xs===f?wt===Rt||E(wt,Rt,h,g,R):xs)){vt=!1;break}st||(st=Re=="constructor")}if(vt&&!st){var ns=i.constructor,as=l.constructor;ns!=as&&"constructor"in i&&"constructor"in l&&!(typeof ns=="function"&&ns instanceof ns&&typeof as=="function"&&as instanceof as)&&(vt=!1)}return R.delete(i),R.delete(l),vt}function tn(i){return vr(Nt(i,f,ei),i+"")}function Nl(i){return op(i,In,Fd)}function du(i){return op(i,As,wp)}var $d=ga?function(i){return ga.get(i)}:qi;function bn(i){for(var l=i.name+"",h=Ho[l],g=Kt.call(Ho,l)?h.length:0;g--;){var E=h[g],R=E.func;if(R==null||R==i)return E.name}return l}function Ii(i){var l=Kt.call(A,"placeholder")?A:i;return l.placeholder}function Je(){var i=A.iteratee||Vr;return i=i===Vr?Cl:i,arguments.length?i(arguments[0],arguments[1]):i}function mu(i,l){var h=i.__data__;return Hd(l)?h[typeof l=="string"?"string":"hash"]:h.map}function Rl(i){for(var l=In(i),h=l.length;h--;){var g=l[h],E=i[g];l[h]=[g,E,Vd(E)]}return l}function Cs(i,l){var h=l_(i,l);return ip(h)?h:f}function Md(i){var l=Kt.call(i,$o),h=i[$o];try{i[$o]=f;var g=!0}catch{}var E=Uc.call(i);return g&&(l?i[$o]=h:delete i[$o]),E}var Fd=Fr?function(i){return i==null?[]:(i=qt(i),lo(Fr(i),function(l){return rd.call(i,l)}))}:Cm,wp=Fr?function(i){for(var l=[];i;)Io(l,Fd(i)),i=Ti(i);return l}:Cm,es=os;(id&&es(new id(new ArrayBuffer(1)))!=Ds||ha&&es(new ha)!=At||Fo&&es(Fo.resolve())!=ko||pa&&es(new pa)!=Vt||Uo&&es(new Uo)!=io)&&(es=function(i){var l=os(i),h=l==ks?i.constructor:f,g=h?Zo(h):"";if(g)switch(g){case jh:return Ds;case Gh:return At;case E_:return ko;case Yh:return Vt;case Xh:return io}return l});function q_(i,l,h){for(var g=-1,E=h.length;++g<E;){var R=h[g],P=R.size;switch(R.type){case"drop":i+=P;break;case"dropRight":l-=P;break;case"take":l=Jn(l,i+P);break;case"takeRight":i=kn(i,l-P);break}}return{start:i,end:l}}function Sp(i){var l=i.match(Uv);return l?l[1].split(xc):[]}function hu(i,l,h){l=Yo(l,i);for(var g=-1,E=l.length,R=!1;++g<E;){var P=tr(l[g]);if(!(R=i!=null&&h(i,P)))break;i=i[P]}return R||++g!=E?R:(E=i==null?0:i.length,!!E&&Ul(E)&&Fs(P,E)&&(dt(i)||si(i)))}function K_(i){var l=i.length,h=new i.constructor(l);return l&&typeof i[0]=="string"&&Kt.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function Ap(i){return typeof i.constructor=="function"&&!po(i)?Xs(Ti(i)):{}}function Ud(i,l,h){var g=i.constructor;switch(l){case fs:return wa(i);case rs:case no:return new g(+i);case Ds:return hp(i,h);case el:case tl:case Do:case aa:case Un:case ao:case Qn:case Po:case Af:return kd(i,h);case At:return new g;case at:case ro:return new g(i);case Xn:return Sl(i);case Vt:return new g;case Zt:return F_(i)}}function pu(i,l){var h=l.length;if(!h)return i;var g=h-1;return l[g]=(h>1?"& ":"")+l[g],l=l.join(h>2?", ":" "),i.replace(Nf,`{
/* [wrapped with `+l+`] */
`)}function j_(i){return dt(i)||si(i)||!!(gs&&i&&i[gs])}function Fs(i,l){var h=typeof i;return l=l==null?Yt:l,!!l&&(h=="number"||h!="symbol"&&Vv.test(i))&&i>-1&&i%1==0&&i<l}function is(i,l,h){if(!ln(h))return!1;var g=typeof l;return(g=="number"?Es(h)&&Fs(l,h.length):g=="string"&&l in h)?rr(h[l],i):!1}function ho(i,l){if(dt(i))return!1;var h=typeof i;return h=="number"||h=="symbol"||h=="boolean"||i==null||Us(i)?!0:Ut.test(i)||!xf.test(i)||l!=null&&i in qt(l)}function Hd(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}function Wd(i){var l=bn(i),h=A[l];if(typeof h!="function"||!(l in Tt.prototype))return!1;if(i===h)return!0;var g=$d(h);return!!g&&i===g[0]}function zd(i){return!!td&&td in i}var G_=da?go:or;function po(i){var l=i&&i.constructor,h=typeof l=="function"&&l.prototype||Bs;return i===h}function Vd(i){return i===i&&!ln(i)}function $i(i,l){return function(h){return h==null?!1:h[i]===l&&(l!==f||i in qt(h))}}function Tp(i){var l=Ml(i,function(g){return h.size===Y&&h.clear(),g}),h=l.cache;return l}function Y_(i,l){var h=i[1],g=l[1],E=h|g,R=E<(Ge|rt|_t),P=g==_t&&h==Ze||g==_t&&h==yt&&i[7].length<=l[8]||g==(_t|yt)&&l[7].length<=l[8]&&h==Ze;if(!(R||P))return i;g&Ge&&(i[2]=l[2],E|=h&Ge?0:pe);var $=l[3];if($){var q=i[3];i[3]=q?bp(q,$,l[4]):$,i[4]=q?Bn(i[3],Z):l[4]}return $=l[5],$&&(q=i[5],i[5]=q?Dd(q,$,l[6]):$,i[6]=q?Bn(i[5],Z):l[6]),$=l[7],$&&(i[7]=$),g&_t&&(i[8]=i[8]==null?l[8]:Jn(i[8],l[8])),i[9]==null&&(i[9]=l[9]),i[0]=l[0],i[1]=E,i}function xp(i){var l=[];if(i!=null)for(var h in qt(i))l.push(h);return l}function X_(i){return Uc.call(i)}function Nt(i,l,h){return l=kn(l===f?i.length-1:l,0),function(){for(var g=arguments,E=-1,R=kn(g.length-l,0),P=Q(R);++E<R;)P[E]=g[l+E];E=-1;for(var $=Q(l+1);++E<l;)$[E]=g[E];return $[l]=h(P),zn(i,this,$)}}function Np(i,l){return l.length<2?i:Hr(i,er(l,0,-1))}function Q_(i,l){for(var h=i.length,g=Jn(l.length,h),E=ys(i);g--;){var R=l[g];i[g]=Fs(R,h)?E[R]:f}return i}function qd(i,l){if(!(l==="constructor"&&typeof i[l]=="function")&&l!="__proto__")return i[l]}var Ol=Rp(Td),xa=xi||function(i,l){return Hn.setTimeout(i,l)},vr=Rp($_);function vn(i,l,h){var g=l+"";return vr(i,pu(g,ZS(Sp(g),h)))}function Rp(i){var l=0,h=0;return function(){var g=__(),E=pn-(g-h);if(h=g,E>0){if(++l>=fn)return arguments[0]}else l=0;return i.apply(f,arguments)}}function gu(i,l){var h=-1,g=i.length,E=g-1;for(l=l===f?g:l;++h<l;){var R=Sd(h,E),P=i[R];i[R]=i[h],i[h]=P}return i.length=l,i}var Na=Tp(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(Ye,function(h,g,E,R){l.push(E?R.replace(Hv,"$1"):g||h)}),l});function tr(i){if(typeof i=="string"||Us(i))return i;var l=i+"";return l=="0"&&1/i==-ae?"-0":l}function Zo(i){if(i!=null){try{return Fc.call(i)}catch{}try{return i+""}catch{}}return""}function ZS(i,l){return Ps(Ks,function(h){var g="_."+h[0];l&h[1]&&!Pt(i,g)&&i.push(g)}),i.sort()}function Z_(i){if(i instanceof Tt)return i.clone();var l=new Qs(i.__wrapped__,i.__chain__);return l.__actions__=ys(i.__actions__),l.__index__=i.__index__,l.__values__=i.__values__,l}function JS(i,l,h){(h?is(i,l,h):l===f)?l=1:l=kn(lt(l),0);var g=i==null?0:i.length;if(!g||l<1)return[];for(var E=0,R=0,P=Q(Mo(g/l));E<g;)P[R++]=er(i,E,E+=l);return P}function eA(i){for(var l=-1,h=i==null?0:i.length,g=0,E=[];++l<h;){var R=i[l];R&&(E[g++]=R)}return E}function tA(){var i=arguments.length;if(!i)return[];for(var l=Q(i-1),h=arguments[0],g=i;g--;)l[g-1]=arguments[g];return Io(dt(h)?ys(h):[h],dn(l,1))}var nA=bt(function(i,l){return _n(i)?yl(i,dn(l,1,_n,!0)):[]}),sA=bt(function(i,l){var h=nr(l);return _n(h)&&(h=f),_n(i)?yl(i,dn(l,1,_n,!0),Je(h,2)):[]}),_r=bt(function(i,l){var h=nr(l);return _n(h)&&(h=f),_n(i)?yl(i,dn(l,1,_n,!0),f,h):[]});function Kn(i,l,h){var g=i==null?0:i.length;return g?(l=h||l===f?1:lt(l),er(i,l<0?0:l,g)):[]}function J_(i,l,h){var g=i==null?0:i.length;return g?(l=h||l===f?1:lt(l),l=g-l,er(i,0,l<0?0:l)):[]}function ey(i,l){return i&&i.length?nu(i,Je(l,3),!0,!0):[]}function Jo(i,l){return i&&i.length?nu(i,Je(l,3),!0):[]}function bu(i,l,h,g){var E=i==null?0:i.length;return E?(h&&typeof h!="number"&&is(i,l,h)&&(h=0,g=E),N_(i,l,h,g)):[]}function vu(i,l,h){var g=i==null?0:i.length;if(!g)return-1;var E=h==null?0:lt(h);return E<0&&(E=kn(g+E,0)),dr(i,Je(l,3),E)}function Ra(i,l,h){var g=i==null?0:i.length;if(!g)return-1;var E=g-1;return h!==f&&(E=lt(h),E=h<0?kn(g+E,0):Jn(E,g-1)),dr(i,Je(l,3),E,!0)}function ei(i){var l=i==null?0:i.length;return l?dn(i,1):[]}function Oa(i){var l=i==null?0:i.length;return l?dn(i,ae):[]}function kl(i,l){var h=i==null?0:i.length;return h?(l=l===f?1:lt(l),dn(i,l)):[]}function Dl(i){for(var l=-1,h=i==null?0:i.length,g={};++l<h;){var E=i[l];g[E[0]]=E[1]}return g}function ka(i){return i&&i.length?i[0]:f}function Op(i,l,h){var g=i==null?0:i.length;if(!g)return-1;var E=h==null?0:lt(h);return E<0&&(E=kn(g+E,0)),Vn(i,l,E)}function kp(i){var l=i==null?0:i.length;return l?er(i,0,-1):[]}var ty=bt(function(i){var l=Jt(i,ou);return l.length&&l[0]===i[0]?bd(l):[]}),Dp=bt(function(i){var l=nr(i),h=Jt(i,ou);return l===nr(h)?l=f:h.pop(),h.length&&h[0]===i[0]?bd(h,Je(l,2)):[]}),Pp=bt(function(i){var l=nr(i),h=Jt(i,ou);return l=typeof l=="function"?l:f,l&&h.pop(),h.length&&h[0]===i[0]?bd(h,f,l):[]});function Lp(i,l){return i==null?"":qh.call(i,l)}function nr(i){var l=i==null?0:i.length;return l?i[l-1]:f}function ny(i,l,h){var g=i==null?0:i.length;if(!g)return-1;var E=g;return h!==f&&(E=lt(h),E=E<0?kn(g+E,0):Jn(E,g-1)),l===l?Ct(i,l,E):dr(i,al,E,!0)}function sy(i,l){return i&&i.length?lp(i,lt(l)):f}var Bp=bt(Kd);function Kd(i,l){return i&&i.length&&l&&l.length?wd(i,l):i}function ry(i,l,h){return i&&i.length&&l&&l.length?wd(i,l,Je(h,2)):i}function oy(i,l,h){return i&&i.length&&l&&l.length?wd(i,l,f,h):i}var Ip=tn(function(i,l){var h=i==null?0:i.length,g=md(i,l);return eu(i,Jt(l,function(E){return Fs(E,h)?+E:E}).sort(pp)),g});function Da(i,l){var h=[];if(!(i&&i.length))return h;var g=-1,E=[],R=i.length;for(l=Je(l,3);++g<R;){var P=i[g];l(P,g,i)&&(h.push(P),E.push(g))}return eu(i,E),h}function _u(i){return i==null?i:C_.call(i)}function iy(i,l,h){var g=i==null?0:i.length;return g?(h&&typeof h!="number"&&is(i,l,h)?(l=0,h=g):(l=l==null?0:lt(l),h=h===f?g:lt(h)),er(i,l,h)):[]}function ay(i,l){return tu(i,l)}function $p(i,l,h){return Ca(i,l,Je(h,2))}function Mi(i,l){var h=i==null?0:i.length;if(h){var g=tu(i,l);if(g<h&&rr(i[g],l))return g}return-1}function Pa(i,l){return tu(i,l,!0)}function Fi(i,l,h){return Ca(i,l,Je(h,2),!0)}function Mp(i,l){var h=i==null?0:i.length;if(h){var g=tu(i,l,!0)-1;if(rr(i[g],l))return g}return-1}function ly(i){return i&&i.length?fp(i):[]}function Fp(i,l){return i&&i.length?fp(i,Je(l,2)):[]}function Pl(i){var l=i==null?0:i.length;return l?er(i,1,l):[]}function Ll(i,l,h){return i&&i.length?(l=h||l===f?1:lt(l),er(i,0,l<0?0:l)):[]}function cy(i,l,h){var g=i==null?0:i.length;return g?(l=h||l===f?1:lt(l),l=g-l,er(i,l<0?0:l,g)):[]}function uy(i,l){return i&&i.length?nu(i,Je(l,3),!1,!0):[]}function Up(i,l){return i&&i.length?nu(i,Je(l,3)):[]}var fy=bt(function(i){return Go(dn(i,1,_n,!0))}),dy=bt(function(i){var l=nr(i);return _n(l)&&(l=f),Go(dn(i,1,_n,!0),Je(l,2))}),yu=bt(function(i){var l=nr(i);return l=typeof l=="function"?l:f,Go(dn(i,1,_n,!0),f,l)});function ti(i){return i&&i.length?Go(i):[]}function my(i,l){return i&&i.length?Go(i,Je(l,2)):[]}function hy(i,l){return l=typeof l=="function"?l:f,i&&i.length?Go(i,f,l):[]}function Cu(i){if(!(i&&i.length))return[];var l=0;return i=lo(i,function(h){if(_n(h))return l=kn(h.length,l),!0}),Ai(l,function(h){return Jt(i,Gf(h))})}function Hp(i,l){if(!(i&&i.length))return[];var h=Cu(i);return l==null?h:Jt(h,function(g){return zn(l,f,g)})}var py=bt(function(i,l){return _n(i)?yl(i,l):[]}),Wp=bt(function(i){return ru(lo(i,_n))}),gy=bt(function(i){var l=nr(i);return _n(l)&&(l=f),ru(lo(i,_n),Je(l,2))}),zp=bt(function(i){var l=nr(i);return l=typeof l=="function"?l:f,ru(lo(i,_n),f,l)}),by=bt(Cu);function Bl(i,l){return xd(i||[],l||[],_l)}function vy(i,l){return xd(i||[],l||[],wl)}var Il=bt(function(i){var l=i.length,h=l>1?i[l-1]:f;return h=typeof h=="function"?(i.pop(),h):f,Hp(i,h)});function Eu(i){var l=A(i);return l.__chain__=!0,l}function Vp(i,l){return l(i),i}function Ui(i,l){return l(i)}var jd=tn(function(i){var l=i.length,h=l?i[0]:0,g=this.__wrapped__,E=function(R){return md(R,i)};return l>1||this.__actions__.length||!(g instanceof Tt)||!Fs(h)?this.thru(E):(g=g.slice(h,+h+(l?1:0)),g.__actions__.push({func:Ui,args:[E],thisArg:f}),new Qs(g,this.__chain__).thru(function(R){return l&&!R.length&&R.push(f),R}))});function Gd(){return Eu(this)}function qp(){return new Qs(this.value(),this.__chain__)}function Yd(){this.__values__===f&&(this.__values__=fm(this.value()));var i=this.__index__>=this.__values__.length,l=i?f:this.__values__[this.__index__++];return{done:i,value:l}}function _y(){return this}function yy(i){for(var l,h=this;h instanceof Vc;){var g=Z_(h);g.__index__=0,g.__values__=f,l?E.__wrapped__=g:l=g;var E=g;h=h.__wrapped__}return E.__wrapped__=i,l}function Kp(){var i=this.__wrapped__;if(i instanceof Tt){var l=i;return this.__actions__.length&&(l=new Tt(this)),l=l.reverse(),l.__actions__.push({func:Ui,args:[_u],thisArg:f}),new Qs(l,this.__chain__)}return this.thru(_u)}function ni(){return su(this.__wrapped__,this.__actions__)}var Hi=iu(function(i,l,h){Kt.call(i,h)?++i[h]:Ur(i,h,1)});function Cy(i,l,h){var g=dt(i)?ca:Vo;return h&&is(i,l,h)&&(l=f),g(i,Je(l,3))}function j(i,l){var h=dt(i)?lo:Yc;return h(i,Je(l,3))}var wu=Al(vu),Ey=Al(Ra);function wy(i,l){return dn(Su(i,l),1)}function Xd(i,l){return dn(Su(i,l),ae)}function yr(i,l,h){return h=h===f?1:lt(h),dn(Su(i,l),h)}function Qd(i,l){var h=dt(i)?Ps:zo;return h(i,Je(l,3))}function Zd(i,l){var h=dt(i)?Fh:rp;return h(i,Je(l,3))}var jp=iu(function(i,l,h){Kt.call(i,h)?i[h].push(l):Ur(i,h,[l])});function Jd(i,l,h,g){i=Es(i)?i:Ba(i),h=h&&!g?lt(h):0;var E=i.length;return h<0&&(h=kn(E+h,0)),Nu(i)?h<=E&&i.indexOf(l,h)>-1:!!E&&Vn(i,l,h)>-1}var Sy=bt(function(i,l,h){var g=-1,E=typeof l=="function",R=Es(i)?Q(i.length):[];return zo(i,function(P){R[++g]=E?zn(l,P,h):Ko(P,l,h)}),R}),Gp=iu(function(i,l,h){Ur(i,h,l)});function Su(i,l){var h=dt(i)?Jt:yd;return h(i,Je(l,3))}function Yp(i,l,h,g){return i==null?[]:(dt(l)||(l=l==null?[]:[l]),h=g?f:h,dt(h)||(h=h==null?[]:[h]),Ed(i,l,h))}var Ay=iu(function(i,l,h){i[h?0:1].push(l)},function(){return[[],[]]});function Xp(i,l,h){var g=dt(i)?Zn:$c,E=arguments.length<3;return g(i,Je(l,4),h,E,zo)}function Ty(i,l,h){var g=dt(i)?Ls:$c,E=arguments.length<3;return g(i,Je(l,4),h,E,rp)}function xy(i,l){var h=dt(i)?lo:Yc;return h(i,om(Je(l,3)))}function Qp(i){var l=dt(i)?tp:I_;return l(i)}function Au(i,l,h){(h?is(i,l,h):l===f)?l=1:l=lt(l);var g=dt(i)?va:Pi;return g(i,l)}function Ny(i){var l=dt(i)?xn:up;return l(i)}function Zp(i){if(i==null)return 0;if(Es(i))return Nu(i)?hs(i):i.length;var l=es(i);return l==At||l==Vt?i.size:ya(i).length}function Ry(i,l,h){var g=dt(i)?Kf:M_;return h&&is(i,l,h)&&(l=f),g(i,Je(l,3))}var em=bt(function(i,l){if(i==null)return[];var h=l.length;return h>1&&is(i,l[0],l[1])?l=[]:h>2&&is(l[0],l[1],l[2])&&(l=[l[0]]),Ed(i,dn(l,1),[])}),$l=b_||function(){return Hn.Date.now()};function Jp(i,l){if(typeof l!="function")throw new ps(O);return i=lt(i),function(){if(--i<1)return l.apply(this,arguments)}}function tm(i,l,h){return l=h?f:l,l=i&&l==null?i.length:l,Qo(i,_t,f,f,f,f,l)}function eg(i,l){var h;if(typeof l!="function")throw new ps(O);return i=lt(i),function(){return--i>0&&(h=l.apply(this,arguments)),i<=1&&(l=f),h}}var Tu=bt(function(i,l,h){var g=Ge;if(h.length){var E=Bn(h,Ii(Tu));g|=We}return Qo(i,g,l,h,E)}),tg=bt(function(i,l,h){var g=Ge|rt;if(h.length){var E=Bn(h,Ii(tg));g|=We}return Qo(l,g,i,h,E)});function ng(i,l,h){l=h?f:l;var g=Qo(i,Ze,f,f,f,f,f,l);return g.placeholder=ng.placeholder,g}function nm(i,l,h){l=h?f:l;var g=Qo(i,it,f,f,f,f,f,l);return g.placeholder=nm.placeholder,g}function sm(i,l,h){var g,E,R,P,$,q,ce=0,ue=!1,he=!1,Re=!0;if(typeof i!="function")throw new ps(O);l=Ss(l)||0,ln(h)&&(ue=!!h.leading,he="maxWait"in h,R=he?kn(Ss(h.maxWait)||0,l):R,Re="trailing"in h?!!h.trailing:Re);function Fe(Cn){var Cr=g,vo=E;return g=E=f,ce=Cn,P=i.apply(vo,Cr),P}function nt(Cn){return ce=Cn,$=xa(wt,l),ue?Fe(Cn):P}function vt(Cn){var Cr=Cn-q,vo=Cn-ce,Hg=l-Cr;return he?Jn(Hg,R-vo):Hg}function st(Cn){var Cr=Cn-q,vo=Cn-ce;return q===f||Cr>=l||Cr<0||he&&vo>=R}function wt(){var Cn=$l();if(st(Cn))return Rt(Cn);$=xa(wt,vt(Cn))}function Rt(Cn){return $=f,Re&&g?Fe(Cn):(g=E=f,P)}function xs(){$!==f&&mp($),ce=0,g=q=E=$=f}function ns(){return $===f?P:Rt($l())}function as(){var Cn=$l(),Cr=st(Cn);if(g=arguments,E=this,q=Cn,Cr){if($===f)return nt(q);if(he)return mp($),$=xa(wt,l),Fe(q)}return $===f&&($=xa(wt,l)),P}return as.cancel=xs,as.flush=ns,as}var Oy=bt(function(i,l){return sp(i,1,l)}),rm=bt(function(i,l,h){return sp(i,Ss(l)||0,h)});function sg(i){return Qo(i,ft)}function Ml(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new ps(O);var h=function(){var g=arguments,E=l?l.apply(this,g):g[0],R=h.cache;if(R.has(E))return R.get(E);var P=i.apply(this,g);return h.cache=R.set(E,P)||R,P};return h.cache=new(Ml.Cache||qn),h}Ml.Cache=qn;function om(i){if(typeof i!="function")throw new ps(O);return function(){var l=arguments;switch(l.length){case 0:return!i.call(this);case 1:return!i.call(this,l[0]);case 2:return!i.call(this,l[0],l[1]);case 3:return!i.call(this,l[0],l[1],l[2])}return!i.apply(this,l)}}function ts(i){return eg(2,i)}var rA=Rd(function(i,l){l=l.length==1&&dt(l[0])?Jt(l[0],ms(Je())):Jt(dn(l,1),ms(Je()));var h=l.length;return bt(function(g){for(var E=-1,R=Jn(g.length,h);++E<R;)g[E]=l[E].call(this,g[E]);return zn(i,this,g)})}),sr=bt(function(i,l){var h=Bn(l,Ii(sr));return Qo(i,We,f,l,h)}),rg=bt(function(i,l){var h=Bn(l,Ii(rg));return Qo(i,ht,f,l,h)}),ky=tn(function(i,l){return Qo(i,yt,f,f,f,l)});function Dy(i,l){if(typeof i!="function")throw new ps(O);return l=l===f?l:lt(l),bt(i,l)}function Py(i,l){if(typeof i!="function")throw new ps(O);return l=l==null?0:kn(lt(l),0),bt(function(h){var g=h[l],E=Xo(h,0,l);return g&&Io(E,g),zn(i,this,E)})}function og(i,l,h){var g=!0,E=!0;if(typeof i!="function")throw new ps(O);return ln(h)&&(g="leading"in h?!!h.leading:g,E="trailing"in h?!!h.trailing:E),sm(i,l,{leading:g,maxWait:l,trailing:E})}function ig(i){return tm(i,1)}function Ly(i,l){return sr(Nd(l),i)}function ag(){if(!arguments.length)return[];var i=arguments[0];return dt(i)?i:[i]}function By(i){return Zs(i,Ce)}function im(i,l){return l=typeof l=="function"?l:f,Zs(i,Ce,l)}function Iy(i){return Zs(i,ke|Ce)}function $y(i,l){return l=typeof l=="function"?l:f,Zs(i,ke|Ce,l)}function My(i,l){return l==null||np(i,l,In(l))}function rr(i,l){return i===l||i!==i&&l!==l}var Ee=Aa(pd),am=Aa(function(i,l){return i>=l}),si=Wr(function(){return arguments}())?Wr:function(i){return yn(i)&&Kt.call(i,"callee")&&!rd.call(i,"callee")},dt=Q.isArray,Fy=s_?ms(s_):O_;function Es(i){return i!=null&&Ul(i.length)&&!go(i)}function _n(i){return yn(i)&&Es(i)}function Uy(i){return i===!0||i===!1||yn(i)&&os(i)==rs}var ri=v_||or,lg=ie?ms(ie):_a;function Hy(i){return yn(i)&&i.nodeType===1&&!La(i)}function ws(i){if(i==null)return!0;if(Es(i)&&(dt(i)||typeof i=="string"||typeof i.splice=="function"||ri(i)||Wi(i)||si(i)))return!i.length;var l=es(i);if(l==At||l==Vt)return!i.size;if(po(i))return!ya(i).length;for(var h in i)if(Kt.call(i,h))return!1;return!0}function Fl(i,l){return zr(i,l)}function Wy(i,l,h){h=typeof h=="function"?h:f;var g=h?h(i,l):f;return g===f?zr(i,l,f,h):!!g}function lm(i){if(!yn(i))return!1;var l=os(i);return l==so||l==Sf||typeof i.message=="string"&&typeof i.name=="string"&&!La(i)}function zy(i){return typeof i=="number"&&od(i)}function go(i){if(!ln(i))return!1;var l=os(i);return l==ia||l==St||l==C||l==Be}function cg(i){return typeof i=="number"&&i==lt(i)}function Ul(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Yt}function ln(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}function yn(i){return i!=null&&typeof i=="object"}var cm=Si?ms(Si):$s;function Vy(i,l){return i===l||Zc(i,l,Rl(l))}function qy(i,l,h){return h=typeof h=="function"?h:f,Zc(i,l,Rl(l),h)}function Ky(i){return xu(i)&&i!=+i}function jy(i){if(G_(i))throw new He(k);return ip(i)}function Gy(i){return i===null}function Yy(i){return i==null}function xu(i){return typeof i=="number"||yn(i)&&os(i)==at}function La(i){if(!yn(i)||os(i)!=ks)return!1;var l=Ti(i);if(l===null)return!0;var h=Kt.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Fc.call(h)==ma}var um=Ih?ms(Ih):vd;function ug(i){return cg(i)&&i>=-Yt&&i<=Yt}var fg=Wn?ms(Wn):_d;function Nu(i){return typeof i=="string"||!dt(i)&&yn(i)&&os(i)==ro}function Us(i){return typeof i=="symbol"||yn(i)&&os(i)==Zt}var Wi=$h?ms($h):k_;function Xy(i){return i===f}function Qy(i){return yn(i)&&es(i)==io}function dg(i){return yn(i)&&os(i)==js}var Zy=Aa(El),Jy=Aa(function(i,l){return i<=l});function fm(i){if(!i)return[];if(Es(i))return Nu(i)?Gs(i):ys(i);if(Ys&&i[Ys])return YS(i[Ys]());var l=es(i),h=l==At?D:l==Vt?fl:Ba;return h(i)}function bo(i){if(!i)return i===0?i:0;if(i=Ss(i),i===ae||i===-ae){var l=i<0?-1:1;return l*to}return i===i?i:0}function lt(i){var l=bo(i),h=l%1;return l===l?h?l-h:l:0}function mg(i){return i?ki(lt(i),0,Fn):0}function Ss(i){if(typeof i=="number")return i;if(Us(i))return _e;if(ln(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=ln(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=Xf(i);var h=vi.test(i);return h||zv.test(i)?t_(i.slice(2),h?2:8):bi.test(i)?_e:+i}function hg(i){return br(i,As(i))}function Hl(i){return i?ki(lt(i),-Yt,Yt):i===0?i:0}function Ht(i){return i==null?"":Ms(i)}var eC=Li(function(i,l){if(po(l)||Es(l)){br(l,In(l),i);return}for(var h in l)Kt.call(l,h)&&_l(i,h,l[h])}),pg=Li(function(i,l){br(l,As(l),i)}),Ru=Li(function(i,l,h,g){br(l,As(l),i,g)}),tC=Li(function(i,l,h,g){br(l,In(l),i,g)}),dm=tn(md);function nC(i,l){var h=Xs(i);return l==null?h:fd(h,l)}var sC=bt(function(i,l){i=qt(i);var h=-1,g=l.length,E=g>2?l[2]:f;for(E&&is(l[0],l[1],E)&&(g=1);++h<g;)for(var R=l[h],P=As(R),$=-1,q=P.length;++$<q;){var ce=P[$],ue=i[ce];(ue===f||rr(ue,Bs[ce])&&!Kt.call(i,ce))&&(i[ce]=R[ce])}return i}),rC=bt(function(i){return i.push(f,mo),zn(Wl,f,i)});function oC(i,l){return En(i,Je(l,3),_s)}function iC(i,l){return En(i,Je(l,3),hd)}function aC(i,l){return i==null?i:Xc(i,Je(l,3),As)}function gg(i,l){return i==null?i:Qc(i,Je(l,3),As)}function bg(i,l){return i&&_s(i,Je(l,3))}function Ou(i,l){return i&&hd(i,Je(l,3))}function lC(i){return i==null?[]:qo(i,In(i))}function cC(i){return i==null?[]:qo(i,As(i))}function mm(i,l,h){var g=i==null?f:Hr(i,l);return g===f?h:g}function uC(i,l){return i!=null&&hu(i,l,R_)}function ku(i,l){return i!=null&&hu(i,l,gd)}var fC=Cp(function(i,l,h){l!=null&&typeof l.toString!="function"&&(l=Uc.call(l)),i[l]=h},oi(Ts)),dC=Cp(function(i,l,h){l!=null&&typeof l.toString!="function"&&(l=Uc.call(l)),Kt.call(i,l)?i[l].push(h):i[l]=[h]},Je),mC=bt(Ko);function In(i){return Es(i)?gr(i):ya(i)}function As(i){return Es(i)?gr(i,!0):D_(i)}function hC(i,l){var h={};return l=Je(l,3),_s(i,function(g,E,R){Ur(h,l(g,E,R),g)}),h}function pC(i,l){var h={};return l=Je(l,3),_s(i,function(g,E,R){Ur(h,E,l(g,E,R))}),h}var gC=Li(function(i,l,h){Jc(i,l,h)}),Wl=Li(function(i,l,h,g){Jc(i,l,h,g)}),bC=tn(function(i,l){var h={};if(i==null)return h;var g=!1;l=Jt(l,function(R){return R=Yo(R,i),g||(g=R.length>1),R}),br(i,du(i),h),g&&(h=Zs(h,ke|qe|Ce,fu));for(var E=l.length;E--;)en(h,l[E]);return h});function vC(i,l){return vg(i,om(Je(l)))}var _C=tn(function(i,l){return i==null?{}:L_(i,l)});function vg(i,l){if(i==null)return{};var h=Jt(du(i),function(g){return[g]});return l=Je(l),cp(i,h,function(g,E){return l(g,E[0])})}function yC(i,l,h){l=Yo(l,i);var g=-1,E=l.length;for(E||(E=1,i=f);++g<E;){var R=i==null?f:i[tr(l[g])];R===f&&(g=E,R=h),i=go(R)?R.call(i):R}return i}function CC(i,l,h){return i==null?i:wl(i,l,h)}function EC(i,l,h,g){return g=typeof g=="function"?g:f,i==null?i:wl(i,l,h,g)}var _g=uu(In),yg=uu(As);function wC(i,l,h){var g=dt(i),E=g||ri(i)||Wi(i);if(l=Je(l,4),h==null){var R=i&&i.constructor;E?h=g?new R:[]:ln(i)?h=go(R)?Xs(Ti(i)):{}:h={}}return(E?Ps:_s)(i,function(P,$,q){return l(h,P,$,q)}),h}function SC(i,l){return i==null?!0:en(i,l)}function Cg(i,l,h){return i==null?i:Ea(i,l,Nd(h))}function AC(i,l,h,g){return g=typeof g=="function"?g:f,i==null?i:Ea(i,l,Nd(h),g)}function Ba(i){return i==null?[]:Qf(i,In(i))}function TC(i){return i==null?[]:Qf(i,As(i))}function xC(i,l,h){return h===f&&(h=l,l=f),h!==f&&(h=Ss(h),h=h===h?h:0),l!==f&&(l=Ss(l),l=l===l?l:0),ki(Ss(i),l,h)}function NC(i,l,h){return l=bo(l),h===f?(h=l,l=0):h=bo(h),i=Ss(i),Di(i,l,h)}function RC(i,l,h){if(h&&typeof h!="boolean"&&is(i,l,h)&&(l=h=f),h===f&&(typeof l=="boolean"?(h=l,l=f):typeof i=="boolean"&&(h=i,i=f)),i===f&&l===f?(i=0,l=1):(i=bo(i),l===f?(l=i,i=0):l=bo(l)),i>l){var g=i;i=l,l=g}if(h||i%1||l%1){var E=Kh();return Jn(i+E*(l-i+gt("1e-"+((E+"").length-1))),l)}return Sd(i,l)}var OC=Sa(function(i,l,h){return l=l.toLowerCase(),i+(h?hm(l):l)});function hm(i){return Du(Ht(i).toLowerCase())}function Eg(i){return i=Ht(i),i&&i.replace(qv,Jf).replace(Lh,"")}function kC(i,l,h){i=Ht(i),l=Ms(l);var g=i.length;h=h===f?g:ki(lt(h),0,g);var E=h;return h-=l.length,h>=0&&i.slice(h,E)==l}function wg(i){return i=Ht(i),i&&yh.test(i)?i.replace(_h,cl):i}function Sg(i){return i=Ht(i),i&&Fv.test(i)?i.replace(Lo,"\\$&"):i}var Ag=Sa(function(i,l,h){return i+(h?"-":"")+l.toLowerCase()}),Tg=Sa(function(i,l,h){return i+(h?" ":"")+l.toLowerCase()}),xg=yp("toLowerCase");function DC(i,l,h){i=Ht(i),l=lt(l);var g=l?hs(i):0;if(!l||g>=l)return i;var E=(l-g)/2;return cu($t(E),h)+i+cu(Mo(E),h)}function PC(i,l,h){i=Ht(i),l=lt(l);var g=l?hs(i):0;return l&&g<l?i+cu(l-g,h):i}function LC(i,l,h){i=Ht(i),l=lt(l);var g=l?hs(i):0;return l&&g<l?cu(l-g,h)+i:i}function BC(i,l,h){return h||l==null?l=0:l&&(l=+l),y_(Ht(i).replace(Tc,""),l||0)}function IC(i,l,h){return(h?is(i,l,h):l===f)?l=1:l=lt(l),Ad(Ht(i),l)}function zi(){var i=arguments,l=Ht(i[0]);return i.length<3?l:l.replace(i[1],i[2])}var $C=Sa(function(i,l,h){return i+(h?"_":"")+l.toLowerCase()});function MC(i,l,h){return h&&typeof h!="number"&&is(i,l,h)&&(l=h=f),h=h===f?Fn:h>>>0,h?(i=Ht(i),i&&(typeof l=="string"||l!=null&&!um(l))&&(l=Ms(l),!l&&ua(i))?Xo(Gs(i),0,h):i.split(l,h)):[]}var FC=Sa(function(i,l,h){return i+(h?" ":"")+Du(l)});function UC(i,l,h){return i=Ht(i),h=h==null?0:ki(lt(h),0,i.length),l=Ms(l),i.slice(h,h+l.length)==l}function Ng(i,l,h){var g=A.templateSettings;h&&is(i,l,h)&&(l=f),i=Ht(i),l=Ru({},l,g,z_);var E=Ru({},l.imports,g.imports,z_),R=In(E),P=Qf(E,R),$,q,ce=0,ue=l.interpolate||ol,he="__p += '",Re=Mc((l.escape||ol).source+"|"+ue.source+"|"+(ue===Ac?Nc:ol).source+"|"+(l.evaluate||ol).source+"|$","g"),Fe="//# sourceURL="+(Kt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ci+"]")+`
`;i.replace(Re,function(st,wt,Rt,xs,ns,as){return Rt||(Rt=xs),he+=i.slice(ce,as).replace(kf,a_),wt&&($=!0,he+=`' +
__e(`+wt+`) +
'`),ns&&(q=!0,he+=`';
`+ns+`;
__p += '`),Rt&&(he+=`' +
((__t = (`+Rt+`)) == null ? '' : __t) +
'`),ce=as+st.length,st}),he+=`';
`;var nt=Kt.call(l,"variable")&&l.variable;if(!nt)he=`with (obj) {
`+he+`
}
`;else if(rl.test(nt))throw new He(H);he=(q?he.replace(ds,""):he).replace($v,"$1").replace(It,"$1;"),he="function("+(nt||"obj")+`) {
`+(nt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+he+`return __p
}`;var vt=bm(function(){return kt(R,Fe+"return "+he).apply(f,P)});if(vt.source=he,lm(vt))throw vt;return vt}function HC(i){return Ht(i).toLowerCase()}function WC(i){return Ht(i).toUpperCase()}function Rg(i,l,h){if(i=Ht(i),i&&(h||l===f))return Xf(i);if(!i||!(l=Ms(l)))return i;var g=Gs(i),E=Gs(l),R=Zf(g,E),P=ll(g,E)+1;return Xo(g,R,P).join("")}function zl(i,l,h){if(i=Ht(i),i&&(h||l===f))return i.slice(0,Mr(i)+1);if(!i||!(l=Ms(l)))return i;var g=Gs(i),E=ll(g,Gs(l))+1;return Xo(g,0,E).join("")}function Vl(i,l,h){if(i=Ht(i),i&&(h||l===f))return i.replace(Tc,"");if(!i||!(l=Ms(l)))return i;var g=Gs(i),E=Zf(g,Gs(l));return Xo(g,E).join("")}function zC(i,l){var h=le,g=je;if(ln(l)){var E="separator"in l?l.separator:E;h="length"in l?lt(l.length):h,g="omission"in l?Ms(l.omission):g}i=Ht(i);var R=i.length;if(ua(i)){var P=Gs(i);R=P.length}if(h>=R)return i;var $=h-hs(g);if($<1)return g;var q=P?Xo(P,0,$).join(""):i.slice(0,$);if(E===f)return q+g;if(P&&($+=q.length-$),um(E)){if(i.slice($).search(E)){var ce,ue=q;for(E.global||(E=Mc(E.source,Ht(Of.exec(E))+"g")),E.lastIndex=0;ce=E.exec(ue);)var he=ce.index;q=q.slice(0,he===f?$:he)}}else if(i.indexOf(Ms(E),$)!=$){var Re=q.lastIndexOf(E);Re>-1&&(q=q.slice(0,Re))}return q+g}function pm(i){return i=Ht(i),i&&Tf.test(i)?i.replace(nl,f_):i}var VC=Sa(function(i,l,h){return i+(h?" ":"")+l.toUpperCase()}),Du=yp("toUpperCase");function gm(i,l,h){return i=Ht(i),l=h?f:l,l===f?ul(i)?Wh(i):Uh(i):i.match(l)||[]}var bm=bt(function(i,l){try{return zn(i,f,l)}catch(h){return lm(h)?h:new He(h)}}),qC=tn(function(i,l){return Ps(l,function(h){h=tr(h),Ur(i,h,Tu(i[h],i))}),i});function KC(i){var l=i==null?0:i.length,h=Je();return i=l?Jt(i,function(g){if(typeof g[1]!="function")throw new ps(O);return[h(g[0]),g[1]]}):[],bt(function(g){for(var E=-1;++E<l;){var R=i[E];if(zn(R[0],this,g))return zn(R[1],this,g)}})}function jC(i){return x_(Zs(i,ke))}function oi(i){return function(){return i}}function Vi(i,l){return i==null||i!==i?l:i}var Pu=Tl(),ql=Tl(!0);function Ts(i){return i}function Vr(i){return Cl(typeof i=="function"?i:Zs(i,ke))}function qr(i){return Cd(Zs(i,ke))}function vm(i,l){return ap(i,Zs(l,ke))}var Og=bt(function(i,l){return function(h){return Ko(h,i,l)}}),GC=bt(function(i,l){return function(h){return Ko(i,h,l)}});function Lu(i,l,h){var g=In(l),E=qo(l,g);h==null&&!(ln(l)&&(E.length||!g.length))&&(h=l,l=i,i=this,E=qo(l,In(l)));var R=!(ln(h)&&"chain"in h)||!!h.chain,P=go(i);return Ps(E,function($){var q=l[$];i[$]=q,P&&(i.prototype[$]=function(){var ce=this.__chain__;if(R||ce){var ue=i(this.__wrapped__),he=ue.__actions__=ys(this.__actions__);return he.push({func:q,args:arguments,thisArg:i}),ue.__chain__=ce,ue}return q.apply(i,Io([this.value()],arguments))})}),i}function Kl(){return Hn._===this&&(Hn._=Vh),this}function qi(){}function _m(i){return i=lt(i),bt(function(l){return lp(l,i)})}var kg=fo(Jt),jl=fo(ca),Bu=fo(Kf);function Dg(i){return ho(i)?Gf(tr(i)):Js(i)}function ym(i){return function(l){return i==null?f:Hr(i,l)}}var Iu=Ld(),wn=Ld(!0);function Cm(){return[]}function or(){return!1}function Pg(){return{}}function Em(){return""}function Ia(){return!0}function Lg(i,l){if(i=lt(i),i<1||i>Yt)return[];var h=Fn,g=Jn(i,Fn);l=Je(l),i-=Fn;for(var E=Ai(g,l);++h<i;)l(h);return E}function $u(i){return dt(i)?Jt(i,tr):Us(i)?[i]:ys(Na(Ht(i)))}function YC(i){var l=++h_;return Ht(i)+l}var Bg=lu(function(i,l){return i+l},0),Ig=Id("ceil"),XC=lu(function(i,l){return i/l},1),wm=Id("floor");function Kr(i){return i&&i.length?vs(i,Ts,pd):f}function QC(i,l){return i&&i.length?vs(i,Je(l,2),pd):f}function ZC(i){return An(i,Ts)}function $g(i,l){return An(i,Je(l,2))}function Mg(i){return i&&i.length?vs(i,Ts,El):f}function Fg(i,l){return i&&i.length?vs(i,Je(l,2),El):f}var JC=lu(function(i,l){return i*l},1),eE=Id("round"),Hs=lu(function(i,l){return i-l},0);function Mu(i){return i&&i.length?Yf(i,Ts):0}function Ug(i,l){return i&&i.length?Yf(i,Je(l,2)):0}return A.after=Jp,A.ary=tm,A.assign=eC,A.assignIn=pg,A.assignInWith=Ru,A.assignWith=tC,A.at=dm,A.before=eg,A.bind=Tu,A.bindAll=qC,A.bindKey=tg,A.castArray=ag,A.chain=Eu,A.chunk=JS,A.compact=eA,A.concat=tA,A.cond=KC,A.conforms=jC,A.constant=oi,A.countBy=Hi,A.create=nC,A.curry=ng,A.curryRight=nm,A.debounce=sm,A.defaults=sC,A.defaultsDeep=rC,A.defer=Oy,A.delay=rm,A.difference=nA,A.differenceBy=sA,A.differenceWith=_r,A.drop=Kn,A.dropRight=J_,A.dropRightWhile=ey,A.dropWhile=Jo,A.fill=bu,A.filter=j,A.flatMap=wy,A.flatMapDeep=Xd,A.flatMapDepth=yr,A.flatten=ei,A.flattenDeep=Oa,A.flattenDepth=kl,A.flip=sg,A.flow=Pu,A.flowRight=ql,A.fromPairs=Dl,A.functions=lC,A.functionsIn=cC,A.groupBy=jp,A.initial=kp,A.intersection=ty,A.intersectionBy=Dp,A.intersectionWith=Pp,A.invert=fC,A.invertBy=dC,A.invokeMap=Sy,A.iteratee=Vr,A.keyBy=Gp,A.keys=In,A.keysIn=As,A.map=Su,A.mapKeys=hC,A.mapValues=pC,A.matches=qr,A.matchesProperty=vm,A.memoize=Ml,A.merge=gC,A.mergeWith=Wl,A.method=Og,A.methodOf=GC,A.mixin=Lu,A.negate=om,A.nthArg=_m,A.omit=bC,A.omitBy=vC,A.once=ts,A.orderBy=Yp,A.over=kg,A.overArgs=rA,A.overEvery=jl,A.overSome=Bu,A.partial=sr,A.partialRight=rg,A.partition=Ay,A.pick=_C,A.pickBy=vg,A.property=Dg,A.propertyOf=ym,A.pull=Bp,A.pullAll=Kd,A.pullAllBy=ry,A.pullAllWith=oy,A.pullAt=Ip,A.range=Iu,A.rangeRight=wn,A.rearg=ky,A.reject=xy,A.remove=Da,A.rest=Dy,A.reverse=_u,A.sampleSize=Au,A.set=CC,A.setWith=EC,A.shuffle=Ny,A.slice=iy,A.sortBy=em,A.sortedUniq=ly,A.sortedUniqBy=Fp,A.split=MC,A.spread=Py,A.tail=Pl,A.take=Ll,A.takeRight=cy,A.takeRightWhile=uy,A.takeWhile=Up,A.tap=Vp,A.throttle=og,A.thru=Ui,A.toArray=fm,A.toPairs=_g,A.toPairsIn=yg,A.toPath=$u,A.toPlainObject=hg,A.transform=wC,A.unary=ig,A.union=fy,A.unionBy=dy,A.unionWith=yu,A.uniq=ti,A.uniqBy=my,A.uniqWith=hy,A.unset=SC,A.unzip=Cu,A.unzipWith=Hp,A.update=Cg,A.updateWith=AC,A.values=Ba,A.valuesIn=TC,A.without=py,A.words=gm,A.wrap=Ly,A.xor=Wp,A.xorBy=gy,A.xorWith=zp,A.zip=by,A.zipObject=Bl,A.zipObjectDeep=vy,A.zipWith=Il,A.entries=_g,A.entriesIn=yg,A.extend=pg,A.extendWith=Ru,Lu(A,A),A.add=Bg,A.attempt=bm,A.camelCase=OC,A.capitalize=hm,A.ceil=Ig,A.clamp=xC,A.clone=By,A.cloneDeep=Iy,A.cloneDeepWith=$y,A.cloneWith=im,A.conformsTo=My,A.deburr=Eg,A.defaultTo=Vi,A.divide=XC,A.endsWith=kC,A.eq=rr,A.escape=wg,A.escapeRegExp=Sg,A.every=Cy,A.find=wu,A.findIndex=vu,A.findKey=oC,A.findLast=Ey,A.findLastIndex=Ra,A.findLastKey=iC,A.floor=wm,A.forEach=Qd,A.forEachRight=Zd,A.forIn=aC,A.forInRight=gg,A.forOwn=bg,A.forOwnRight=Ou,A.get=mm,A.gt=Ee,A.gte=am,A.has=uC,A.hasIn=ku,A.head=ka,A.identity=Ts,A.includes=Jd,A.indexOf=Op,A.inRange=NC,A.invoke=mC,A.isArguments=si,A.isArray=dt,A.isArrayBuffer=Fy,A.isArrayLike=Es,A.isArrayLikeObject=_n,A.isBoolean=Uy,A.isBuffer=ri,A.isDate=lg,A.isElement=Hy,A.isEmpty=ws,A.isEqual=Fl,A.isEqualWith=Wy,A.isError=lm,A.isFinite=zy,A.isFunction=go,A.isInteger=cg,A.isLength=Ul,A.isMap=cm,A.isMatch=Vy,A.isMatchWith=qy,A.isNaN=Ky,A.isNative=jy,A.isNil=Yy,A.isNull=Gy,A.isNumber=xu,A.isObject=ln,A.isObjectLike=yn,A.isPlainObject=La,A.isRegExp=um,A.isSafeInteger=ug,A.isSet=fg,A.isString=Nu,A.isSymbol=Us,A.isTypedArray=Wi,A.isUndefined=Xy,A.isWeakMap=Qy,A.isWeakSet=dg,A.join=Lp,A.kebabCase=Ag,A.last=nr,A.lastIndexOf=ny,A.lowerCase=Tg,A.lowerFirst=xg,A.lt=Zy,A.lte=Jy,A.max=Kr,A.maxBy=QC,A.mean=ZC,A.meanBy=$g,A.min=Mg,A.minBy=Fg,A.stubArray=Cm,A.stubFalse=or,A.stubObject=Pg,A.stubString=Em,A.stubTrue=Ia,A.multiply=JC,A.nth=sy,A.noConflict=Kl,A.noop=qi,A.now=$l,A.pad=DC,A.padEnd=PC,A.padStart=LC,A.parseInt=BC,A.random=RC,A.reduce=Xp,A.reduceRight=Ty,A.repeat=IC,A.replace=zi,A.result=yC,A.round=eE,A.runInContext=U,A.sample=Qp,A.size=Zp,A.snakeCase=$C,A.some=Ry,A.sortedIndex=ay,A.sortedIndexBy=$p,A.sortedIndexOf=Mi,A.sortedLastIndex=Pa,A.sortedLastIndexBy=Fi,A.sortedLastIndexOf=Mp,A.startCase=FC,A.startsWith=UC,A.subtract=Hs,A.sum=Mu,A.sumBy=Ug,A.template=Ng,A.times=Lg,A.toFinite=bo,A.toInteger=lt,A.toLength=mg,A.toLower=HC,A.toNumber=Ss,A.toSafeInteger=Hl,A.toString=Ht,A.toUpper=WC,A.trim=Rg,A.trimEnd=zl,A.trimStart=Vl,A.truncate=zC,A.unescape=pm,A.uniqueId=YC,A.upperCase=VC,A.upperFirst=Du,A.each=Qd,A.eachRight=Zd,A.first=ka,Lu(A,function(){var i={};return _s(A,function(l,h){Kt.call(A.prototype,h)||(i[h]=l)}),i}(),{chain:!1}),A.VERSION=b,Ps(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){A[i].placeholder=A}),Ps(["drop","take"],function(i,l){Tt.prototype[i]=function(h){h=h===f?1:kn(lt(h),0);var g=this.__filtered__&&!l?new Tt(this):this.clone();return g.__filtered__?g.__takeCount__=Jn(h,g.__takeCount__):g.__views__.push({size:Jn(h,Fn),type:i+(g.__dir__<0?"Right":"")}),g},Tt.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),Ps(["filter","map","takeWhile"],function(i,l){var h=l+1,g=h==Ke||h==Yn;Tt.prototype[i]=function(E){var R=this.clone();return R.__iteratees__.push({iteratee:Je(E,3),type:h}),R.__filtered__=R.__filtered__||g,R}}),Ps(["head","last"],function(i,l){var h="take"+(l?"Right":"");Tt.prototype[i]=function(){return this[h](1).value()[0]}}),Ps(["initial","tail"],function(i,l){var h="drop"+(l?"":"Right");Tt.prototype[i]=function(){return this.__filtered__?new Tt(this):this[h](1)}}),Tt.prototype.compact=function(){return this.filter(Ts)},Tt.prototype.find=function(i){return this.filter(i).head()},Tt.prototype.findLast=function(i){return this.reverse().find(i)},Tt.prototype.invokeMap=bt(function(i,l){return typeof i=="function"?new Tt(this):this.map(function(h){return Ko(h,i,l)})}),Tt.prototype.reject=function(i){return this.filter(om(Je(i)))},Tt.prototype.slice=function(i,l){i=lt(i);var h=this;return h.__filtered__&&(i>0||l<0)?new Tt(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),l!==f&&(l=lt(l),h=l<0?h.dropRight(-l):h.take(l-i)),h)},Tt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Tt.prototype.toArray=function(){return this.take(Fn)},_s(Tt.prototype,function(i,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),E=A[g?"take"+(l=="last"?"Right":""):l],R=g||/^find/.test(l);!E||(A.prototype[l]=function(){var P=this.__wrapped__,$=g?[1]:arguments,q=P instanceof Tt,ce=$[0],ue=q||dt(P),he=function(wt){var Rt=E.apply(A,Io([wt],$));return g&&Re?Rt[0]:Rt};ue&&h&&typeof ce=="function"&&ce.length!=1&&(q=ue=!1);var Re=this.__chain__,Fe=!!this.__actions__.length,nt=R&&!Re,vt=q&&!Fe;if(!R&&ue){P=vt?P:new Tt(this);var st=i.apply(P,$);return st.__actions__.push({func:Ui,args:[he],thisArg:f}),new Qs(st,Re)}return nt&&vt?i.apply(this,$):(st=this.thru(he),nt?g?st.value()[0]:st.value():st)})}),Ps(["pop","push","shift","sort","splice","unshift"],function(i){var l=ml[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);A.prototype[i]=function(){var E=arguments;if(g&&!this.__chain__){var R=this.value();return l.apply(dt(R)?R:[],E)}return this[h](function(P){return l.apply(dt(P)?P:[],E)})}}),_s(Tt.prototype,function(i,l){var h=A[l];if(h){var g=h.name+"";Kt.call(Ho,g)||(Ho[g]=[]),Ho[g].push({name:l,func:h})}}),Ho[au(f,rt).name]=[{name:"wrapper",func:f}],Tt.prototype.clone=gl,Tt.prototype.reverse=bl,Tt.prototype.value=Ni,A.prototype.at=jd,A.prototype.chain=Gd,A.prototype.commit=qp,A.prototype.next=Yd,A.prototype.plant=yy,A.prototype.reverse=Kp,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=ni,A.prototype.first=A.prototype.head,Ys&&(A.prototype[Ys]=_y),A},fa=zh();wi?((wi.exports=fa)._=fa,Vf._=fa):Hn._=fa}).call(th)})(mS,mS.exports);const Oj=mS.exports;var Vs="top",Dr="bottom",Pr="right",qs="left",Rv="auto",vf=[Vs,Dr,Pr,qs],vc="start",df="end",MD="clippingParents",TS="viewport",lf="popper",FD="reference",hS=vf.reduce(function(m,c){return m.concat([c+"-"+vc,c+"-"+df])},[]),xS=[].concat(vf,[Rv]).reduce(function(m,c){return m.concat([c,c+"-"+vc,c+"-"+df])},[]),UD="beforeRead",HD="read",WD="afterRead",zD="beforeMain",VD="main",qD="afterMain",KD="beforeWrite",jD="write",GD="afterWrite",YD=[UD,HD,WD,zD,VD,qD,KD,jD,GD];function pi(m){return m?(m.nodeName||"").toLowerCase():null}function Jr(m){if(m==null)return window;if(m.toString()!=="[object Window]"){var c=m.ownerDocument;return c&&c.defaultView||window}return m}function _c(m){var c=Jr(m).Element;return m instanceof c||m instanceof Element}function Xr(m){var c=Jr(m).HTMLElement;return m instanceof c||m instanceof HTMLElement}function NS(m){if(typeof ShadowRoot>"u")return!1;var c=Jr(m).ShadowRoot;return m instanceof c||m instanceof ShadowRoot}function kj(m){var c=m.state;Object.keys(c.elements).forEach(function(f){var b=c.styles[f]||{},w=c.attributes[f]||{},k=c.elements[f];!Xr(k)||!pi(k)||(Object.assign(k.style,b),Object.keys(w).forEach(function(O){var H=w[O];H===!1?k.removeAttribute(O):k.setAttribute(O,H===!0?"":H)}))})}function Dj(m){var c=m.state,f={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,f.popper),c.styles=f,c.elements.arrow&&Object.assign(c.elements.arrow.style,f.arrow),function(){Object.keys(c.elements).forEach(function(b){var w=c.elements[b],k=c.attributes[b]||{},O=Object.keys(c.styles.hasOwnProperty(b)?c.styles[b]:f[b]),H=O.reduce(function(X,Y){return X[Y]="",X},{});!Xr(w)||!pi(w)||(Object.assign(w.style,H),Object.keys(k).forEach(function(X){w.removeAttribute(X)}))})}}const RS={name:"applyStyles",enabled:!0,phase:"write",fn:kj,effect:Dj,requires:["computeStyles"]};function hi(m){return m.split("-")[0]}var gc=Math.max,Av=Math.min,mf=Math.round;function pS(){var m=navigator.userAgentData;return m!=null&&m.brands?m.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function XD(){return!/^((?!chrome|android).)*safari/i.test(pS())}function hf(m,c,f){c===void 0&&(c=!1),f===void 0&&(f=!1);var b=m.getBoundingClientRect(),w=1,k=1;c&&Xr(m)&&(w=m.offsetWidth>0&&mf(b.width)/m.offsetWidth||1,k=m.offsetHeight>0&&mf(b.height)/m.offsetHeight||1);var O=_c(m)?Jr(m):window,H=O.visualViewport,X=!XD()&&f,Y=(b.left+(X&&H?H.offsetLeft:0))/w,Z=(b.top+(X&&H?H.offsetTop:0))/k,ke=b.width/w,qe=b.height/k;return{width:ke,height:qe,top:Z,right:Y+ke,bottom:Z+qe,left:Y,x:Y,y:Z}}function OS(m){var c=hf(m),f=m.offsetWidth,b=m.offsetHeight;return Math.abs(c.width-f)<=1&&(f=c.width),Math.abs(c.height-b)<=1&&(b=c.height),{x:m.offsetLeft,y:m.offsetTop,width:f,height:b}}function QD(m,c){var f=c.getRootNode&&c.getRootNode();if(m.contains(c))return!0;if(f&&NS(f)){var b=c;do{if(b&&m.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function na(m){return Jr(m).getComputedStyle(m)}function Pj(m){return["table","td","th"].indexOf(pi(m))>=0}function Qa(m){return((_c(m)?m.ownerDocument:m.document)||window.document).documentElement}function Ov(m){return pi(m)==="html"?m:m.assignedSlot||m.parentNode||(NS(m)?m.host:null)||Qa(m)}function qk(m){return!Xr(m)||na(m).position==="fixed"?null:m.offsetParent}function Lj(m){var c=/firefox/i.test(pS()),f=/Trident/i.test(pS());if(f&&Xr(m)){var b=na(m);if(b.position==="fixed")return null}var w=Ov(m);for(NS(w)&&(w=w.host);Xr(w)&&["html","body"].indexOf(pi(w))<0;){var k=na(w);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||c&&k.willChange==="filter"||c&&k.filter&&k.filter!=="none")return w;w=w.parentNode}return null}function ch(m){for(var c=Jr(m),f=qk(m);f&&Pj(f)&&na(f).position==="static";)f=qk(f);return f&&(pi(f)==="html"||pi(f)==="body"&&na(f).position==="static")?c:f||Lj(m)||c}function kS(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function ih(m,c,f){return gc(m,Av(c,f))}function Bj(m,c,f){var b=ih(m,c,f);return b>f?f:b}function ZD(){return{top:0,right:0,bottom:0,left:0}}function JD(m){return Object.assign({},ZD(),m)}function eP(m,c){return c.reduce(function(f,b){return f[b]=m,f},{})}var Ij=function(c,f){return c=typeof c=="function"?c(Object.assign({},f.rects,{placement:f.placement})):c,JD(typeof c!="number"?c:eP(c,vf))};function $j(m){var c,f=m.state,b=m.name,w=m.options,k=f.elements.arrow,O=f.modifiersData.popperOffsets,H=hi(f.placement),X=kS(H),Y=[qs,Pr].indexOf(H)>=0,Z=Y?"height":"width";if(!(!k||!O)){var ke=Ij(w.padding,f),qe=OS(k),Ce=X==="y"?Vs:qs,Ae=X==="y"?Dr:Pr,De=f.rects.reference[Z]+f.rects.reference[X]-O[X]-f.rects.popper[Z],Ge=O[X]-f.rects.reference[X],rt=ch(k),pe=rt?X==="y"?rt.clientHeight||0:rt.clientWidth||0:0,Ze=De/2-Ge/2,it=ke[Ce],We=pe-qe[Z]-ke[Ae],ht=pe/2-qe[Z]/2+Ze,_t=ih(it,ht,We),yt=X;f.modifiersData[b]=(c={},c[yt]=_t,c.centerOffset=_t-ht,c)}}function Mj(m){var c=m.state,f=m.options,b=f.element,w=b===void 0?"[data-popper-arrow]":b;w!=null&&(typeof w=="string"&&(w=c.elements.popper.querySelector(w),!w)||!QD(c.elements.popper,w)||(c.elements.arrow=w))}const tP={name:"arrow",enabled:!0,phase:"main",fn:$j,effect:Mj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pf(m){return m.split("-")[1]}var Fj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Uj(m){var c=m.x,f=m.y,b=window,w=b.devicePixelRatio||1;return{x:mf(c*w)/w||0,y:mf(f*w)/w||0}}function Kk(m){var c,f=m.popper,b=m.popperRect,w=m.placement,k=m.variation,O=m.offsets,H=m.position,X=m.gpuAcceleration,Y=m.adaptive,Z=m.roundOffsets,ke=m.isFixed,qe=O.x,Ce=qe===void 0?0:qe,Ae=O.y,De=Ae===void 0?0:Ae,Ge=typeof Z=="function"?Z({x:Ce,y:De}):{x:Ce,y:De};Ce=Ge.x,De=Ge.y;var rt=O.hasOwnProperty("x"),pe=O.hasOwnProperty("y"),Ze=qs,it=Vs,We=window;if(Y){var ht=ch(f),_t="clientHeight",yt="clientWidth";if(ht===Jr(f)&&(ht=Qa(f),na(ht).position!=="static"&&H==="absolute"&&(_t="scrollHeight",yt="scrollWidth")),ht=ht,w===Vs||(w===qs||w===Pr)&&k===df){it=Dr;var ft=ke&&ht===We&&We.visualViewport?We.visualViewport.height:ht[_t];De-=ft-b.height,De*=X?1:-1}if(w===qs||(w===Vs||w===Dr)&&k===df){Ze=Pr;var le=ke&&ht===We&&We.visualViewport?We.visualViewport.width:ht[yt];Ce-=le-b.width,Ce*=X?1:-1}}var je=Object.assign({position:H},Y&&Fj),fn=Z===!0?Uj({x:Ce,y:De}):{x:Ce,y:De};if(Ce=fn.x,De=fn.y,X){var pn;return Object.assign({},je,(pn={},pn[it]=pe?"0":"",pn[Ze]=rt?"0":"",pn.transform=(We.devicePixelRatio||1)<=1?"translate("+Ce+"px, "+De+"px)":"translate3d("+Ce+"px, "+De+"px, 0)",pn))}return Object.assign({},je,(c={},c[it]=pe?De+"px":"",c[Ze]=rt?Ce+"px":"",c.transform="",c))}function Hj(m){var c=m.state,f=m.options,b=f.gpuAcceleration,w=b===void 0?!0:b,k=f.adaptive,O=k===void 0?!0:k,H=f.roundOffsets,X=H===void 0?!0:H,Y={placement:hi(c.placement),variation:pf(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:w,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,Kk(Object.assign({},Y,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:O,roundOffsets:X})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,Kk(Object.assign({},Y,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:X})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}const DS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hj,data:{}};var mv={passive:!0};function Wj(m){var c=m.state,f=m.instance,b=m.options,w=b.scroll,k=w===void 0?!0:w,O=b.resize,H=O===void 0?!0:O,X=Jr(c.elements.popper),Y=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&Y.forEach(function(Z){Z.addEventListener("scroll",f.update,mv)}),H&&X.addEventListener("resize",f.update,mv),function(){k&&Y.forEach(function(Z){Z.removeEventListener("scroll",f.update,mv)}),H&&X.removeEventListener("resize",f.update,mv)}}const PS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wj,data:{}};var zj={left:"right",right:"left",bottom:"top",top:"bottom"};function yv(m){return m.replace(/left|right|bottom|top/g,function(c){return zj[c]})}var Vj={start:"end",end:"start"};function jk(m){return m.replace(/start|end/g,function(c){return Vj[c]})}function LS(m){var c=Jr(m),f=c.pageXOffset,b=c.pageYOffset;return{scrollLeft:f,scrollTop:b}}function BS(m){return hf(Qa(m)).left+LS(m).scrollLeft}function qj(m,c){var f=Jr(m),b=Qa(m),w=f.visualViewport,k=b.clientWidth,O=b.clientHeight,H=0,X=0;if(w){k=w.width,O=w.height;var Y=XD();(Y||!Y&&c==="fixed")&&(H=w.offsetLeft,X=w.offsetTop)}return{width:k,height:O,x:H+BS(m),y:X}}function Kj(m){var c,f=Qa(m),b=LS(m),w=(c=m.ownerDocument)==null?void 0:c.body,k=gc(f.scrollWidth,f.clientWidth,w?w.scrollWidth:0,w?w.clientWidth:0),O=gc(f.scrollHeight,f.clientHeight,w?w.scrollHeight:0,w?w.clientHeight:0),H=-b.scrollLeft+BS(m),X=-b.scrollTop;return na(w||f).direction==="rtl"&&(H+=gc(f.clientWidth,w?w.clientWidth:0)-k),{width:k,height:O,x:H,y:X}}function IS(m){var c=na(m),f=c.overflow,b=c.overflowX,w=c.overflowY;return/auto|scroll|overlay|hidden/.test(f+w+b)}function nP(m){return["html","body","#document"].indexOf(pi(m))>=0?m.ownerDocument.body:Xr(m)&&IS(m)?m:nP(Ov(m))}function ah(m,c){var f;c===void 0&&(c=[]);var b=nP(m),w=b===((f=m.ownerDocument)==null?void 0:f.body),k=Jr(b),O=w?[k].concat(k.visualViewport||[],IS(b)?b:[]):b,H=c.concat(O);return w?H:H.concat(ah(Ov(O)))}function gS(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function jj(m,c){var f=hf(m,!1,c==="fixed");return f.top=f.top+m.clientTop,f.left=f.left+m.clientLeft,f.bottom=f.top+m.clientHeight,f.right=f.left+m.clientWidth,f.width=m.clientWidth,f.height=m.clientHeight,f.x=f.left,f.y=f.top,f}function Gk(m,c,f){return c===TS?gS(qj(m,f)):_c(c)?jj(c,f):gS(Kj(Qa(m)))}function Gj(m){var c=ah(Ov(m)),f=["absolute","fixed"].indexOf(na(m).position)>=0,b=f&&Xr(m)?ch(m):m;return _c(b)?c.filter(function(w){return _c(w)&&QD(w,b)&&pi(w)!=="body"}):[]}function Yj(m,c,f,b){var w=c==="clippingParents"?Gj(m):[].concat(c),k=[].concat(w,[f]),O=k[0],H=k.reduce(function(X,Y){var Z=Gk(m,Y,b);return X.top=gc(Z.top,X.top),X.right=Av(Z.right,X.right),X.bottom=Av(Z.bottom,X.bottom),X.left=gc(Z.left,X.left),X},Gk(m,O,b));return H.width=H.right-H.left,H.height=H.bottom-H.top,H.x=H.left,H.y=H.top,H}function sP(m){var c=m.reference,f=m.element,b=m.placement,w=b?hi(b):null,k=b?pf(b):null,O=c.x+c.width/2-f.width/2,H=c.y+c.height/2-f.height/2,X;switch(w){case Vs:X={x:O,y:c.y-f.height};break;case Dr:X={x:O,y:c.y+c.height};break;case Pr:X={x:c.x+c.width,y:H};break;case qs:X={x:c.x-f.width,y:H};break;default:X={x:c.x,y:c.y}}var Y=w?kS(w):null;if(Y!=null){var Z=Y==="y"?"height":"width";switch(k){case vc:X[Y]=X[Y]-(c[Z]/2-f[Z]/2);break;case df:X[Y]=X[Y]+(c[Z]/2-f[Z]/2);break}}return X}function gf(m,c){c===void 0&&(c={});var f=c,b=f.placement,w=b===void 0?m.placement:b,k=f.strategy,O=k===void 0?m.strategy:k,H=f.boundary,X=H===void 0?MD:H,Y=f.rootBoundary,Z=Y===void 0?TS:Y,ke=f.elementContext,qe=ke===void 0?lf:ke,Ce=f.altBoundary,Ae=Ce===void 0?!1:Ce,De=f.padding,Ge=De===void 0?0:De,rt=JD(typeof Ge!="number"?Ge:eP(Ge,vf)),pe=qe===lf?FD:lf,Ze=m.rects.popper,it=m.elements[Ae?pe:qe],We=Yj(_c(it)?it:it.contextElement||Qa(m.elements.popper),X,Z,O),ht=hf(m.elements.reference),_t=sP({reference:ht,element:Ze,strategy:"absolute",placement:w}),yt=gS(Object.assign({},Ze,_t)),ft=qe===lf?yt:ht,le={top:We.top-ft.top+rt.top,bottom:ft.bottom-We.bottom+rt.bottom,left:We.left-ft.left+rt.left,right:ft.right-We.right+rt.right},je=m.modifiersData.offset;if(qe===lf&&je){var fn=je[w];Object.keys(le).forEach(function(pn){var Ke=[Pr,Dr].indexOf(pn)>=0?1:-1,ss=[Vs,Dr].indexOf(pn)>=0?"y":"x";le[pn]+=fn[ss]*Ke})}return le}function Xj(m,c){c===void 0&&(c={});var f=c,b=f.placement,w=f.boundary,k=f.rootBoundary,O=f.padding,H=f.flipVariations,X=f.allowedAutoPlacements,Y=X===void 0?xS:X,Z=pf(b),ke=Z?H?hS:hS.filter(function(Ae){return pf(Ae)===Z}):vf,qe=ke.filter(function(Ae){return Y.indexOf(Ae)>=0});qe.length===0&&(qe=ke);var Ce=qe.reduce(function(Ae,De){return Ae[De]=gf(m,{placement:De,boundary:w,rootBoundary:k,padding:O})[hi(De)],Ae},{});return Object.keys(Ce).sort(function(Ae,De){return Ce[Ae]-Ce[De]})}function Qj(m){if(hi(m)===Rv)return[];var c=yv(m);return[jk(m),c,jk(c)]}function Zj(m){var c=m.state,f=m.options,b=m.name;if(!c.modifiersData[b]._skip){for(var w=f.mainAxis,k=w===void 0?!0:w,O=f.altAxis,H=O===void 0?!0:O,X=f.fallbackPlacements,Y=f.padding,Z=f.boundary,ke=f.rootBoundary,qe=f.altBoundary,Ce=f.flipVariations,Ae=Ce===void 0?!0:Ce,De=f.allowedAutoPlacements,Ge=c.options.placement,rt=hi(Ge),pe=rt===Ge,Ze=X||(pe||!Ae?[yv(Ge)]:Qj(Ge)),it=[Ge].concat(Ze).reduce(function(Ks,pt){return Ks.concat(hi(pt)===Rv?Xj(c,{placement:pt,boundary:Z,rootBoundary:ke,padding:Y,flipVariations:Ae,allowedAutoPlacements:De}):pt)},[]),We=c.rects.reference,ht=c.rects.popper,_t=new Map,yt=!0,ft=it[0],le=0;le<it.length;le++){var je=it[le],fn=hi(je),pn=pf(je)===vc,Ke=[Vs,Dr].indexOf(fn)>=0,ss=Ke?"width":"height",Yn=gf(c,{placement:je,boundary:Z,rootBoundary:ke,altBoundary:qe,padding:Y}),ae=Ke?pn?Pr:qs:pn?Dr:Vs;We[ss]>ht[ss]&&(ae=yv(ae));var Yt=yv(ae),to=[];if(k&&to.push(Yn[fn]<=0),H&&to.push(Yn[ae]<=0,Yn[Yt]<=0),to.every(function(Ks){return Ks})){ft=je,yt=!1;break}_t.set(je,to)}if(yt)for(var _e=Ae?3:1,Fn=function(pt){var Bt=it.find(function(C){var rs=_t.get(C);if(rs)return rs.slice(0,pt).every(function(no){return no})});if(Bt)return ft=Bt,"break"},gi=_e;gi>0;gi--){var Oo=Fn(gi);if(Oo==="break")break}c.placement!==ft&&(c.modifiersData[b]._skip=!0,c.placement=ft,c.reset=!0)}}const rP={name:"flip",enabled:!0,phase:"main",fn:Zj,requiresIfExists:["offset"],data:{_skip:!1}};function Yk(m,c,f){return f===void 0&&(f={x:0,y:0}),{top:m.top-c.height-f.y,right:m.right-c.width+f.x,bottom:m.bottom-c.height+f.y,left:m.left-c.width-f.x}}function Xk(m){return[Vs,Pr,Dr,qs].some(function(c){return m[c]>=0})}function Jj(m){var c=m.state,f=m.name,b=c.rects.reference,w=c.rects.popper,k=c.modifiersData.preventOverflow,O=gf(c,{elementContext:"reference"}),H=gf(c,{altBoundary:!0}),X=Yk(O,b),Y=Yk(H,w,k),Z=Xk(X),ke=Xk(Y);c.modifiersData[f]={referenceClippingOffsets:X,popperEscapeOffsets:Y,isReferenceHidden:Z,hasPopperEscaped:ke},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":Z,"data-popper-escaped":ke})}const oP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jj};function e7(m,c,f){var b=hi(m),w=[qs,Vs].indexOf(b)>=0?-1:1,k=typeof f=="function"?f(Object.assign({},c,{placement:m})):f,O=k[0],H=k[1];return O=O||0,H=(H||0)*w,[qs,Pr].indexOf(b)>=0?{x:H,y:O}:{x:O,y:H}}function t7(m){var c=m.state,f=m.options,b=m.name,w=f.offset,k=w===void 0?[0,0]:w,O=xS.reduce(function(Z,ke){return Z[ke]=e7(ke,c.rects,k),Z},{}),H=O[c.placement],X=H.x,Y=H.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=X,c.modifiersData.popperOffsets.y+=Y),c.modifiersData[b]=O}const iP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:t7};function n7(m){var c=m.state,f=m.name;c.modifiersData[f]=sP({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}const $S={name:"popperOffsets",enabled:!0,phase:"read",fn:n7,data:{}};function s7(m){return m==="x"?"y":"x"}function r7(m){var c=m.state,f=m.options,b=m.name,w=f.mainAxis,k=w===void 0?!0:w,O=f.altAxis,H=O===void 0?!1:O,X=f.boundary,Y=f.rootBoundary,Z=f.altBoundary,ke=f.padding,qe=f.tether,Ce=qe===void 0?!0:qe,Ae=f.tetherOffset,De=Ae===void 0?0:Ae,Ge=gf(c,{boundary:X,rootBoundary:Y,padding:ke,altBoundary:Z}),rt=hi(c.placement),pe=pf(c.placement),Ze=!pe,it=kS(rt),We=s7(it),ht=c.modifiersData.popperOffsets,_t=c.rects.reference,yt=c.rects.popper,ft=typeof De=="function"?De(Object.assign({},c.rects,{placement:c.placement})):De,le=typeof ft=="number"?{mainAxis:ft,altAxis:ft}:Object.assign({mainAxis:0,altAxis:0},ft),je=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,fn={x:0,y:0};if(!!ht){if(k){var pn,Ke=it==="y"?Vs:qs,ss=it==="y"?Dr:Pr,Yn=it==="y"?"height":"width",ae=ht[it],Yt=ae+Ge[Ke],to=ae-Ge[ss],_e=Ce?-yt[Yn]/2:0,Fn=pe===vc?_t[Yn]:yt[Yn],gi=pe===vc?-yt[Yn]:-_t[Yn],Oo=c.elements.arrow,Ks=Ce&&Oo?OS(Oo):{width:0,height:0},pt=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:ZD(),Bt=pt[Ke],C=pt[ss],rs=ih(0,_t[Yn],Ks[Yn]),no=Ze?_t[Yn]/2-_e-rs-Bt-le.mainAxis:Fn-rs-Bt-le.mainAxis,Sf=Ze?-_t[Yn]/2+_e+rs+C+le.mainAxis:gi+rs+C+le.mainAxis,so=c.elements.arrow&&ch(c.elements.arrow),ia=so?it==="y"?so.clientTop||0:so.clientLeft||0:0,St=(pn=je==null?void 0:je[it])!=null?pn:0,At=ae+no-St-ia,at=ae+Sf-St,te=ih(Ce?Av(Yt,At):Yt,ae,Ce?gc(to,at):to);ht[it]=te,fn[it]=te-ae}if(H){var ks,ko=it==="x"?Vs:qs,Be=it==="x"?Dr:Pr,Xn=ht[We],Vt=We==="y"?"height":"width",ro=Xn+Ge[ko],Zt=Xn-Ge[Be],oo=[Vs,qs].indexOf(rt)!==-1,io=(ks=je==null?void 0:je[We])!=null?ks:0,js=oo?ro:Xn-_t[Vt]-yt[Vt]-io+le.altAxis,fs=oo?Xn+_t[Vt]+yt[Vt]-io-le.altAxis:Zt,Ds=Ce&&oo?Bj(js,Xn,fs):ih(Ce?js:ro,Xn,Ce?fs:Zt);ht[We]=Ds,fn[We]=Ds-Xn}c.modifiersData[b]=fn}}const aP={name:"preventOverflow",enabled:!0,phase:"main",fn:r7,requiresIfExists:["offset"]};function o7(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}function i7(m){return m===Jr(m)||!Xr(m)?LS(m):o7(m)}function a7(m){var c=m.getBoundingClientRect(),f=mf(c.width)/m.offsetWidth||1,b=mf(c.height)/m.offsetHeight||1;return f!==1||b!==1}function l7(m,c,f){f===void 0&&(f=!1);var b=Xr(c),w=Xr(c)&&a7(c),k=Qa(c),O=hf(m,w,f),H={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(b||!b&&!f)&&((pi(c)!=="body"||IS(k))&&(H=i7(c)),Xr(c)?(X=hf(c,!0),X.x+=c.clientLeft,X.y+=c.clientTop):k&&(X.x=BS(k))),{x:O.left+H.scrollLeft-X.x,y:O.top+H.scrollTop-X.y,width:O.width,height:O.height}}function c7(m){var c=new Map,f=new Set,b=[];m.forEach(function(k){c.set(k.name,k)});function w(k){f.add(k.name);var O=[].concat(k.requires||[],k.requiresIfExists||[]);O.forEach(function(H){if(!f.has(H)){var X=c.get(H);X&&w(X)}}),b.push(k)}return m.forEach(function(k){f.has(k.name)||w(k)}),b}function u7(m){var c=c7(m);return YD.reduce(function(f,b){return f.concat(c.filter(function(w){return w.phase===b}))},[])}function f7(m){var c;return function(){return c||(c=new Promise(function(f){Promise.resolve().then(function(){c=void 0,f(m())})})),c}}function d7(m){var c=m.reduce(function(f,b){var w=f[b.name];return f[b.name]=w?Object.assign({},w,b,{options:Object.assign({},w.options,b.options),data:Object.assign({},w.data,b.data)}):b,f},{});return Object.keys(c).map(function(f){return c[f]})}var Qk={placement:"bottom",modifiers:[],strategy:"absolute"};function Zk(){for(var m=arguments.length,c=new Array(m),f=0;f<m;f++)c[f]=arguments[f];return!c.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function kv(m){m===void 0&&(m={});var c=m,f=c.defaultModifiers,b=f===void 0?[]:f,w=c.defaultOptions,k=w===void 0?Qk:w;return function(H,X,Y){Y===void 0&&(Y=k);var Z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qk,k),modifiersData:{},elements:{reference:H,popper:X},attributes:{},styles:{}},ke=[],qe=!1,Ce={state:Z,setOptions:function(rt){var pe=typeof rt=="function"?rt(Z.options):rt;De(),Z.options=Object.assign({},k,Z.options,pe),Z.scrollParents={reference:_c(H)?ah(H):H.contextElement?ah(H.contextElement):[],popper:ah(X)};var Ze=u7(d7([].concat(b,Z.options.modifiers)));return Z.orderedModifiers=Ze.filter(function(it){return it.enabled}),Ae(),Ce.update()},forceUpdate:function(){if(!qe){var rt=Z.elements,pe=rt.reference,Ze=rt.popper;if(!!Zk(pe,Ze)){Z.rects={reference:l7(pe,ch(Ze),Z.options.strategy==="fixed"),popper:OS(Ze)},Z.reset=!1,Z.placement=Z.options.placement,Z.orderedModifiers.forEach(function(le){return Z.modifiersData[le.name]=Object.assign({},le.data)});for(var it=0;it<Z.orderedModifiers.length;it++){if(Z.reset===!0){Z.reset=!1,it=-1;continue}var We=Z.orderedModifiers[it],ht=We.fn,_t=We.options,yt=_t===void 0?{}:_t,ft=We.name;typeof ht=="function"&&(Z=ht({state:Z,options:yt,name:ft,instance:Ce})||Z)}}}},update:f7(function(){return new Promise(function(Ge){Ce.forceUpdate(),Ge(Z)})}),destroy:function(){De(),qe=!0}};if(!Zk(H,X))return Ce;Ce.setOptions(Y).then(function(Ge){!qe&&Y.onFirstUpdate&&Y.onFirstUpdate(Ge)});function Ae(){Z.orderedModifiers.forEach(function(Ge){var rt=Ge.name,pe=Ge.options,Ze=pe===void 0?{}:pe,it=Ge.effect;if(typeof it=="function"){var We=it({state:Z,name:rt,instance:Ce,options:Ze}),ht=function(){};ke.push(We||ht)}})}function De(){ke.forEach(function(Ge){return Ge()}),ke=[]}return Ce}}var m7=kv(),h7=[PS,$S,DS,RS],p7=kv({defaultModifiers:h7}),g7=[PS,$S,DS,RS,iP,rP,aP,tP,oP],MS=kv({defaultModifiers:g7});const lP=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:kv,detectOverflow:gf,createPopperBase:m7,createPopper:MS,createPopperLite:p7,top:Vs,bottom:Dr,right:Pr,left:qs,auto:Rv,basePlacements:vf,start:vc,end:df,clippingParents:MD,viewport:TS,popper:lf,reference:FD,variationPlacements:hS,placements:xS,beforeRead:UD,read:HD,afterRead:WD,beforeMain:zD,main:VD,afterMain:qD,beforeWrite:KD,write:jD,afterWrite:GD,modifierPhases:YD,applyStyles:RS,arrow:tP,computeStyles:DS,eventListeners:PS,flip:rP,hide:oP,offset:iP,popperOffsets:$S,preventOverflow:aP},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const b7=1e6,v7=1e3,bS="transitionend",_7=m=>m==null?`${m}`:Object.prototype.toString.call(m).match(/\s([a-z]+)/i)[1].toLowerCase(),y7=m=>{do m+=Math.floor(Math.random()*b7);while(document.getElementById(m));return m},cP=m=>{let c=m.getAttribute("data-bs-target");if(!c||c==="#"){let f=m.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),c=f&&f!=="#"?f.trim():null}return c},uP=m=>{const c=cP(m);return c&&document.querySelector(c)?c:null},Zi=m=>{const c=cP(m);return c?document.querySelector(c):null},C7=m=>{if(!m)return 0;let{transitionDuration:c,transitionDelay:f}=window.getComputedStyle(m);const b=Number.parseFloat(c),w=Number.parseFloat(f);return!b&&!w?0:(c=c.split(",")[0],f=f.split(",")[0],(Number.parseFloat(c)+Number.parseFloat(f))*v7)},fP=m=>{m.dispatchEvent(new Event(bS))},Ji=m=>!m||typeof m!="object"?!1:(typeof m.jquery<"u"&&(m=m[0]),typeof m.nodeType<"u"),Ya=m=>Ji(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(m):null,_f=m=>{if(!Ji(m)||m.getClientRects().length===0)return!1;const c=getComputedStyle(m).getPropertyValue("visibility")==="visible",f=m.closest("details:not([open])");if(!f)return c;if(f!==m){const b=m.closest("summary");if(b&&b.parentNode!==f||b===null)return!1}return c},Xa=m=>!m||m.nodeType!==Node.ELEMENT_NODE||m.classList.contains("disabled")?!0:typeof m.disabled<"u"?m.disabled:m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false",dP=m=>{if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){const c=m.getRootNode();return c instanceof ShadowRoot?c:null}return m instanceof ShadowRoot?m:m.parentNode?dP(m.parentNode):null},Tv=()=>{},uh=m=>{m.offsetHeight},mP=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Z0=[],E7=m=>{document.readyState==="loading"?(Z0.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of Z0)c()}),Z0.push(m)):m()},Zr=()=>document.documentElement.dir==="rtl",eo=m=>{E7(()=>{const c=mP();if(c){const f=m.NAME,b=c.fn[f];c.fn[f]=m.jQueryInterface,c.fn[f].Constructor=m,c.fn[f].noConflict=()=>(c.fn[f]=b,m.jQueryInterface)}})},Qi=m=>{typeof m=="function"&&m()},hP=(m,c,f=!0)=>{if(!f){Qi(m);return}const b=5,w=C7(c)+b;let k=!1;const O=({target:H})=>{H===c&&(k=!0,c.removeEventListener(bS,O),Qi(m))};c.addEventListener(bS,O),setTimeout(()=>{k||fP(c)},w)},FS=(m,c,f,b)=>{const w=m.length;let k=m.indexOf(c);return k===-1?!f&&b?m[w-1]:m[0]:(k+=f?1:-1,b&&(k=(k+w)%w),m[Math.max(0,Math.min(k,w-1))])},w7=/[^.]*(?=\..*)\.|.*/,S7=/\..*/,A7=/::\d+$/,J0={};let Jk=1;const pP={mouseenter:"mouseover",mouseleave:"mouseout"},T7=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function gP(m,c){return c&&`${c}::${Jk++}`||m.uidEvent||Jk++}function bP(m){const c=gP(m);return m.uidEvent=c,J0[c]=J0[c]||{},J0[c]}function x7(m,c){return function f(b){return US(b,{delegateTarget:m}),f.oneOff&&ve.off(m,b.type,c),c.apply(m,[b])}}function N7(m,c,f){return function b(w){const k=m.querySelectorAll(c);for(let{target:O}=w;O&&O!==this;O=O.parentNode)for(const H of k)if(H===O)return US(w,{delegateTarget:O}),b.oneOff&&ve.off(m,w.type,c,f),f.apply(O,[w])}}function vP(m,c,f=null){return Object.values(m).find(b=>b.callable===c&&b.delegationSelector===f)}function _P(m,c,f){const b=typeof c=="string",w=b?f:c||f;let k=yP(m);return T7.has(k)||(k=m),[b,w,k]}function eD(m,c,f,b,w){if(typeof c!="string"||!m)return;let[k,O,H]=_P(c,f,b);c in pP&&(O=(Ae=>function(De){if(!De.relatedTarget||De.relatedTarget!==De.delegateTarget&&!De.delegateTarget.contains(De.relatedTarget))return Ae.call(this,De)})(O));const X=bP(m),Y=X[H]||(X[H]={}),Z=vP(Y,O,k?f:null);if(Z){Z.oneOff=Z.oneOff&&w;return}const ke=gP(O,c.replace(w7,"")),qe=k?N7(m,f,O):x7(m,O);qe.delegationSelector=k?f:null,qe.callable=O,qe.oneOff=w,qe.uidEvent=ke,Y[ke]=qe,m.addEventListener(H,qe,k)}function vS(m,c,f,b,w){const k=vP(c[f],b,w);!k||(m.removeEventListener(f,k,Boolean(w)),delete c[f][k.uidEvent])}function R7(m,c,f,b){const w=c[f]||{};for(const k of Object.keys(w))if(k.includes(b)){const O=w[k];vS(m,c,f,O.callable,O.delegationSelector)}}function yP(m){return m=m.replace(S7,""),pP[m]||m}const ve={on(m,c,f,b){eD(m,c,f,b,!1)},one(m,c,f,b){eD(m,c,f,b,!0)},off(m,c,f,b){if(typeof c!="string"||!m)return;const[w,k,O]=_P(c,f,b),H=O!==c,X=bP(m),Y=X[O]||{},Z=c.startsWith(".");if(typeof k<"u"){if(!Object.keys(Y).length)return;vS(m,X,O,k,w?f:null);return}if(Z)for(const ke of Object.keys(X))R7(m,X,ke,c.slice(1));for(const ke of Object.keys(Y)){const qe=ke.replace(A7,"");if(!H||c.includes(qe)){const Ce=Y[ke];vS(m,X,O,Ce.callable,Ce.delegationSelector)}}},trigger(m,c,f){if(typeof c!="string"||!m)return null;const b=mP(),w=yP(c),k=c!==w;let O=null,H=!0,X=!0,Y=!1;k&&b&&(O=b.Event(c,f),b(m).trigger(O),H=!O.isPropagationStopped(),X=!O.isImmediatePropagationStopped(),Y=O.isDefaultPrevented());let Z=new Event(c,{bubbles:H,cancelable:!0});return Z=US(Z,f),Y&&Z.preventDefault(),X&&m.dispatchEvent(Z),Z.defaultPrevented&&O&&O.preventDefault(),Z}};function US(m,c){for(const[f,b]of Object.entries(c||{}))try{m[f]=b}catch{Object.defineProperty(m,f,{configurable:!0,get(){return b}})}return m}const ja=new Map,eS={set(m,c,f){ja.has(m)||ja.set(m,new Map);const b=ja.get(m);if(!b.has(c)&&b.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(b.keys())[0]}.`);return}b.set(c,f)},get(m,c){return ja.has(m)&&ja.get(m).get(c)||null},remove(m,c){if(!ja.has(m))return;const f=ja.get(m);f.delete(c),f.size===0&&ja.delete(m)}};function tD(m){if(m==="true")return!0;if(m==="false")return!1;if(m===Number(m).toString())return Number(m);if(m===""||m==="null")return null;if(typeof m!="string")return m;try{return JSON.parse(decodeURIComponent(m))}catch{return m}}function tS(m){return m.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const ea={setDataAttribute(m,c,f){m.setAttribute(`data-bs-${tS(c)}`,f)},removeDataAttribute(m,c){m.removeAttribute(`data-bs-${tS(c)}`)},getDataAttributes(m){if(!m)return{};const c={},f=Object.keys(m.dataset).filter(b=>b.startsWith("bs")&&!b.startsWith("bsConfig"));for(const b of f){let w=b.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),c[w]=tD(m.dataset[b])}return c},getDataAttribute(m,c){return tD(m.getAttribute(`data-bs-${tS(c)}`))}};class fh{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,f){const b=Ji(f)?ea.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof b=="object"?b:{},...Ji(f)?ea.getDataAttributes(f):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,f=this.constructor.DefaultType){for(const b of Object.keys(f)){const w=f[b],k=c[b],O=Ji(k)?"element":_7(k);if(!new RegExp(w).test(O))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${b}" provided type "${O}" but expected type "${w}".`)}}}const O7="5.2.2";class No extends fh{constructor(c,f){super(),c=Ya(c),c&&(this._element=c,this._config=this._getConfig(f),eS.set(this._element,this.constructor.DATA_KEY,this))}dispose(){eS.remove(this._element,this.constructor.DATA_KEY),ve.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,f,b=!0){hP(c,f,b)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return eS.get(Ya(c),this.DATA_KEY)}static getOrCreateInstance(c,f={}){return this.getInstance(c)||new this(c,typeof f=="object"?f:null)}static get VERSION(){return O7}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const Dv=(m,c="hide")=>{const f=`click.dismiss${m.EVENT_KEY}`,b=m.NAME;ve.on(document,f,`[data-bs-dismiss="${b}"]`,function(w){if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),Xa(this))return;const k=Zi(this)||this.closest(`.${b}`);m.getOrCreateInstance(k)[c]()})},k7="alert",D7="bs.alert",CP=`.${D7}`,P7=`close${CP}`,L7=`closed${CP}`,B7="fade",I7="show";class dh extends No{static get NAME(){return k7}close(){if(ve.trigger(this._element,P7).defaultPrevented)return;this._element.classList.remove(I7);const f=this._element.classList.contains(B7);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),ve.trigger(this._element,L7),this.dispose()}static jQueryInterface(c){return this.each(function(){const f=dh.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}Dv(dh,"close");eo(dh);const $7="button",M7="bs.button",F7=`.${M7}`,U7=".data-api",H7="active",nD='[data-bs-toggle="button"]',W7=`click${F7}${U7}`;class mh extends No{static get NAME(){return $7}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(H7))}static jQueryInterface(c){return this.each(function(){const f=mh.getOrCreateInstance(this);c==="toggle"&&f[c]()})}}ve.on(document,W7,nD,m=>{m.preventDefault();const c=m.target.closest(nD);mh.getOrCreateInstance(c).toggle()});eo(mh);const Et={find(m,c=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(c,m))},findOne(m,c=document.documentElement){return Element.prototype.querySelector.call(c,m)},children(m,c){return[].concat(...m.children).filter(f=>f.matches(c))},parents(m,c){const f=[];let b=m.parentNode.closest(c);for(;b;)f.push(b),b=b.parentNode.closest(c);return f},prev(m,c){let f=m.previousElementSibling;for(;f;){if(f.matches(c))return[f];f=f.previousElementSibling}return[]},next(m,c){let f=m.nextElementSibling;for(;f;){if(f.matches(c))return[f];f=f.nextElementSibling}return[]},focusableChildren(m){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(c,m).filter(f=>!Xa(f)&&_f(f))}},z7="swipe",yf=".bs.swipe",V7=`touchstart${yf}`,q7=`touchmove${yf}`,K7=`touchend${yf}`,j7=`pointerdown${yf}`,G7=`pointerup${yf}`,Y7="touch",X7="pen",Q7="pointer-event",Z7=40,J7={endCallback:null,leftCallback:null,rightCallback:null},eG={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xv extends fh{constructor(c,f){super(),this._element=c,!(!c||!xv.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return J7}static get DefaultType(){return eG}static get NAME(){return z7}dispose(){ve.off(this._element,yf)}_start(c){if(!this._supportPointerEvents){this._deltaX=c.touches[0].clientX;return}this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX)}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Qi(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=Z7)return;const f=c/this._deltaX;this._deltaX=0,f&&Qi(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ve.on(this._element,j7,c=>this._start(c)),ve.on(this._element,G7,c=>this._end(c)),this._element.classList.add(Q7)):(ve.on(this._element,V7,c=>this._start(c)),ve.on(this._element,q7,c=>this._move(c)),ve.on(this._element,K7,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType===X7||c.pointerType===Y7)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const tG="carousel",nG="bs.carousel",Za=`.${nG}`,EP=".data-api",sG="ArrowLeft",rG="ArrowRight",oG=500,nh="next",of="prev",cf="left",Cv="right",iG=`slide${Za}`,nS=`slid${Za}`,aG=`keydown${Za}`,lG=`mouseenter${Za}`,cG=`mouseleave${Za}`,uG=`dragstart${Za}`,fG=`load${Za}${EP}`,dG=`click${Za}${EP}`,wP="carousel",hv="active",mG="slide",hG="carousel-item-end",pG="carousel-item-start",gG="carousel-item-next",bG="carousel-item-prev",SP=".active",AP=".carousel-item",vG=SP+AP,_G=".carousel-item img",yG=".carousel-indicators",CG="[data-bs-slide], [data-bs-slide-to]",EG='[data-bs-ride="carousel"]',wG={[sG]:Cv,[rG]:cf},SG={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},AG={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cf extends No{constructor(c,f){super(c,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Et.findOne(yG,this._element),this._addEventListeners(),this._config.ride===wP&&this.cycle()}static get Default(){return SG}static get DefaultType(){return AG}static get NAME(){return tG}next(){this._slide(nh)}nextWhenVisible(){!document.hidden&&_f(this._element)&&this.next()}prev(){this._slide(of)}pause(){this._isSliding&&fP(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){ve.one(this._element,nS,()=>this.cycle());return}this.cycle()}}to(c){const f=this._getItems();if(c>f.length-1||c<0)return;if(this._isSliding){ve.one(this._element,nS,()=>this.to(c));return}const b=this._getItemIndex(this._getActive());if(b===c)return;const w=c>b?nh:of;this._slide(w,f[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&ve.on(this._element,aG,c=>this._keydown(c)),this._config.pause==="hover"&&(ve.on(this._element,lG,()=>this.pause()),ve.on(this._element,cG,()=>this._maybeEnableCycle())),this._config.touch&&xv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of Et.find(_G,this._element))ve.on(b,uG,w=>w.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(cf)),rightCallback:()=>this._slide(this._directionToOrder(Cv)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),oG+this._config.interval))}};this._swipeHelper=new xv(this._element,f)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const f=wG[c.key];f&&(c.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const f=Et.findOne(SP,this._indicatorsElement);f.classList.remove(hv),f.removeAttribute("aria-current");const b=Et.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);b&&(b.classList.add(hv),b.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const f=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(c,f=null){if(this._isSliding)return;const b=this._getActive(),w=c===nh,k=f||FS(this._getItems(),b,w,this._config.wrap);if(k===b)return;const O=this._getItemIndex(k),H=Ce=>ve.trigger(this._element,Ce,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(b),to:O});if(H(iG).defaultPrevented||!b||!k)return;const Y=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(O),this._activeElement=k;const Z=w?pG:hG,ke=w?gG:bG;k.classList.add(ke),uh(k),b.classList.add(Z),k.classList.add(Z);const qe=()=>{k.classList.remove(Z,ke),k.classList.add(hv),b.classList.remove(hv,ke,Z),this._isSliding=!1,H(nS)};this._queueCallback(qe,b,this._isAnimated()),Y&&this.cycle()}_isAnimated(){return this._element.classList.contains(mG)}_getActive(){return Et.findOne(vG,this._element)}_getItems(){return Et.find(AP,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Zr()?c===cf?of:nh:c===cf?nh:of}_orderToDirection(c){return Zr()?c===of?cf:Cv:c===of?Cv:cf}static jQueryInterface(c){return this.each(function(){const f=Cf.getOrCreateInstance(this,c);if(typeof c=="number"){f.to(c);return}if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}ve.on(document,dG,CG,function(m){const c=Zi(this);if(!c||!c.classList.contains(wP))return;m.preventDefault();const f=Cf.getOrCreateInstance(c),b=this.getAttribute("data-bs-slide-to");if(b){f.to(b),f._maybeEnableCycle();return}if(ea.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()});ve.on(window,fG,()=>{const m=Et.find(EG);for(const c of m)Cf.getOrCreateInstance(c)});eo(Cf);const TG="collapse",xG="bs.collapse",hh=`.${xG}`,NG=".data-api",RG=`show${hh}`,OG=`shown${hh}`,kG=`hide${hh}`,DG=`hidden${hh}`,PG=`click${hh}${NG}`,sS="show",ff="collapse",pv="collapsing",LG="collapsed",BG=`:scope .${ff} .${ff}`,IG="collapse-horizontal",$G="width",MG="height",FG=".collapse.show, .collapse.collapsing",_S='[data-bs-toggle="collapse"]',UG={parent:null,toggle:!0},HG={parent:"(null|element)",toggle:"boolean"};class bf extends No{constructor(c,f){super(c,f),this._isTransitioning=!1,this._triggerArray=[];const b=Et.find(_S);for(const w of b){const k=uP(w),O=Et.find(k).filter(H=>H===this._element);k!==null&&O.length&&this._triggerArray.push(w)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return UG}static get DefaultType(){return HG}static get NAME(){return TG}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(FG).filter(H=>H!==this._element).map(H=>bf.getOrCreateInstance(H,{toggle:!1}))),c.length&&c[0]._isTransitioning||ve.trigger(this._element,RG).defaultPrevented)return;for(const H of c)H.hide();const b=this._getDimension();this._element.classList.remove(ff),this._element.classList.add(pv),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=()=>{this._isTransitioning=!1,this._element.classList.remove(pv),this._element.classList.add(ff,sS),this._element.style[b]="",ve.trigger(this._element,OG)},O=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(w,this._element,!0),this._element.style[b]=`${this._element[O]}px`}hide(){if(this._isTransitioning||!this._isShown()||ve.trigger(this._element,kG).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,uh(this._element),this._element.classList.add(pv),this._element.classList.remove(ff,sS);for(const w of this._triggerArray){const k=Zi(w);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0;const b=()=>{this._isTransitioning=!1,this._element.classList.remove(pv),this._element.classList.add(ff),ve.trigger(this._element,DG)};this._element.style[f]="",this._queueCallback(b,this._element,!0)}_isShown(c=this._element){return c.classList.contains(sS)}_configAfterMerge(c){return c.toggle=Boolean(c.toggle),c.parent=Ya(c.parent),c}_getDimension(){return this._element.classList.contains(IG)?$G:MG}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(_S);for(const f of c){const b=Zi(f);b&&this._addAriaAndCollapsedClass([f],this._isShown(b))}}_getFirstLevelChildren(c){const f=Et.find(BG,this._config.parent);return Et.find(c,this._config.parent).filter(b=>!f.includes(b))}_addAriaAndCollapsedClass(c,f){if(!!c.length)for(const b of c)b.classList.toggle(LG,!f),b.setAttribute("aria-expanded",f)}static jQueryInterface(c){const f={};return typeof c=="string"&&/show|hide/.test(c)&&(f.toggle=!1),this.each(function(){const b=bf.getOrCreateInstance(this,f);if(typeof c=="string"){if(typeof b[c]>"u")throw new TypeError(`No method named "${c}"`);b[c]()}})}}ve.on(document,PG,_S,function(m){(m.target.tagName==="A"||m.delegateTarget&&m.delegateTarget.tagName==="A")&&m.preventDefault();const c=uP(this),f=Et.find(c);for(const b of f)bf.getOrCreateInstance(b,{toggle:!1}).toggle()});eo(bf);const sD="dropdown",WG="bs.dropdown",Ec=`.${WG}`,HS=".data-api",zG="Escape",rD="Tab",VG="ArrowUp",oD="ArrowDown",qG=2,KG=`hide${Ec}`,jG=`hidden${Ec}`,GG=`show${Ec}`,YG=`shown${Ec}`,TP=`click${Ec}${HS}`,xP=`keydown${Ec}${HS}`,XG=`keyup${Ec}${HS}`,uf="show",QG="dropup",ZG="dropend",JG="dropstart",eY="dropup-center",tY="dropdown-center",hc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nY=`${hc}.${uf}`,Ev=".dropdown-menu",sY=".navbar",rY=".navbar-nav",oY=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",iY=Zr()?"top-end":"top-start",aY=Zr()?"top-start":"top-end",lY=Zr()?"bottom-end":"bottom-start",cY=Zr()?"bottom-start":"bottom-end",uY=Zr()?"left-start":"right-start",fY=Zr()?"right-start":"left-start",dY="top",mY="bottom",hY={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},pY={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xo extends No{constructor(c,f){super(c,f),this._popper=null,this._parent=this._element.parentNode,this._menu=Et.next(this._element,Ev)[0]||Et.prev(this._element,Ev)[0]||Et.findOne(Ev,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return hY}static get DefaultType(){return pY}static get NAME(){return sD}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Xa(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!ve.trigger(this._element,GG,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(rY))for(const b of[].concat(...document.body.children))ve.on(b,"mouseover",Tv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(uf),this._element.classList.add(uf),ve.trigger(this._element,YG,c)}}hide(){if(Xa(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!ve.trigger(this._element,KG,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))ve.off(b,"mouseover",Tv);this._popper&&this._popper.destroy(),this._menu.classList.remove(uf),this._element.classList.remove(uf),this._element.setAttribute("aria-expanded","false"),ea.removeDataAttribute(this._menu,"popper"),ve.trigger(this._element,jG,c)}}_getConfig(c){if(c=super._getConfig(c),typeof c.reference=="object"&&!Ji(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${sD.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof lP>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:Ji(this._config.reference)?c=Ya(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const f=this._getPopperConfig();this._popper=MS(c,this._menu,f)}_isShown(){return this._menu.classList.contains(uf)}_getPlacement(){const c=this._parent;if(c.classList.contains(ZG))return uY;if(c.classList.contains(JG))return fY;if(c.classList.contains(eY))return dY;if(c.classList.contains(tY))return mY;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains(QG)?f?aY:iY:f?cY:lY}_detectNavbar(){return this._element.closest(sY)!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ea.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...typeof this._config.popperConfig=="function"?this._config.popperConfig(c):this._config.popperConfig}}_selectMenuItem({key:c,target:f}){const b=Et.find(oY,this._menu).filter(w=>_f(w));!b.length||FS(b,f,c===oD,!b.includes(f)).focus()}static jQueryInterface(c){return this.each(function(){const f=xo.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}static clearMenus(c){if(c.button===qG||c.type==="keyup"&&c.key!==rD)return;const f=Et.find(nY);for(const b of f){const w=xo.getInstance(b);if(!w||w._config.autoClose===!1)continue;const k=c.composedPath(),O=k.includes(w._menu);if(k.includes(w._element)||w._config.autoClose==="inside"&&!O||w._config.autoClose==="outside"&&O||w._menu.contains(c.target)&&(c.type==="keyup"&&c.key===rD||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const H={relatedTarget:w._element};c.type==="click"&&(H.clickEvent=c),w._completeHide(H)}}static dataApiKeydownHandler(c){const f=/input|textarea/i.test(c.target.tagName),b=c.key===zG,w=[VG,oD].includes(c.key);if(!w&&!b||f&&!b)return;c.preventDefault();const k=this.matches(hc)?this:Et.prev(this,hc)[0]||Et.next(this,hc)[0]||Et.findOne(hc,c.delegateTarget.parentNode),O=xo.getOrCreateInstance(k);if(w){c.stopPropagation(),O.show(),O._selectMenuItem(c);return}O._isShown()&&(c.stopPropagation(),O.hide(),k.focus())}}ve.on(document,xP,hc,xo.dataApiKeydownHandler);ve.on(document,xP,Ev,xo.dataApiKeydownHandler);ve.on(document,TP,xo.clearMenus);ve.on(document,XG,xo.clearMenus);ve.on(document,TP,hc,function(m){m.preventDefault(),xo.getOrCreateInstance(this).toggle()});eo(xo);const iD=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aD=".sticky-top",gv="padding-right",lD="margin-right";class yS{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gv,f=>f+c),this._setElementAttributes(iD,gv,f=>f+c),this._setElementAttributes(aD,lD,f=>f-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gv),this._resetElementAttributes(iD,gv),this._resetElementAttributes(aD,lD)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,f,b){const w=this.getWidth(),k=O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+w)return;this._saveInitialAttribute(O,f);const H=window.getComputedStyle(O).getPropertyValue(f);O.style.setProperty(f,`${b(Number.parseFloat(H))}px`)};this._applyManipulationCallback(c,k)}_saveInitialAttribute(c,f){const b=c.style.getPropertyValue(f);b&&ea.setDataAttribute(c,f,b)}_resetElementAttributes(c,f){const b=w=>{const k=ea.getDataAttribute(w,f);if(k===null){w.style.removeProperty(f);return}ea.removeDataAttribute(w,f),w.style.setProperty(f,k)};this._applyManipulationCallback(c,b)}_applyManipulationCallback(c,f){if(Ji(c)){f(c);return}for(const b of Et.find(c,this._element))f(b)}}const NP="backdrop",gY="fade",cD="show",uD=`mousedown.bs.${NP}`,bY={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vY={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class RP extends fh{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return bY}static get DefaultType(){return vY}static get NAME(){return NP}show(c){if(!this._config.isVisible){Qi(c);return}this._append();const f=this._getElement();this._config.isAnimated&&uh(f),f.classList.add(cD),this._emulateAnimation(()=>{Qi(c)})}hide(c){if(!this._config.isVisible){Qi(c);return}this._getElement().classList.remove(cD),this._emulateAnimation(()=>{this.dispose(),Qi(c)})}dispose(){!this._isAppended||(ve.off(this._element,uD),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add(gY),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Ya(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),ve.on(c,uD,()=>{Qi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){hP(c,this._getElement(),this._config.isAnimated)}}const _Y="focustrap",yY="bs.focustrap",Nv=`.${yY}`,CY=`focusin${Nv}`,EY=`keydown.tab${Nv}`,wY="Tab",SY="forward",fD="backward",AY={autofocus:!0,trapElement:null},TY={autofocus:"boolean",trapElement:"element"};class OP extends fh{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return AY}static get DefaultType(){return TY}static get NAME(){return _Y}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ve.off(document,Nv),ve.on(document,CY,c=>this._handleFocusin(c)),ve.on(document,EY,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,ve.off(document,Nv))}_handleFocusin(c){const{trapElement:f}=this._config;if(c.target===document||c.target===f||f.contains(c.target))return;const b=Et.focusableChildren(f);b.length===0?f.focus():this._lastTabNavDirection===fD?b[b.length-1].focus():b[0].focus()}_handleKeydown(c){c.key===wY&&(this._lastTabNavDirection=c.shiftKey?fD:SY)}}const xY="modal",NY="bs.modal",Ro=`.${NY}`,RY=".data-api",OY="Escape",kY=`hide${Ro}`,DY=`hidePrevented${Ro}`,kP=`hidden${Ro}`,DP=`show${Ro}`,PY=`shown${Ro}`,LY=`resize${Ro}`,BY=`click.dismiss${Ro}`,IY=`mousedown.dismiss${Ro}`,$Y=`keydown.dismiss${Ro}`,MY=`click${Ro}${RY}`,dD="modal-open",FY="fade",mD="show",rS="modal-static",UY=".modal.show",HY=".modal-dialog",WY=".modal-body",zY='[data-bs-toggle="modal"]',VY={backdrop:!0,focus:!0,keyboard:!0},qY={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yc extends No{constructor(c,f){super(c,f),this._dialog=Et.findOne(HY,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yS,this._addEventListeners()}static get Default(){return VY}static get DefaultType(){return qY}static get NAME(){return xY}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||ve.trigger(this._element,DP,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(dD),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||ve.trigger(this._element,kY).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mD),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const c of[window,this._dialog])ve.off(c,Ro);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new RP({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new OP({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=Et.findOne(WY,this._dialog);f&&(f.scrollTop=0),uh(this._element),this._element.classList.add(mD);const b=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ve.trigger(this._element,PY,{relatedTarget:c})};this._queueCallback(b,this._dialog,this._isAnimated())}_addEventListeners(){ve.on(this._element,$Y,c=>{if(c.key===OY){if(this._config.keyboard){c.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),ve.on(window,LY,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ve.on(this._element,IY,c=>{ve.one(this._element,BY,f=>{if(!(this._element!==c.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(dD),this._resetAdjustments(),this._scrollBar.reset(),ve.trigger(this._element,kP)})}_isAnimated(){return this._element.classList.contains(FY)}_triggerBackdropTransition(){if(ve.trigger(this._element,DY).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(rS)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(rS),this._queueCallback(()=>{this._element.classList.remove(rS),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),b=f>0;if(b&&!c){const w=Zr()?"paddingLeft":"paddingRight";this._element.style[w]=`${f}px`}if(!b&&c){const w=Zr()?"paddingRight":"paddingLeft";this._element.style[w]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,f){return this.each(function(){const b=yc.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof b[c]>"u")throw new TypeError(`No method named "${c}"`);b[c](f)}})}}ve.on(document,MY,zY,function(m){const c=Zi(this);["A","AREA"].includes(this.tagName)&&m.preventDefault(),ve.one(c,DP,w=>{w.defaultPrevented||ve.one(c,kP,()=>{_f(this)&&this.focus()})});const f=Et.findOne(UY);f&&yc.getInstance(f).hide(),yc.getOrCreateInstance(c).toggle(this)});Dv(yc);eo(yc);const KY="offcanvas",jY="bs.offcanvas",ra=`.${jY}`,PP=".data-api",GY=`load${ra}${PP}`,YY="Escape",hD="show",pD="showing",gD="hiding",XY="offcanvas-backdrop",LP=".offcanvas.show",QY=`show${ra}`,ZY=`shown${ra}`,JY=`hide${ra}`,bD=`hidePrevented${ra}`,BP=`hidden${ra}`,eX=`resize${ra}`,tX=`click${ra}${PP}`,nX=`keydown.dismiss${ra}`,sX='[data-bs-toggle="offcanvas"]',rX={backdrop:!0,keyboard:!0,scroll:!1},oX={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class sa extends No{constructor(c,f){super(c,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return rX}static get DefaultType(){return oX}static get NAME(){return KY}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){if(this._isShown||ve.trigger(this._element,QY,{relatedTarget:c}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new yS().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pD);const b=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(hD),this._element.classList.remove(pD),ve.trigger(this._element,ZY,{relatedTarget:c})};this._queueCallback(b,this._element,!0)}hide(){if(!this._isShown||ve.trigger(this._element,JY).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(gD),this._backdrop.hide();const f=()=>{this._element.classList.remove(hD,gD),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yS().reset(),ve.trigger(this._element,BP)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=()=>{if(this._config.backdrop==="static"){ve.trigger(this._element,bD);return}this.hide()},f=Boolean(this._config.backdrop);return new RP({className:XY,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?c:null})}_initializeFocusTrap(){return new OP({trapElement:this._element})}_addEventListeners(){ve.on(this._element,nX,c=>{if(c.key===YY){if(!this._config.keyboard){ve.trigger(this._element,bD);return}this.hide()}})}static jQueryInterface(c){return this.each(function(){const f=sa.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}ve.on(document,tX,sX,function(m){const c=Zi(this);if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),Xa(this))return;ve.one(c,BP,()=>{_f(this)&&this.focus()});const f=Et.findOne(LP);f&&f!==c&&sa.getInstance(f).hide(),sa.getOrCreateInstance(c).toggle(this)});ve.on(window,GY,()=>{for(const m of Et.find(LP))sa.getOrCreateInstance(m).show()});ve.on(window,eX,()=>{for(const m of Et.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(m).position!=="fixed"&&sa.getOrCreateInstance(m).hide()});Dv(sa);eo(sa);const iX=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),aX=/^aria-[\w-]*$/i,lX=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,cX=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,uX=(m,c)=>{const f=m.nodeName.toLowerCase();return c.includes(f)?iX.has(f)?Boolean(lX.test(m.nodeValue)||cX.test(m.nodeValue)):!0:c.filter(b=>b instanceof RegExp).some(b=>b.test(f))},IP={"*":["class","dir","id","lang","role",aX],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function fX(m,c,f){if(!m.length)return m;if(f&&typeof f=="function")return f(m);const w=new window.DOMParser().parseFromString(m,"text/html"),k=[].concat(...w.body.querySelectorAll("*"));for(const O of k){const H=O.nodeName.toLowerCase();if(!Object.keys(c).includes(H)){O.remove();continue}const X=[].concat(...O.attributes),Y=[].concat(c["*"]||[],c[H]||[]);for(const Z of X)uX(Z,Y)||O.removeAttribute(Z.nodeName)}return w.body.innerHTML}const dX="TemplateFactory",mX={allowList:IP,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hX={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pX={entry:"(string|element|function|null)",selector:"(string|element)"};class gX extends fh{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return mX}static get DefaultType(){return hX}static get NAME(){return dX}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[w,k]of Object.entries(this._config.content))this._setContent(c,k,w);const f=c.children[0],b=this._resolvePossibleFunction(this._config.extraClass);return b&&f.classList.add(...b.split(" ")),f}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[f,b]of Object.entries(c))super._typeCheckConfig({selector:f,entry:b},pX)}_setContent(c,f,b){const w=Et.findOne(b,c);if(!!w){if(f=this._resolvePossibleFunction(f),!f){w.remove();return}if(Ji(f)){this._putElementInTemplate(Ya(f),w);return}if(this._config.html){w.innerHTML=this._maybeSanitize(f);return}w.textContent=f}}_maybeSanitize(c){return this._config.sanitize?fX(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return typeof c=="function"?c(this):c}_putElementInTemplate(c,f){if(this._config.html){f.innerHTML="",f.append(c);return}f.textContent=c.textContent}}const bX="tooltip",vX=new Set(["sanitize","allowList","sanitizeFn"]),oS="fade",_X="modal",bv="show",yX=".tooltip-inner",vD=`.${_X}`,_D="hide.bs.modal",sh="hover",iS="focus",CX="click",EX="manual",wX="hide",SX="hidden",AX="show",TX="shown",xX="inserted",NX="click",RX="focusin",OX="focusout",kX="mouseenter",DX="mouseleave",PX={AUTO:"auto",TOP:"top",RIGHT:Zr()?"left":"right",BOTTOM:"bottom",LEFT:Zr()?"right":"left"},LX={allowList:IP,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},BX={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class wc extends No{constructor(c,f){if(typeof lP>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return LX}static get DefaultType(){return BX}static get NAME(){return bX}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ve.off(this._element.closest(vD),_D,this._hideModalHandler),this.tip&&this.tip.remove(),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const c=ve.trigger(this._element,this.constructor.eventName(AX)),b=(dP(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!b)return;this.tip&&(this.tip.remove(),this.tip=null);const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(w),ve.trigger(this._element,this.constructor.eventName(xX))),this._popper?this._popper.update():this._popper=this._createPopper(w),w.classList.add(bv),"ontouchstart"in document.documentElement)for(const H of[].concat(...document.body.children))ve.on(H,"mouseover",Tv);const O=()=>{ve.trigger(this._element,this.constructor.eventName(TX)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(O,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ve.trigger(this._element,this.constructor.eventName(wX)).defaultPrevented)return;const f=this._getTipElement();if(f.classList.remove(bv),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))ve.off(w,"mouseover",Tv);this._activeTrigger[CX]=!1,this._activeTrigger[iS]=!1,this._activeTrigger[sh]=!1,this._isHovered=null;const b=()=>{this._isWithActiveTrigger()||(this._isHovered||f.remove(),this._element.removeAttribute("aria-describedby"),ve.trigger(this._element,this.constructor.eventName(SX)),this._disposePopper())};this._queueCallback(b,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const f=this._getTemplateFactory(c).toHtml();if(!f)return null;f.classList.remove(oS,bv),f.classList.add(`bs-${this.constructor.NAME}-auto`);const b=y7(this.constructor.NAME).toString();return f.setAttribute("id",b),this._isAnimated()&&f.classList.add(oS),f}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new gX({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yX]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oS)}_isShown(){return this.tip&&this.tip.classList.contains(bv)}_createPopper(c){const f=typeof this._config.placement=="function"?this._config.placement.call(this,c,this._element):this._config.placement,b=PX[f.toUpperCase()];return MS(this._element,c,this._getPopperConfig(b))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_resolvePossibleFunction(c){return typeof c=="function"?c.call(this._element):c}_getPopperConfig(c){const f={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:b=>{this._getTipElement().setAttribute("data-popper-placement",b.state.placement)}}]};return{...f,...typeof this._config.popperConfig=="function"?this._config.popperConfig(f):this._config.popperConfig}}_setListeners(){const c=this._config.trigger.split(" ");for(const f of c)if(f==="click")ve.on(this._element,this.constructor.eventName(NX),this._config.selector,b=>{this._initializeOnDelegatedTarget(b).toggle()});else if(f!==EX){const b=f===sh?this.constructor.eventName(kX):this.constructor.eventName(RX),w=f===sh?this.constructor.eventName(DX):this.constructor.eventName(OX);ve.on(this._element,b,this._config.selector,k=>{const O=this._initializeOnDelegatedTarget(k);O._activeTrigger[k.type==="focusin"?iS:sh]=!0,O._enter()}),ve.on(this._element,w,this._config.selector,k=>{const O=this._initializeOnDelegatedTarget(k);O._activeTrigger[k.type==="focusout"?iS:sh]=O._element.contains(k.relatedTarget),O._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ve.on(this._element.closest(vD),_D,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");!c||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,f){clearTimeout(this._timeout),this._timeout=setTimeout(c,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const f=ea.getDataAttributes(this._element);for(const b of Object.keys(f))vX.has(b)&&delete f[b];return c={...f,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:Ya(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const f in this._config)this.constructor.Default[f]!==this._config[f]&&(c[f]=this._config[f]);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(c){return this.each(function(){const f=wc.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}eo(wc);const IX="popover",$X=".popover-header",MX=".popover-body",FX={...wc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},UX={...wc.DefaultType,content:"(null|string|element|function)"};class Pv extends wc{static get Default(){return FX}static get DefaultType(){return UX}static get NAME(){return IX}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[$X]:this._getTitle(),[MX]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const f=Pv.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c]()}})}}eo(Pv);const HX="scrollspy",WX="bs.scrollspy",WS=`.${WX}`,zX=".data-api",VX=`activate${WS}`,yD=`click${WS}`,qX=`load${WS}${zX}`,KX="dropdown-item",af="active",jX='[data-bs-spy="scroll"]',aS="[href]",GX=".nav, .list-group",CD=".nav-link",YX=".nav-item",XX=".list-group-item",QX=`${CD}, ${YX} > ${CD}, ${XX}`,ZX=".dropdown",JX=".dropdown-toggle",eQ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tQ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ph extends No{constructor(c,f){super(c,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return eQ}static get DefaultType(){return tQ}static get NAME(){return HX}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Ya(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(f=>Number.parseFloat(f))),c}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(ve.off(this._config.target,yD),ve.on(this._config.target,yD,aS,c=>{const f=this._observableSections.get(c.target.hash);if(f){c.preventDefault();const b=this._rootElement||window,w=f.offsetTop-this._element.offsetTop;if(b.scrollTo){b.scrollTo({top:w,behavior:"smooth"});return}b.scrollTop=w}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),c)}_observerCallback(c){const f=O=>this._targetLinks.get(`#${O.target.id}`),b=O=>{this._previousScrollData.visibleEntryTop=O.target.offsetTop,this._process(f(O))},w=(this._rootElement||document.documentElement).scrollTop,k=w>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=w;for(const O of c){if(!O.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(O));continue}const H=O.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&H){if(b(O),!w)return;continue}!k&&!H&&b(O)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=Et.find(aS,this._config.target);for(const f of c){if(!f.hash||Xa(f))continue;const b=Et.findOne(f.hash,this._element);_f(b)&&(this._targetLinks.set(f.hash,f),this._observableSections.set(f.hash,b))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(af),this._activateParents(c),ve.trigger(this._element,VX,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains(KX)){Et.findOne(JX,c.closest(ZX)).classList.add(af);return}for(const f of Et.parents(c,GX))for(const b of Et.prev(f,QX))b.classList.add(af)}_clearActiveClass(c){c.classList.remove(af);const f=Et.find(`${aS}.${af}`,c);for(const b of f)b.classList.remove(af)}static jQueryInterface(c){return this.each(function(){const f=ph.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}ve.on(window,qX,()=>{for(const m of Et.find(jX))ph.getOrCreateInstance(m)});eo(ph);const nQ="tab",sQ="bs.tab",Sc=`.${sQ}`,rQ=`hide${Sc}`,oQ=`hidden${Sc}`,iQ=`show${Sc}`,aQ=`shown${Sc}`,lQ=`click${Sc}`,cQ=`keydown${Sc}`,uQ=`load${Sc}`,fQ="ArrowLeft",ED="ArrowRight",dQ="ArrowUp",wD="ArrowDown",pc="active",SD="fade",lS="show",mQ="dropdown",hQ=".dropdown-toggle",pQ=".dropdown-menu",cS=":not(.dropdown-toggle)",gQ='.list-group, .nav, [role="tablist"]',bQ=".nav-item, .list-group-item",vQ=`.nav-link${cS}, .list-group-item${cS}, [role="tab"]${cS}`,$P='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',uS=`${vQ}, ${$P}`,_Q=`.${pc}[data-bs-toggle="tab"], .${pc}[data-bs-toggle="pill"], .${pc}[data-bs-toggle="list"]`;class Cc extends No{constructor(c){super(c),this._parent=this._element.closest(gQ),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ve.on(this._element,cQ,f=>this._keydown(f)))}static get NAME(){return nQ}show(){const c=this._element;if(this._elemIsActive(c))return;const f=this._getActiveElem(),b=f?ve.trigger(f,rQ,{relatedTarget:c}):null;ve.trigger(c,iQ,{relatedTarget:f}).defaultPrevented||b&&b.defaultPrevented||(this._deactivate(f,c),this._activate(c,f))}_activate(c,f){if(!c)return;c.classList.add(pc),this._activate(Zi(c));const b=()=>{if(c.getAttribute("role")!=="tab"){c.classList.add(lS);return}c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),ve.trigger(c,aQ,{relatedTarget:f})};this._queueCallback(b,c,c.classList.contains(SD))}_deactivate(c,f){if(!c)return;c.classList.remove(pc),c.blur(),this._deactivate(Zi(c));const b=()=>{if(c.getAttribute("role")!=="tab"){c.classList.remove(lS);return}c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),ve.trigger(c,oQ,{relatedTarget:f})};this._queueCallback(b,c,c.classList.contains(SD))}_keydown(c){if(![fQ,ED,dQ,wD].includes(c.key))return;c.stopPropagation(),c.preventDefault();const f=[ED,wD].includes(c.key),b=FS(this._getChildren().filter(w=>!Xa(w)),c.target,f,!0);b&&(b.focus({preventScroll:!0}),Cc.getOrCreateInstance(b).show())}_getChildren(){return Et.find(uS,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,f){this._setAttributeIfNotExists(c,"role","tablist");for(const b of f)this._setInitialAttributesOnChild(b)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const f=this._elemIsActive(c),b=this._getOuterElement(c);c.setAttribute("aria-selected",f),b!==c&&this._setAttributeIfNotExists(b,"role","presentation"),f||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const f=Zi(c);!f||(this._setAttributeIfNotExists(f,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`#${c.id}`))}_toggleDropDown(c,f){const b=this._getOuterElement(c);if(!b.classList.contains(mQ))return;const w=(k,O)=>{const H=Et.findOne(k,b);H&&H.classList.toggle(O,f)};w(hQ,pc),w(pQ,lS),b.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(c,f,b){c.hasAttribute(f)||c.setAttribute(f,b)}_elemIsActive(c){return c.classList.contains(pc)}_getInnerElement(c){return c.matches(uS)?c:Et.findOne(uS,c)}_getOuterElement(c){return c.closest(bQ)||c}static jQueryInterface(c){return this.each(function(){const f=Cc.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}ve.on(document,lQ,$P,function(m){["A","AREA"].includes(this.tagName)&&m.preventDefault(),!Xa(this)&&Cc.getOrCreateInstance(this).show()});ve.on(window,uQ,()=>{for(const m of Et.find(_Q))Cc.getOrCreateInstance(m)});eo(Cc);const yQ="toast",CQ="bs.toast",Ja=`.${CQ}`,EQ=`mouseover${Ja}`,wQ=`mouseout${Ja}`,SQ=`focusin${Ja}`,AQ=`focusout${Ja}`,TQ=`hide${Ja}`,xQ=`hidden${Ja}`,NQ=`show${Ja}`,RQ=`shown${Ja}`,OQ="fade",AD="hide",vv="show",_v="showing",kQ={animation:"boolean",autohide:"boolean",delay:"number"},DQ={animation:!0,autohide:!0,delay:5e3};class gh extends No{constructor(c,f){super(c,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return DQ}static get DefaultType(){return kQ}static get NAME(){return yQ}show(){if(ve.trigger(this._element,NQ).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(OQ);const f=()=>{this._element.classList.remove(_v),ve.trigger(this._element,RQ),this._maybeScheduleHide()};this._element.classList.remove(AD),uh(this._element),this._element.classList.add(vv,_v),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||ve.trigger(this._element,TQ).defaultPrevented)return;const f=()=>{this._element.classList.add(AD),this._element.classList.remove(_v,vv),ve.trigger(this._element,xQ)};this._element.classList.add(_v),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vv),super.dispose()}isShown(){return this._element.classList.contains(vv)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(c,f){switch(c.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const b=c.relatedTarget;this._element===b||this._element.contains(b)||this._maybeScheduleHide()}_setListeners(){ve.on(this._element,EQ,c=>this._onInteraction(c,!0)),ve.on(this._element,wQ,c=>this._onInteraction(c,!1)),ve.on(this._element,SQ,c=>this._onInteraction(c,!0)),ve.on(this._element,AQ,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const f=gh.getOrCreateInstance(this,c);if(typeof c=="string"){if(typeof f[c]>"u")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}Dv(gh);eo(gh);const PQ=Object.freeze(Object.defineProperty({__proto__:null,Alert:dh,Button:mh,Carousel:Cf,Collapse:bf,Dropdown:xo,Modal:yc,Offcanvas:sa,Popover:Pv,ScrollSpy:ph,Tab:Cc,Toast:gh,Tooltip:wc},Symbol.toStringTag,{value:"Module"}));function MP(m,c){return function(){return m.apply(c,arguments)}}const{toString:FP}=Object.prototype,{getPrototypeOf:zS}=Object,VS=(m=>c=>{const f=FP.call(c);return m[f]||(m[f]=f.slice(8,-1).toLowerCase())})(Object.create(null)),oa=m=>(m=m.toLowerCase(),c=>VS(c)===m),Lv=m=>c=>typeof c===m,{isArray:bh}=Array,CS=Lv("undefined");function LQ(m){return m!==null&&!CS(m)&&m.constructor!==null&&!CS(m.constructor)&&Ef(m.constructor.isBuffer)&&m.constructor.isBuffer(m)}const UP=oa("ArrayBuffer");function BQ(m){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(m):c=m&&m.buffer&&UP(m.buffer),c}const IQ=Lv("string"),Ef=Lv("function"),HP=Lv("number"),WP=m=>m!==null&&typeof m=="object",$Q=m=>m===!0||m===!1,wv=m=>{if(VS(m)!=="object")return!1;const c=zS(m);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Symbol.toStringTag in m)&&!(Symbol.iterator in m)},MQ=oa("Date"),FQ=oa("File"),UQ=oa("Blob"),HQ=oa("FileList"),WQ=m=>WP(m)&&Ef(m.pipe),zQ=m=>{const c="[object FormData]";return m&&(typeof FormData=="function"&&m instanceof FormData||FP.call(m)===c||Ef(m.toString)&&m.toString()===c)},VQ=oa("URLSearchParams"),qQ=m=>m.trim?m.trim():m.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bv(m,c,{allOwnKeys:f=!1}={}){if(m===null||typeof m>"u")return;let b,w;if(typeof m!="object"&&(m=[m]),bh(m))for(b=0,w=m.length;b<w;b++)c.call(null,m[b],b,m);else{const k=f?Object.getOwnPropertyNames(m):Object.keys(m),O=k.length;let H;for(b=0;b<O;b++)H=k[b],c.call(null,m[H],H,m)}}function ES(){const m={},c=(f,b)=>{wv(m[b])&&wv(f)?m[b]=ES(m[b],f):wv(f)?m[b]=ES({},f):bh(f)?m[b]=f.slice():m[b]=f};for(let f=0,b=arguments.length;f<b;f++)arguments[f]&&Bv(arguments[f],c);return m}const KQ=(m,c,f,{allOwnKeys:b}={})=>(Bv(c,(w,k)=>{f&&Ef(w)?m[k]=MP(w,f):m[k]=w},{allOwnKeys:b}),m),jQ=m=>(m.charCodeAt(0)===65279&&(m=m.slice(1)),m),GQ=(m,c,f,b)=>{m.prototype=Object.create(c.prototype,b),m.prototype.constructor=m,Object.defineProperty(m,"super",{value:c.prototype}),f&&Object.assign(m.prototype,f)},YQ=(m,c,f,b)=>{let w,k,O;const H={};if(c=c||{},m==null)return c;do{for(w=Object.getOwnPropertyNames(m),k=w.length;k-- >0;)O=w[k],(!b||b(O,m,c))&&!H[O]&&(c[O]=m[O],H[O]=!0);m=f!==!1&&zS(m)}while(m&&(!f||f(m,c))&&m!==Object.prototype);return c},XQ=(m,c,f)=>{m=String(m),(f===void 0||f>m.length)&&(f=m.length),f-=c.length;const b=m.indexOf(c,f);return b!==-1&&b===f},QQ=m=>{if(!m)return null;if(bh(m))return m;let c=m.length;if(!HP(c))return null;const f=new Array(c);for(;c-- >0;)f[c]=m[c];return f},ZQ=(m=>c=>m&&c instanceof m)(typeof Uint8Array<"u"&&zS(Uint8Array)),JQ=(m,c)=>{const b=(m&&m[Symbol.iterator]).call(m);let w;for(;(w=b.next())&&!w.done;){const k=w.value;c.call(m,k[0],k[1])}},eZ=(m,c)=>{let f;const b=[];for(;(f=m.exec(c))!==null;)b.push(f);return b},tZ=oa("HTMLFormElement"),nZ=m=>m.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(f,b,w){return b.toUpperCase()+w}),TD=(({hasOwnProperty:m})=>(c,f)=>m.call(c,f))(Object.prototype),sZ=oa("RegExp"),zP=(m,c)=>{const f=Object.getOwnPropertyDescriptors(m),b={};Bv(f,(w,k)=>{c(w,k,m)!==!1&&(b[k]=w)}),Object.defineProperties(m,b)},rZ=m=>{zP(m,(c,f)=>{const b=m[f];if(!!Ef(b)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not read-only method '"+f+"'")})}})},oZ=(m,c)=>{const f={},b=w=>{w.forEach(k=>{f[k]=!0})};return bh(m)?b(m):b(String(m).split(c)),f},iZ=()=>{},aZ=(m,c)=>(m=+m,Number.isFinite(m)?m:c),me={isArray:bh,isArrayBuffer:UP,isBuffer:LQ,isFormData:zQ,isArrayBufferView:BQ,isString:IQ,isNumber:HP,isBoolean:$Q,isObject:WP,isPlainObject:wv,isUndefined:CS,isDate:MQ,isFile:FQ,isBlob:UQ,isRegExp:sZ,isFunction:Ef,isStream:WQ,isURLSearchParams:VQ,isTypedArray:ZQ,isFileList:HQ,forEach:Bv,merge:ES,extend:KQ,trim:qQ,stripBOM:jQ,inherits:GQ,toFlatObject:YQ,kindOf:VS,kindOfTest:oa,endsWith:XQ,toArray:QQ,forEachEntry:JQ,matchAll:eZ,isHTMLForm:tZ,hasOwnProperty:TD,hasOwnProp:TD,reduceDescriptors:zP,freezeMethods:rZ,toObjectSet:oZ,toCamelCase:nZ,noop:iZ,toFiniteNumber:aZ};function zt(m,c,f,b,w){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=m,this.name="AxiosError",c&&(this.code=c),f&&(this.config=f),b&&(this.request=b),w&&(this.response=w)}me.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const VP=zt.prototype,qP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(m=>{qP[m]={value:m}});Object.defineProperties(zt,qP);Object.defineProperty(VP,"isAxiosError",{value:!0});zt.from=(m,c,f,b,w,k)=>{const O=Object.create(VP);return me.toFlatObject(m,O,function(X){return X!==Error.prototype},H=>H!=="isAxiosError"),zt.call(O,m.message,c,f,b,w),O.cause=m,O.name=m.name,k&&Object.assign(O,k),O};var lZ=typeof self=="object"?self.FormData:window.FormData;function wS(m){return me.isPlainObject(m)||me.isArray(m)}function KP(m){return me.endsWith(m,"[]")?m.slice(0,-2):m}function xD(m,c,f){return m?m.concat(c).map(function(w,k){return w=KP(w),!f&&k?"["+w+"]":w}).join(f?".":""):c}function cZ(m){return me.isArray(m)&&!m.some(wS)}const uZ=me.toFlatObject(me,{},null,function(c){return/^is[A-Z]/.test(c)});function fZ(m){return m&&me.isFunction(m.append)&&m[Symbol.toStringTag]==="FormData"&&m[Symbol.iterator]}function Iv(m,c,f){if(!me.isObject(m))throw new TypeError("target must be an object");c=c||new(lZ||FormData),f=me.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(De,Ge){return!me.isUndefined(Ge[De])});const b=f.metaTokens,w=f.visitor||Z,k=f.dots,O=f.indexes,X=(f.Blob||typeof Blob<"u"&&Blob)&&fZ(c);if(!me.isFunction(w))throw new TypeError("visitor must be a function");function Y(Ae){if(Ae===null)return"";if(me.isDate(Ae))return Ae.toISOString();if(!X&&me.isBlob(Ae))throw new zt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(Ae)||me.isTypedArray(Ae)?X&&typeof Blob=="function"?new Blob([Ae]):Buffer.from(Ae):Ae}function Z(Ae,De,Ge){let rt=Ae;if(Ae&&!Ge&&typeof Ae=="object"){if(me.endsWith(De,"{}"))De=b?De:De.slice(0,-2),Ae=JSON.stringify(Ae);else if(me.isArray(Ae)&&cZ(Ae)||me.isFileList(Ae)||me.endsWith(De,"[]")&&(rt=me.toArray(Ae)))return De=KP(De),rt.forEach(function(Ze,it){!(me.isUndefined(Ze)||Ze===null)&&c.append(O===!0?xD([De],it,k):O===null?De:De+"[]",Y(Ze))}),!1}return wS(Ae)?!0:(c.append(xD(Ge,De,k),Y(Ae)),!1)}const ke=[],qe=Object.assign(uZ,{defaultVisitor:Z,convertValue:Y,isVisitable:wS});function Ce(Ae,De){if(!me.isUndefined(Ae)){if(ke.indexOf(Ae)!==-1)throw Error("Circular reference detected in "+De.join("."));ke.push(Ae),me.forEach(Ae,function(rt,pe){(!(me.isUndefined(rt)||rt===null)&&w.call(c,rt,me.isString(pe)?pe.trim():pe,De,qe))===!0&&Ce(rt,De?De.concat(pe):[pe])}),ke.pop()}}if(!me.isObject(m))throw new TypeError("data must be an object");return Ce(m),c}function ND(m){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(m).replace(/[!'()~]|%20|%00/g,function(b){return c[b]})}function qS(m,c){this._pairs=[],m&&Iv(m,this,c)}const jP=qS.prototype;jP.append=function(c,f){this._pairs.push([c,f])};jP.toString=function(c){const f=c?function(b){return c.call(this,b,ND)}:ND;return this._pairs.map(function(w){return f(w[0])+"="+f(w[1])},"").join("&")};function dZ(m){return encodeURIComponent(m).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GP(m,c,f){if(!c)return m;const b=f&&f.encode||dZ,w=f&&f.serialize;let k;if(w?k=w(c,f):k=me.isURLSearchParams(c)?c.toString():new qS(c,f).toString(b),k){const O=m.indexOf("#");O!==-1&&(m=m.slice(0,O)),m+=(m.indexOf("?")===-1?"?":"&")+k}return m}class RD{constructor(){this.handlers=[]}use(c,f,b){return this.handlers.push({fulfilled:c,rejected:f,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){me.forEach(this.handlers,function(b){b!==null&&c(b)})}}const YP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mZ=typeof URLSearchParams<"u"?URLSearchParams:qS,hZ=FormData,pZ=(()=>{let m;return typeof navigator<"u"&&((m=navigator.product)==="ReactNative"||m==="NativeScript"||m==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ta={isBrowser:!0,classes:{URLSearchParams:mZ,FormData:hZ,Blob},isStandardBrowserEnv:pZ,protocols:["http","https","file","blob","url","data"]};function gZ(m,c){return Iv(m,new ta.classes.URLSearchParams,Object.assign({visitor:function(f,b,w,k){return ta.isNode&&me.isBuffer(f)?(this.append(b,f.toString("base64")),!1):k.defaultVisitor.apply(this,arguments)}},c))}function bZ(m){return me.matchAll(/\w+|\[(\w*)]/g,m).map(c=>c[0]==="[]"?"":c[1]||c[0])}function vZ(m){const c={},f=Object.keys(m);let b;const w=f.length;let k;for(b=0;b<w;b++)k=f[b],c[k]=m[k];return c}function XP(m){function c(f,b,w,k){let O=f[k++];const H=Number.isFinite(+O),X=k>=f.length;return O=!O&&me.isArray(w)?w.length:O,X?(me.hasOwnProp(w,O)?w[O]=[w[O],b]:w[O]=b,!H):((!w[O]||!me.isObject(w[O]))&&(w[O]=[]),c(f,b,w[O],k)&&me.isArray(w[O])&&(w[O]=vZ(w[O])),!H)}if(me.isFormData(m)&&me.isFunction(m.entries)){const f={};return me.forEachEntry(m,(b,w)=>{c(bZ(b),w,f,0)}),f}return null}function _Z(m,c,f){const b=f.config.validateStatus;!f.status||!b||b(f.status)?m(f):c(new zt("Request failed with status code "+f.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(f.status/100)-4],f.config,f.request,f))}const yZ=ta.isStandardBrowserEnv?function(){return{write:function(f,b,w,k,O,H){const X=[];X.push(f+"="+encodeURIComponent(b)),me.isNumber(w)&&X.push("expires="+new Date(w).toGMTString()),me.isString(k)&&X.push("path="+k),me.isString(O)&&X.push("domain="+O),H===!0&&X.push("secure"),document.cookie=X.join("; ")},read:function(f){const b=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function CZ(m){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(m)}function EZ(m,c){return c?m.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):m}function QP(m,c){return m&&!CZ(c)?EZ(m,c):c}const wZ=ta.isStandardBrowserEnv?function(){const c=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");let b;function w(k){let O=k;return c&&(f.setAttribute("href",O),O=f.href),f.setAttribute("href",O),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:f.pathname.charAt(0)==="/"?f.pathname:"/"+f.pathname}}return b=w(window.location.href),function(O){const H=me.isString(O)?w(O):O;return H.protocol===b.protocol&&H.host===b.host}}():function(){return function(){return!0}}();function vh(m,c,f){zt.call(this,m==null?"canceled":m,zt.ERR_CANCELED,c,f),this.name="CanceledError"}me.inherits(vh,zt,{__CANCEL__:!0});function SZ(m){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(m);return c&&c[1]||""}const AZ=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TZ=m=>{const c={};let f,b,w;return m&&m.split(`
`).forEach(function(O){w=O.indexOf(":"),f=O.substring(0,w).trim().toLowerCase(),b=O.substring(w+1).trim(),!(!f||c[f]&&AZ[f])&&(f==="set-cookie"?c[f]?c[f].push(b):c[f]=[b]:c[f]=c[f]?c[f]+", "+b:b)}),c},OD=Symbol("internals"),ZP=Symbol("defaults");function oh(m){return m&&String(m).trim().toLowerCase()}function Sv(m){return m===!1||m==null?m:me.isArray(m)?m.map(Sv):String(m)}function xZ(m){const c=Object.create(null),f=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=f.exec(m);)c[b[1]]=b[2];return c}function kD(m,c,f,b){if(me.isFunction(b))return b.call(this,c,f);if(!!me.isString(c)){if(me.isString(b))return c.indexOf(b)!==-1;if(me.isRegExp(b))return b.test(c)}}function NZ(m){return m.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,f,b)=>f.toUpperCase()+b)}function RZ(m,c){const f=me.toCamelCase(" "+c);["get","set","has"].forEach(b=>{Object.defineProperty(m,b+f,{value:function(w,k,O){return this[b].call(this,c,w,k,O)},configurable:!0})})}function rh(m,c){c=c.toLowerCase();const f=Object.keys(m);let b=f.length,w;for(;b-- >0;)if(w=f[b],c===w.toLowerCase())return w;return null}function Qr(m,c){m&&this.set(m),this[ZP]=c||null}Object.assign(Qr.prototype,{set:function(m,c,f){const b=this;function w(k,O,H){const X=oh(O);if(!X)throw new Error("header name must be a non-empty string");const Y=rh(b,X);Y&&H!==!0&&(b[Y]===!1||H===!1)||(b[Y||O]=Sv(k))}return me.isPlainObject(m)?me.forEach(m,(k,O)=>{w(k,O,c)}):w(c,m,f),this},get:function(m,c){if(m=oh(m),!m)return;const f=rh(this,m);if(f){const b=this[f];if(!c)return b;if(c===!0)return xZ(b);if(me.isFunction(c))return c.call(this,b,f);if(me.isRegExp(c))return c.exec(b);throw new TypeError("parser must be boolean|regexp|function")}},has:function(m,c){if(m=oh(m),m){const f=rh(this,m);return!!(f&&(!c||kD(this,this[f],f,c)))}return!1},delete:function(m,c){const f=this;let b=!1;function w(k){if(k=oh(k),k){const O=rh(f,k);O&&(!c||kD(f,f[O],O,c))&&(delete f[O],b=!0)}}return me.isArray(m)?m.forEach(w):w(m),b},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(m){const c=this,f={};return me.forEach(this,(b,w)=>{const k=rh(f,w);if(k){c[k]=Sv(b),delete c[w];return}const O=m?NZ(w):String(w).trim();O!==w&&delete c[w],c[O]=Sv(b),f[O]=!0}),this},toJSON:function(m){const c=Object.create(null);return me.forEach(Object.assign({},this[ZP]||null,this),(f,b)=>{f==null||f===!1||(c[b]=m&&me.isArray(f)?f.join(", "):f)}),c}});Object.assign(Qr,{from:function(m){return me.isString(m)?new this(TZ(m)):m instanceof this?m:new this(m)},accessor:function(m){const f=(this[OD]=this[OD]={accessors:{}}).accessors,b=this.prototype;function w(k){const O=oh(k);f[O]||(RZ(b,k),f[O]=!0)}return me.isArray(m)?m.forEach(w):w(m),this}});Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);me.freezeMethods(Qr.prototype);me.freezeMethods(Qr);function OZ(m,c){m=m||10;const f=new Array(m),b=new Array(m);let w=0,k=0,O;return c=c!==void 0?c:1e3,function(X){const Y=Date.now(),Z=b[k];O||(O=Y),f[w]=X,b[w]=Y;let ke=k,qe=0;for(;ke!==w;)qe+=f[ke++],ke=ke%m;if(w=(w+1)%m,w===k&&(k=(k+1)%m),Y-O<c)return;const Ce=Z&&Y-Z;return Ce?Math.round(qe*1e3/Ce):void 0}}function DD(m,c){let f=0;const b=OZ(50,250);return w=>{const k=w.loaded,O=w.lengthComputable?w.total:void 0,H=k-f,X=b(H),Y=k<=O;f=k;const Z={loaded:k,total:O,progress:O?k/O:void 0,bytes:H,rate:X||void 0,estimated:X&&O&&Y?(O-k)/X:void 0};Z[c?"download":"upload"]=!0,m(Z)}}function PD(m){return new Promise(function(f,b){let w=m.data;const k=Qr.from(m.headers).normalize(),O=m.responseType;let H;function X(){m.cancelToken&&m.cancelToken.unsubscribe(H),m.signal&&m.signal.removeEventListener("abort",H)}me.isFormData(w)&&ta.isStandardBrowserEnv&&k.setContentType(!1);let Y=new XMLHttpRequest;if(m.auth){const Ce=m.auth.username||"",Ae=m.auth.password?unescape(encodeURIComponent(m.auth.password)):"";k.set("Authorization","Basic "+btoa(Ce+":"+Ae))}const Z=QP(m.baseURL,m.url);Y.open(m.method.toUpperCase(),GP(Z,m.params,m.paramsSerializer),!0),Y.timeout=m.timeout;function ke(){if(!Y)return;const Ce=Qr.from("getAllResponseHeaders"in Y&&Y.getAllResponseHeaders()),De={data:!O||O==="text"||O==="json"?Y.responseText:Y.response,status:Y.status,statusText:Y.statusText,headers:Ce,config:m,request:Y};_Z(function(rt){f(rt),X()},function(rt){b(rt),X()},De),Y=null}if("onloadend"in Y?Y.onloadend=ke:Y.onreadystatechange=function(){!Y||Y.readyState!==4||Y.status===0&&!(Y.responseURL&&Y.responseURL.indexOf("file:")===0)||setTimeout(ke)},Y.onabort=function(){!Y||(b(new zt("Request aborted",zt.ECONNABORTED,m,Y)),Y=null)},Y.onerror=function(){b(new zt("Network Error",zt.ERR_NETWORK,m,Y)),Y=null},Y.ontimeout=function(){let Ae=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const De=m.transitional||YP;m.timeoutErrorMessage&&(Ae=m.timeoutErrorMessage),b(new zt(Ae,De.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,m,Y)),Y=null},ta.isStandardBrowserEnv){const Ce=(m.withCredentials||wZ(Z))&&m.xsrfCookieName&&yZ.read(m.xsrfCookieName);Ce&&k.set(m.xsrfHeaderName,Ce)}w===void 0&&k.setContentType(null),"setRequestHeader"in Y&&me.forEach(k.toJSON(),function(Ae,De){Y.setRequestHeader(De,Ae)}),me.isUndefined(m.withCredentials)||(Y.withCredentials=!!m.withCredentials),O&&O!=="json"&&(Y.responseType=m.responseType),typeof m.onDownloadProgress=="function"&&Y.addEventListener("progress",DD(m.onDownloadProgress,!0)),typeof m.onUploadProgress=="function"&&Y.upload&&Y.upload.addEventListener("progress",DD(m.onUploadProgress)),(m.cancelToken||m.signal)&&(H=Ce=>{!Y||(b(!Ce||Ce.type?new vh(null,m,Y):Ce),Y.abort(),Y=null)},m.cancelToken&&m.cancelToken.subscribe(H),m.signal&&(m.signal.aborted?H():m.signal.addEventListener("abort",H)));const qe=SZ(Z);if(qe&&ta.protocols.indexOf(qe)===-1){b(new zt("Unsupported protocol "+qe+":",zt.ERR_BAD_REQUEST,m));return}Y.send(w||null)})}const LD={http:PD,xhr:PD},BD={getAdapter:m=>{if(me.isString(m)){const c=LD[m];if(!m)throw Error(me.hasOwnProp(m)?`Adapter '${m}' is not available in the build`:`Can not resolve adapter '${m}'`);return c}if(!me.isFunction(m))throw new TypeError("adapter is not a function");return m},adapters:LD},kZ={"Content-Type":"application/x-www-form-urlencoded"};function DZ(){let m;return typeof XMLHttpRequest<"u"?m=BD.getAdapter("xhr"):typeof process<"u"&&me.kindOf(process)==="process"&&(m=BD.getAdapter("http")),m}function PZ(m,c,f){if(me.isString(m))try{return(c||JSON.parse)(m),me.trim(m)}catch(b){if(b.name!=="SyntaxError")throw b}return(f||JSON.stringify)(m)}const wf={transitional:YP,adapter:DZ(),transformRequest:[function(c,f){const b=f.getContentType()||"",w=b.indexOf("application/json")>-1,k=me.isObject(c);if(k&&me.isHTMLForm(c)&&(c=new FormData(c)),me.isFormData(c))return w&&w?JSON.stringify(XP(c)):c;if(me.isArrayBuffer(c)||me.isBuffer(c)||me.isStream(c)||me.isFile(c)||me.isBlob(c))return c;if(me.isArrayBufferView(c))return c.buffer;if(me.isURLSearchParams(c))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let H;if(k){if(b.indexOf("application/x-www-form-urlencoded")>-1)return gZ(c,this.formSerializer).toString();if((H=me.isFileList(c))||b.indexOf("multipart/form-data")>-1){const X=this.env&&this.env.FormData;return Iv(H?{"files[]":c}:c,X&&new X,this.formSerializer)}}return k||w?(f.setContentType("application/json",!1),PZ(c)):c}],transformResponse:[function(c){const f=this.transitional||wf.transitional,b=f&&f.forcedJSONParsing,w=this.responseType==="json";if(c&&me.isString(c)&&(b&&!this.responseType||w)){const O=!(f&&f.silentJSONParsing)&&w;try{return JSON.parse(c)}catch(H){if(O)throw H.name==="SyntaxError"?zt.from(H,zt.ERR_BAD_RESPONSE,this,null,this.response):H}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ta.classes.FormData,Blob:ta.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};me.forEach(["delete","get","head"],function(c){wf.headers[c]={}});me.forEach(["post","put","patch"],function(c){wf.headers[c]=me.merge(kZ)});function fS(m,c){const f=this||wf,b=c||f,w=Qr.from(b.headers);let k=b.data;return me.forEach(m,function(H){k=H.call(f,k,w.normalize(),c?c.status:void 0)}),w.normalize(),k}function JP(m){return!!(m&&m.__CANCEL__)}function dS(m){if(m.cancelToken&&m.cancelToken.throwIfRequested(),m.signal&&m.signal.aborted)throw new vh}function ID(m){return dS(m),m.headers=Qr.from(m.headers),m.data=fS.call(m,m.transformRequest),(m.adapter||wf.adapter)(m).then(function(b){return dS(m),b.data=fS.call(m,m.transformResponse,b),b.headers=Qr.from(b.headers),b},function(b){return JP(b)||(dS(m),b&&b.response&&(b.response.data=fS.call(m,m.transformResponse,b.response),b.response.headers=Qr.from(b.response.headers))),Promise.reject(b)})}function lh(m,c){c=c||{};const f={};function b(Y,Z){return me.isPlainObject(Y)&&me.isPlainObject(Z)?me.merge(Y,Z):me.isPlainObject(Z)?me.merge({},Z):me.isArray(Z)?Z.slice():Z}function w(Y){if(me.isUndefined(c[Y])){if(!me.isUndefined(m[Y]))return b(void 0,m[Y])}else return b(m[Y],c[Y])}function k(Y){if(!me.isUndefined(c[Y]))return b(void 0,c[Y])}function O(Y){if(me.isUndefined(c[Y])){if(!me.isUndefined(m[Y]))return b(void 0,m[Y])}else return b(void 0,c[Y])}function H(Y){if(Y in c)return b(m[Y],c[Y]);if(Y in m)return b(void 0,m[Y])}const X={url:k,method:k,data:k,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:H};return me.forEach(Object.keys(m).concat(Object.keys(c)),function(Z){const ke=X[Z]||w,qe=ke(Z);me.isUndefined(qe)&&ke!==H||(f[Z]=qe)}),f}const eL="1.1.3",KS={};["object","boolean","number","function","string","symbol"].forEach((m,c)=>{KS[m]=function(b){return typeof b===m||"a"+(c<1?"n ":" ")+m}});const $D={};KS.transitional=function(c,f,b){function w(k,O){return"[Axios v"+eL+"] Transitional option '"+k+"'"+O+(b?". "+b:"")}return(k,O,H)=>{if(c===!1)throw new zt(w(O," has been removed"+(f?" in "+f:"")),zt.ERR_DEPRECATED);return f&&!$D[O]&&($D[O]=!0,console.warn(w(O," has been deprecated since v"+f+" and will be removed in the near future"))),c?c(k,O,H):!0}};function LZ(m,c,f){if(typeof m!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const b=Object.keys(m);let w=b.length;for(;w-- >0;){const k=b[w],O=c[k];if(O){const H=m[k],X=H===void 0||O(H,k,m);if(X!==!0)throw new zt("option "+k+" must be "+X,zt.ERR_BAD_OPTION_VALUE);continue}if(f!==!0)throw new zt("Unknown option "+k,zt.ERR_BAD_OPTION)}}const SS={assertOptions:LZ,validators:KS},Ga=SS.validators;class bc{constructor(c){this.defaults=c,this.interceptors={request:new RD,response:new RD}}request(c,f){typeof c=="string"?(f=f||{},f.url=c):f=c||{},f=lh(this.defaults,f);const{transitional:b,paramsSerializer:w}=f;b!==void 0&&SS.assertOptions(b,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),w!==void 0&&SS.assertOptions(w,{encode:Ga.function,serialize:Ga.function},!0),f.method=(f.method||this.defaults.method||"get").toLowerCase();const k=f.headers&&me.merge(f.headers.common,f.headers[f.method]);k&&me.forEach(["delete","get","head","post","put","patch","common"],function(Ae){delete f.headers[Ae]}),f.headers=new Qr(f.headers,k);const O=[];let H=!0;this.interceptors.request.forEach(function(Ae){typeof Ae.runWhen=="function"&&Ae.runWhen(f)===!1||(H=H&&Ae.synchronous,O.unshift(Ae.fulfilled,Ae.rejected))});const X=[];this.interceptors.response.forEach(function(Ae){X.push(Ae.fulfilled,Ae.rejected)});let Y,Z=0,ke;if(!H){const Ce=[ID.bind(this),void 0];for(Ce.unshift.apply(Ce,O),Ce.push.apply(Ce,X),ke=Ce.length,Y=Promise.resolve(f);Z<ke;)Y=Y.then(Ce[Z++],Ce[Z++]);return Y}ke=O.length;let qe=f;for(Z=0;Z<ke;){const Ce=O[Z++],Ae=O[Z++];try{qe=Ce(qe)}catch(De){Ae.call(this,De);break}}try{Y=ID.call(this,qe)}catch(Ce){return Promise.reject(Ce)}for(Z=0,ke=X.length;Z<ke;)Y=Y.then(X[Z++],X[Z++]);return Y}getUri(c){c=lh(this.defaults,c);const f=QP(c.baseURL,c.url);return GP(f,c.params,c.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(c){bc.prototype[c]=function(f,b){return this.request(lh(b||{},{method:c,url:f,data:(b||{}).data}))}});me.forEach(["post","put","patch"],function(c){function f(b){return function(k,O,H){return this.request(lh(H||{},{method:c,headers:b?{"Content-Type":"multipart/form-data"}:{},url:k,data:O}))}}bc.prototype[c]=f(),bc.prototype[c+"Form"]=f(!0)});class jS{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let f;this.promise=new Promise(function(k){f=k});const b=this;this.promise.then(w=>{if(!b._listeners)return;let k=b._listeners.length;for(;k-- >0;)b._listeners[k](w);b._listeners=null}),this.promise.then=w=>{let k;const O=new Promise(H=>{b.subscribe(H),k=H}).then(w);return O.cancel=function(){b.unsubscribe(k)},O},c(function(k,O,H){b.reason||(b.reason=new vh(k,O,H),f(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const f=this._listeners.indexOf(c);f!==-1&&this._listeners.splice(f,1)}static source(){let c;return{token:new jS(function(w){c=w}),cancel:c}}}function BZ(m){return function(f){return m.apply(null,f)}}function IZ(m){return me.isObject(m)&&m.isAxiosError===!0}function tL(m){const c=new bc(m),f=MP(bc.prototype.request,c);return me.extend(f,bc.prototype,c,{allOwnKeys:!0}),me.extend(f,c,null,{allOwnKeys:!0}),f.create=function(w){return tL(lh(m,w))},f}const ur=tL(wf);ur.Axios=bc;ur.CanceledError=vh;ur.CancelToken=jS;ur.isCancel=JP;ur.VERSION=eL;ur.toFormData=Iv;ur.AxiosError=zt;ur.Cancel=ur.CanceledError;ur.all=function(c){return Promise.all(c)};ur.spread=BZ;ur.isAxiosError=IZ;ur.formToJSON=m=>XP(me.isHTMLForm(m)?new FormData(m):m);window._=Oj;window.bootstrap=PQ;window.axios=ur;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},c=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},f=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},b=function(e,t){return w(function(n,s){return e.eq(t(n),t(s))})},w=function(e){return{eq:e}},k=w(function(e,t){return e===t}),O=k,H=function(e){return w(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,r=0;r<s;r++)if(!e.eq(t[r],n[r]))return!1;return!0})},X=function(e,t){return b(H(e),function(n){return f(n,t)})},Y=function(e){return w(function(t,n){var s=Object.keys(t),r=Object.keys(n);if(!X(O).eq(s,r))return!1;for(var o=s.length,a=0;a<o;a++){var u=s[a];if(!e.eq(t[u],n[u]))return!1}return!0})},Z=w(function(e,t){if(e===t)return!0;var n=m(e),s=m(t);return n!==s?!1:c(n)?e===t:n==="array"?H(Z).eq(e,t):n==="object"?Y(Z).eq(e,t):!1});const ke=Object.getPrototypeOf,qe=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},Ce=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&qe(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},Ae=e=>t=>Ce(t)===e,De=e=>t=>typeof t===e,Ge=e=>t=>e===t,rt=(e,t)=>Ze(e)&&qe(e,t,(n,s)=>ke(n)===s),pe=Ae("string"),Ze=Ae("object"),it=e=>rt(e,Object),We=Ae("array"),ht=Ge(null),_t=De("boolean"),yt=Ge(void 0),ft=e=>e==null,le=e=>!ft(e),je=De("function"),fn=De("number"),pn=(e,t)=>{if(We(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Ke=()=>{},ss=(e,t)=>(...n)=>e(t.apply(null,n)),Yn=(e,t)=>n=>e(t(n)),ae=e=>()=>e,Yt=e=>e,to=(e,t)=>e===t;function _e(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const Fn=e=>t=>!e(t),gi=e=>()=>{throw new Error(e)},Oo=e=>e(),Ks=e=>{e()},pt=ae(!1),Bt=ae(!0);class C{constructor(t,n){this.tag=t,this.value=n}static some(t){return new C(!0,t)}static none(){return C.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?C.some(t(this.value)):C.none()}bind(t){return this.tag?t(this.value):C.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:C.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t!=null?t:"Called getOrDie on None")}static from(t){return le(t)?C.some(t):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);const rs=Array.prototype.slice,no=Array.prototype.indexOf,Sf=Array.prototype.push,so=(e,t)=>no.call(e,t),ia=(e,t)=>{const n=so(e,t);return n===-1?C.none():C.some(n)},St=(e,t)=>so(e,t)>-1,At=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const r=e[n];if(t(r,n))return!0}return!1},at=(e,t)=>{const n=e.length,s=new Array(n);for(let r=0;r<n;r++){const o=e[r];s[r]=t(o,r)}return s},te=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const r=e[n];t(r,n)}},ks=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},ko=(e,t)=>{const n=[],s=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];(t(a,r)?n:s).push(a)}return{pass:n,fail:s}},Be=(e,t)=>{const n=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];t(o,s)&&n.push(o)}return n},Xn=(e,t,n)=>(ks(e,(s,r)=>{n=t(n,s,r)}),n),Vt=(e,t,n)=>(te(e,(s,r)=>{n=t(n,s,r)}),n),ro=(e,t,n)=>{for(let s=0,r=e.length;s<r;s++){const o=e[s];if(t(o,s))return C.some(o);if(n(o,s))break}return C.none()},Zt=(e,t)=>ro(e,t,pt),oo=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const r=e[n];if(t(r,n))return C.some(n)}return C.none()},io=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!We(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Sf.apply(t,e[n])}return t},js=(e,t)=>io(at(e,t)),fs=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const r=e[n];if(t(r,n)!==!0)return!1}return!0},Ds=e=>{const t=rs.call(e,0);return t.reverse(),t},el=(e,t)=>Be(e,n=>!St(t,n)),tl=(e,t)=>{const n={};for(let s=0,r=e.length;s<r;s++){const o=e[s];n[String(o)]=t(o,s)}return n},Do=(e,t)=>{const n=rs.call(e,0);return n.sort(t),n},aa=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),Un=e=>aa(e,0),ao=e=>aa(e,e.length-1),Qn=je(Array.from)?Array.from:e=>rs.call(e),Po=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return C.none()},Af=(e,t)=>{const n=[],s=je(t)?r=>At(n,o=>t(o,r)):r=>St(n,r);for(let r=0,o=e.length;r<o;r++){const a=e[r];s(a)||n.push(a)}return n},ds=Object.keys,$v=Object.hasOwnProperty,It=(e,t)=>{const n=ds(e);for(let s=0,r=n.length;s<r;s++){const o=n[s],a=e[o];t(a,o)}},nl=(e,t)=>_h(e,(n,s)=>({k:s,v:t(n,s)})),_h=(e,t)=>{const n={};return It(e,(s,r)=>{const o=t(s,r);n[o.k]=o.v}),n},Tf=e=>(t,n)=>{e[n]=t},yh=(e,t,n,s)=>{It(e,(r,o)=>{(t(r,o)?n:s)(r,o)})},Mv=(e,t)=>{const n={},s={};return yh(e,t,Tf(n),Tf(s)),{t:n,f:s}},sl=(e,t)=>{const n={};return yh(e,t,Tf(n),Ke),n},Ac=(e,t)=>{const n=[];return It(e,(s,r)=>{n.push(t(s,r))}),n},xf=e=>Ac(e,Yt),Ut=(e,t)=>Ye(e,t)?C.from(e[t]):C.none(),Ye=(e,t)=>$v.call(e,t),Lo=(e,t)=>Ye(e,t)&&e[t]!==void 0&&e[t]!==null,Fv=(e,t,n=Z)=>Y(n).eq(e,t),Tc=e=>{const t={};return te(e,n=>{t[n]={}}),ds(t)},Ch=e=>e.length!==void 0,Nf=Array.isArray,Uv=e=>{if(Nf(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},xc=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ch(e)){for(let s=0,r=e.length;s<r;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Ye(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Rf=(e,t)=>{const n=[];return xc(e,(s,r)=>{n.push(t(s,r,e))}),n},rl=(e,t)=>{const n=[];return xc(e,(s,r)=>{(!t||t(s,r,e))&&n.push(s)}),n},Hv=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Nc=(e,t,n,s)=>{let r=yt(n)?e[0]:n;for(let o=0;o<e.length;o++)r=t.call(s,r,e[o],o);return r},Of=(e,t,n)=>{for(let s=0,r=e.length;s<r;s++)if(t.call(n,e[s],s,e))return s;return-1},bi=e=>e[e.length-1],vi=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},Wv=(e,t,n,s)=>{const r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),u=a||s("(pointer:coarse)"),d=r||!o&&a&&s("(min-device-width:768px)"),p=o||a&&!d,v=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,_=!p&&!d&&!v;return{isiPad:ae(r),isiPhone:ae(o),isTablet:ae(d),isPhone:ae(p),isTouch:ae(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ae(v),isDesktop:ae(_)}},zv=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Vv=(e,t)=>{const n=zv(e,t);if(!n)return{major:0,minor:0};const s=r=>Number(t.replace(n,"$"+r));return kf(s(1),s(2))},qv=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?ol():Vv(e,n)},ol=()=>kf(0,0),kf=(e,t)=>({major:e,minor:t}),Bo={nu:kf,detect:qv,unknown:ol},Kv=(e,t)=>Po(t.brands,n=>{const s=n.brand.toLowerCase();return Zt(e,r=>{var o;return s===((o=r.brand)===null||o===void 0?void 0:o.toLowerCase())}).map(r=>({current:r.name,version:Bo.nu(parseInt(n.version,10),0)}))}),Eh=(e,t)=>{const n=String(t).toLowerCase();return Zt(e,s=>s.search(n))},jv=(e,t)=>Eh(e,t).map(n=>{const s=Bo.detect(n.versionRegexes,t);return{current:n.name,version:s}}),wh=(e,t)=>Eh(e,t).map(n=>{const s=Bo.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Sh=(e,t)=>e.substring(t),Df=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Gv=(e,t)=>On(e,t)?Sh(e,t.length):e,Ln=(e,t,n=0,s)=>{const r=e.indexOf(t,n);return r!==-1?yt(s)?!0:r+t.length<=s:!1},On=(e,t)=>Df(e,t,0),Ah=(e,t)=>Df(e,t,e.length-t.length),Rc=e=>t=>t.replace(e,""),_i=Rc(/^\s+|\s+$/g),Th=Rc(/^\s+/g),Oc=Rc(/\s+$/g),Lr=e=>e.length>0,la=e=>!Lr(e),kc=(e,t)=>t<=0?"":new Array(t+1).join(e),il=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?C.none():C.some(n)},Pf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Br=e=>t=>Ln(t,e),xh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ln(e,"edge/")&&Ln(e,"chrome")&&Ln(e,"safari")&&Ln(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pf],search:e=>Ln(e,"chrome")&&!Ln(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ln(e,"msie")||Ln(e,"trident")},{name:"Opera",versionRegexes:[Pf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Br("firefox")},{name:"Safari",versionRegexes:[Pf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ln(e,"safari")||Ln(e,"mobile/"))&&Ln(e,"applewebkit")}],Lf=[{name:"Windows",search:Br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ln(e,"iphone")||Ln(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Br("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Br("linux"),versionRegexes:[]},{name:"Solaris",search:Br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Br("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Br("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Nh={browsers:ae(xh),oses:ae(Lf)},Bf="Edge",Dc="Chromium",Pc="IE",yi="Opera",If="Firefox",$f="Safari",Yv=()=>Mf({current:void 0,version:Bo.unknown()}),Mf=e=>{const t=e.current,n=e.version,s=r=>()=>t===r;return{current:t,version:n,isEdge:s(Bf),isChromium:s(Dc),isIE:s(Pc),isOpera:s(yi),isFirefox:s(If),isSafari:s($f)}},Ff={unknown:Yv,nu:Mf,edge:ae(Bf),chromium:ae(Dc),ie:ae(Pc),opera:ae(yi),firefox:ae(If),safari:ae($f)},Uf="Windows",Hf="iOS",Rh="Android",Oh="Linux",kh="macOS",Wf="Solaris",Dh="FreeBSD",Ph="ChromeOS",Xv=()=>Lh({current:void 0,version:Bo.unknown()}),Lh=e=>{const t=e.current,n=e.version,s=r=>()=>t===r;return{current:t,version:n,isWindows:s(Uf),isiOS:s(Hf),isAndroid:s(Rh),isMacOS:s(kh),isLinux:s(Oh),isSolaris:s(Wf),isFreeBSD:s(Dh),isChromeOS:s(Ph)}},Lc={unknown:Xv,nu:Lh,windows:ae(Uf),ios:ae(Hf),android:ae(Rh),linux:ae(Oh),macos:ae(kh),solaris:ae(Wf),freebsd:ae(Dh),chromeos:ae(Ph)},Qv={detect:(e,t,n)=>{const s=Nh.browsers(),r=Nh.oses(),o=t.bind(d=>Kv(s,d)).orThunk(()=>jv(s,e)).fold(Ff.unknown,Ff.nu),a=wh(r,e).fold(Lc.unknown,Lc.nu),u=Wv(a,o,e,n);return{browser:o,os:a,deviceType:u}}},Zv=e=>window.matchMedia(e).matches;let Jv=vi(()=>Qv.detect(navigator.userAgent,C.from(navigator.userAgentData),Zv));const Ci=()=>Jv(),rn=navigator.userAgent,Xt=Ci(),Ir=Xt.browser,$r=Xt.os,Ei=Xt.deviceType,e_=rn.indexOf("Windows Phone")!==-1,gt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ir.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ir.isIE(),windowsPhone:e_,browser:{current:Ir.current,version:Ir.version,isChromium:Ir.isChromium,isEdge:Ir.isEdge,isFirefox:Ir.isFirefox,isIE:Ir.isIE,isOpera:Ir.isOpera,isSafari:Ir.isSafari},os:{current:$r.current,version:$r.version,isAndroid:$r.isAndroid,isChromeOS:$r.isChromeOS,isFreeBSD:$r.isFreeBSD,isiOS:$r.isiOS,isLinux:$r.isLinux,isMacOS:$r.isMacOS,isSolaris:$r.isSolaris,isWindows:$r.isWindows},deviceType:{isDesktop:Ei.isDesktop,isiPad:Ei.isiPad,isiPhone:Ei.isiPhone,isPhone:Ei.isPhone,isTablet:Ei.isTablet,isTouch:Ei.isTouch,isWebView:Ei.isWebView}},t_=/^\s*|\s*$/g,zf=e=>ft(e)?"":(""+e).replace(t_,""),n_=(e,t)=>t?t==="array"&&Nf(e)?!0:typeof e===t:e!==void 0,Hn=(e,t,n={})=>{const s=pe(e)?e.split(t||","):e||[];let r=s.length;for(;r--;)n[s[r]]={};return n},Vf=Ye,wi=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(Ye(s,r)){const o=s[r];o!==void 0&&(e[r]=o)}}return e},qf=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),xc(e,(r,o)=>t.call(s,r,o,n)===!1?!1:(qf(r,t,n,s),!0)))},ie={trim:zf,isArray:Nf,is:n_,toArray:Uv,makeMap:Hn,each:xc,map:Rf,grep:rl,inArray:Hv,hasOwn:Vf,extend:wi,walk:qf,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,r=n.length;s<r&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>We(e)?e:e===""?[]:Rf(e.split(t||","),zf),_addCacheSuffix:e=>{const t=gt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Si=(e,t,n=to)=>e.exists(s=>n(s,t)),Ih=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},Wn=(e,t,n)=>e.isSome()&&t.isSome()?C.some(n(e.getOrDie(),t.getOrDie())):C.none(),$h=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?C.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):C.none(),zn=(e,t)=>e?C.some(t):C.none();typeof window<"u"||Function("return this;")();const Mh=8,Ps=9,Fh=11,ca=1,lo=3,Pt=e=>e.dom.nodeName.toLowerCase(),Bc=e=>e.dom.nodeType,Jt=e=>t=>Bc(t)===e,Io=e=>Bc(e)===Mh||Pt(e)==="#comment",Zn=Jt(ca),Ls=Jt(lo),Kf=Jt(Ps),r_=Jt(Fh),jf=e=>t=>Zn(t)&&Pt(t)===e,Uh=(e,t,n)=>{if(pe(n)||_t(n)||fn(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},En=(e,t,n)=>{Uh(e.dom,t,n)},dr=(e,t)=>{const n=e.dom;It(t,(s,r)=>{Uh(n,r,s)})},Vn=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},co=(e,t)=>C.from(Vn(e,t)),al=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},An=(e,t)=>{e.dom.removeAttribute(t)},Gf=e=>{const t=e.dom.attributes;return t==null||t.length===0},Ic=e=>Vt(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),$c=(e,t)=>{const n=Vn(e,t);return n===void 0||n===""?[]:n.split(" ")},o_=(e,t,n)=>{const r=$c(e,t).concat([n]);return En(e,t,r.join(" ")),!0},Yf=(e,t,n)=>{const s=Be($c(e,t),r=>r!==n);return s.length>0?En(e,t,s.join(" ")):An(e,t),!1},Ai=e=>e.dom.classList!==void 0,Hh=e=>$c(e,"class"),Xf=(e,t)=>o_(e,"class",t),ms=(e,t)=>Yf(e,"class",t),Qf=(e,t)=>St(Hh(e),t)?ms(e,t):Xf(e,t),uo=(e,t)=>{Ai(e)?e.dom.classList.add(t):Xf(e,t)},Zf=e=>{(Ai(e)?e.dom.classList:Hh(e)).length===0&&An(e,"class")},ll=(e,t)=>{Ai(e)?e.dom.classList.remove(t):ms(e,t),Zf(e)},i_=(e,t)=>{const n=Ai(e)?e.dom.classList.toggle(t):Qf(e,t);return Zf(e),n},Jf=(e,t)=>Ai(e)&&e.dom.classList.contains(t),cl=e=>e.style!==void 0&&je(e.style.getPropertyValue),a_=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const r="HTML does not have a single root node";throw console.error(r,e),new Error(r)}return ul(s.childNodes[0])},l_=(e,t)=>{const s=(t||document).createElement(e);return ul(s)},ua=(e,t)=>{const s=(t||document).createTextNode(e);return ul(s)},ul=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},D={fromHtml:a_,fromTag:l_,fromText:ua,fromDom:ul,fromPoint:(e,t,n)=>C.from(e.dom.elementFromPoint(t,n)).map(ul)},ed=(e,t)=>{const n=[],s=o=>(n.push(o),t(o));let r=t(e);do r=r.bind(s);while(r.isSome());return n},Bn=(e,t)=>{const n=e.dom;if(n.nodeType!==ca)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},fl=e=>e.nodeType!==ca&&e.nodeType!==Ps&&e.nodeType!==Fh||e.childElementCount===0,c_=(e,t)=>{const n=t===void 0?document:t.dom;return fl(n)?[]:at(n.querySelectorAll(e),D.fromDom)},u_=(e,t)=>{const n=t===void 0?document:t.dom;return fl(n)?C.none():C.from(n.querySelector(e)).map(D.fromDom)},Ct=(e,t)=>e.dom===t.dom,hs=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},Gs=e=>D.fromDom(e.dom.ownerDocument),Mr=e=>Kf(e)?e:Gs(e),f_=e=>D.fromDom(Mr(e).dom.documentElement),dl=e=>D.fromDom(Mr(e).dom.defaultView),mr=e=>C.from(e.dom.parentNode).map(D.fromDom),Wh=e=>C.from(e.dom.parentElement).map(D.fromDom),zh=(e,t)=>{const n=je(t)?t:pt;let s=e.dom;const r=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const o=s.parentNode,a=D.fromDom(o);if(r.push(a),n(a)===!0)break;s=o}return r},fa=e=>{const t=n=>Be(n,s=>!Ct(e,s));return mr(e).map(He).map(t).getOr([])},U=e=>C.from(e.dom.previousSibling).map(D.fromDom),ee=e=>C.from(e.dom.nextSibling).map(D.fromDom),Q=e=>Ds(ed(e,U)),Le=e=>ed(e,ee),He=e=>at(e.dom.childNodes,D.fromDom),kt=(e,t)=>{const n=e.dom.childNodes;return C.from(n[t]).map(D.fromDom)},Tn=e=>kt(e,0),qt=e=>kt(e,e.dom.childNodes.length-1),Mc=e=>e.dom.childNodes.length,d_=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return D.fromDom(t)},ps=e=>r_(e)&&le(e.dom.host),ml=je(Element.prototype.attachShadow)&&je(Node.prototype.getRootNode),m_=ae(ml),Bs=ml?e=>D.fromDom(e.dom.getRootNode()):Mr,da=e=>ps(e)?e:d_(Mr(e)),Fc=e=>ps(e)?e:D.fromDom(Mr(e).dom.body),Kt=e=>{const t=Bs(e);return ps(t)?C.some(t):C.none()},h_=e=>D.fromDom(e.dom.host),td=e=>{if(m_()&&le(e.target)){const t=D.fromDom(e.target);if(Zn(t)&&Uc(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Un(n)}}return C.from(e.target)},Uc=e=>le(e.dom.shadowRoot),ma=e=>{const t=Ls(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return Kt(D.fromDom(t)).fold(()=>n.body.contains(t),Yn(ma,h_))},Vh=(e,t,n)=>{if(!pe(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);cl(e)&&e.style.setProperty(t,n)},p_=(e,t)=>{cl(e)&&e.style.removeProperty(t)},hl=(e,t,n)=>{const s=e.dom;Vh(s,t,n)},hr=(e,t)=>{const n=e.dom;It(t,(s,r)=>{Vh(n,r,s)})},Is=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return r===""&&!ma(e)?nd(n,t):r},nd=(e,t)=>cl(e)?e.style.getPropertyValue(t):"",Ti=(e,t)=>{const n=e.dom,s=nd(n,t);return C.from(s).filter(r=>r.length>0)},sd=e=>{const t={},n=e.dom;if(cl(n))for(let s=0;s<n.style.length;s++){const r=n.style.item(s);t[r]=n.style[r]}return t},rd=(e,t)=>{const n=e.dom;p_(n,t),Si(co(e,"style").map(_i),"")&&An(e,"style")},Hc=e=>e.dom.offsetWidth,gs=(e,t)=>{mr(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Ys=(e,t)=>{ee(e).fold(()=>{mr(e).each(r=>{an(r,t)})},s=>{gs(s,t)})},$o=(e,t)=>{Tn(e).fold(()=>{an(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},an=(e,t)=>{e.dom.appendChild(t.dom)},g_=(e,t)=>{gs(e,t),an(t,e)},b_=(e,t)=>{te(t,(n,s)=>{const r=s===0?e:t[s-1];Ys(r,n)})},xi=(e,t)=>{te(t,n=>{an(e,n)})},Mo=e=>{e.dom.textContent="",te(He(e),t=>{$t(t)})},$t=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Fr=e=>{const t=He(e);t.length>0&&b_(e,t),$t(e)},v_=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,He(D.fromDom(s))},od=e=>at(e,D.fromDom),qh=e=>e.dom.innerHTML,Wc=(e,t)=>{const s=Gs(e).dom,r=D.fromDom(s.createDocumentFragment()),o=v_(t,s);xi(r,o),Mo(e),an(e,r)},kn=e=>{const t=D.fromTag("div"),n=D.fromDom(e.dom.cloneNode(!0));return an(t,n),qh(t)},Jn=(e,t,n,s,r,o,a)=>({target:e,x:t,y:n,stop:s,prevent:r,kill:o,raw:a}),__=e=>{const t=D.fromDom(td(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),r=ss(s,n);return Jn(t,e.clientX,e.clientY,n,s,r,e)},y_=(e,t)=>n=>{e(n)&&t(__(n))},Kh=(e,t,n,s,r)=>{const o=y_(n,s);return e.dom.addEventListener(t,o,r),{unbind:_e(id,e,t,o,r)}},C_=(e,t,n,s)=>Kh(e,t,n,s,!1),id=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},ha=(e,t)=>({left:e,top:t,translate:(s,r)=>ha(e+s,t+r)}),Fo=ha,pa=e=>{const t=e.getBoundingClientRect();return Fo(t.left,t.top)},Uo=(e,t)=>e!==void 0?e:t!==void 0?t:0,pl=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,r=t.documentElement;if(n===e.dom)return Fo(n.offsetLeft,n.offsetTop);const o=Uo(s==null?void 0:s.pageYOffset,r.scrollTop),a=Uo(s==null?void 0:s.pageXOffset,r.scrollLeft),u=Uo(r.clientTop,n.clientTop),d=Uo(r.clientLeft,n.clientLeft);return ga(e).translate(a-d,o-u)},ga=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Fo(s.offsetLeft,s.offsetTop):ma(e)?pa(t):Fo(0,0)},Ho=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Fo(n,s)},jh=(e,t,n)=>{const r=(n!==void 0?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Gh=(e,t)=>{Ci().browser.isSafari()&&je(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},E_=e=>{const t=e===void 0?window:e;return Ci().browser.isFirefox()?C.none():C.from(t.visualViewport)},Yh=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),Xh=e=>{const t=e===void 0?window:e,n=t.document,s=Ho(D.fromDom(n));return E_(t).fold(()=>{const r=t.document.documentElement,o=r.clientWidth,a=r.clientHeight;return Yh(s.left,s.top,o,a)},r=>Yh(Math.max(r.pageLeft,s.left),Math.max(r.pageTop,s.top),r.width,r.height))},zc=(e,t)=>Be(He(e),t),ba=(e,t)=>{let n=[];return te(He(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(ba(s,t))}),n};var ad=(e,t,n,s,r)=>e(n,s)?C.some(n):je(r)&&r(n)?C.none():t(n,s,r);const A=(e,t,n)=>{let s=e.dom;const r=je(n)?n:pt;for(;s.parentNode;){s=s.parentNode;const o=D.fromDom(s);if(t(o))return C.some(o);if(r(o))break}return C.none()},Xs=(e,t,n)=>ad((r,o)=>o(r),A,e,t,n),Vc=(e,t)=>{const n=e.dom;return n.parentNode?Qs(D.fromDom(n.parentNode),s=>!Ct(e,s)&&t(s)):C.none()},Qs=(e,t)=>{const n=r=>t(D.fromDom(r));return Zt(e.dom.childNodes,n).map(D.fromDom)},Tt=(e,t)=>{const n=s=>{for(let r=0;r<s.childNodes.length;r++){const o=D.fromDom(s.childNodes[r]);if(t(o))return C.some(o);const a=n(s.childNodes[r]);if(a.isSome())return a}return C.none()};return n(e.dom)},gl=(e,t,n)=>A(e,s=>Bn(s,t),n),bl=(e,t)=>u_(t,e),Ni=(e,t,n)=>ad((r,o)=>Bn(r,o),gl,e,t,n),Wo=(e,t,n)=>gl(e,t,n).isSome();class gn{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,r){if(t){if(!r&&t[n])return t[n];if(t!==this.rootNode){let o=t[s];if(o)return o;for(let a=t.parentNode;a&&a!==this.rootNode;a=a.parentNode)if(o=a[s],o)return o}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let o=s.lastChild;o;o=o.lastChild)if(!o.lastChild)return o}return s}const r=t.parentNode;if(r&&r!==this.rootNode)return r}}}const Ri=e=>t=>!!t&&t.nodeType===e,qc=e=>!!e&&!Object.getPrototypeOf(e),ye=Ri(1),ld=e=>{const t=e.toLowerCase();return n=>le(n)&&n.nodeName.toLowerCase()===t},Dn=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return St(t,s)}return!1}},Kc=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(ye(s)){const r=s.ownerDocument.defaultView;if(r)for(let o=0;o<n.length;o++){const a=r.getComputedStyle(s,null);if((a?a.getPropertyValue(e):null)===n[o])return!0}}return!1}},Qh=e=>t=>ye(t)&&t.hasAttribute(e),w_=(e,t)=>n=>ye(n)&&n.getAttribute(e)===t,Oi=e=>ye(e)&&e.hasAttribute("data-mce-bogus"),S_=e=>ye(e)&&e.getAttribute("data-mce-bogus")==="all",qn=e=>ye(e)&&e.tagName==="TABLE",Zh=e=>t=>!!(ye(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),cd=Dn(["textarea","input"]),se=Ri(3),A_=Ri(4),T_=Ri(7),bs=Ri(8),vl=Ri(9),ud=Ri(11),Dt=ld("br"),Jh=ld("img"),pr=Zh("true"),Mt=Zh("false"),jc=Dn(["td","th"]),ep=Dn(["td","th","caption"]),gr=Dn(["video","audio","object","embed"]),tp=ld("li"),va="\uFEFF",xn="\xA0",Gc=e=>e===va,_l=e=>e.replace(/\uFEFF/g,""),Nn=(e,t)=>c_(t,e),fd=((e,t)=>{const n=o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return s(o).getOr("")},s=o=>e(o)?C.from(o.dom.nodeValue):C.none();return{get:n,getOption:s,set:(o,a)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=a}}})(Ls,"text"),dd=e=>fd.get(e),Ur=e=>fd.getOption(e),md=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ki=["td","th"],Zs=["thead","tbody","tfoot"],x_=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],np=["h1","h2","h3","h4","h5","h6"],sp=["li","dd","dt"],yl=["ul","ol","dl"],zo=["pre","script","textarea","style"],rp=["pre"].concat(np),Vo=e=>{let t;return n=>(t=t||tl(e,Bt),Ye(t,Pt(n)))},vs=Vo(md),N_=e=>Pt(e)==="table",Yc=e=>Zn(e)&&!vs(e),dn=e=>Zn(e)&&Pt(e)==="br",Xc=Vo(x_),Qc=Vo(yl),_s=Vo(sp),hd=Vo(Zs),qo=Vo(ki),Hr=Vo(zo),op=Vo(rp),os=e=>op(e)||Yc(e),pd=e=>{const t=[];let n=e.dom;for(;n;)t.push(D.fromDom(n)),n=n.lastChild;return t},R_=e=>{const t=Nn(e,"br"),n=Be(pd(e).slice(-1),dn);t.length===n.length&&te(n,$t)},gd=()=>{const e=D.fromTag("br");return En(e,"data-mce-bogus","1"),e},Di=e=>{Mo(e),an(e,gd())},bd=e=>{qt(e).each(t=>{U(t).each(n=>{vs(e)&&dn(t)&&vs(n)&&$t(t)})})},Pn=va,Ko=Gc,Wr=_l,O_=ye,_a=se,zr=e=>(_a(e)&&(e=e.parentNode),O_(e)&&e.hasAttribute("data-mce-caret")),jo=e=>_a(e)&&Ko(e.data),$s=e=>zr(e)||jo(e),Zc=e=>e.firstChild!==e.lastChild||!Dt(e.firstChild),ip=(e,t)=>{var n;const r=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Pn),o=e.parentNode;if(t){const a=e.previousSibling;if(_a(a)){if($s(a))return a;if(ya(a))return a.splitText(a.data.length-1)}o==null||o.insertBefore(r,e)}else{const a=e.nextSibling;if(_a(a)){if($s(a))return a;if(Cl(a))return a.splitText(1),a}e.nextSibling?o==null||o.insertBefore(r,e.nextSibling):o==null||o.appendChild(r)}return r},vd=e=>{const t=e.container();return se(t)?t.data.charAt(e.offset())===Pn||e.isAtStart()&&jo(t.previousSibling):!1},_d=e=>{const t=e.container();return se(t)?t.data.charAt(e.offset()-1)===Pn||e.isAtEnd()&&jo(t.nextSibling):!1},k_=(e,t,n)=>{var s;const o=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(gd().dom);const a=t.parentNode;return n?a==null||a.insertBefore(o,t):t.nextSibling?a==null||a.insertBefore(o,t.nextSibling):a==null||a.appendChild(o),o},Cl=e=>_a(e)&&e.data[0]===Pn,ya=e=>_a(e)&&e.data[e.data.length-1]===Pn,D_=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Oi(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},El=e=>e&&e.hasAttribute("data-mce-caret")?(D_(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,yd=e=>zr(e.startContainer),Cd=pr,ap=Mt,Jc=Dt,P_=se,lp=Dn(["script","style","textarea"]),Ed=Dn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),L_=Dn(["table"]),cp=$s,Js=e=>cp(e)?!1:P_(e)?!lp(e.parentNode):Ed(e)||Jc(e)||L_(e)||eu(e),wd=e=>ye(e)&&e.getAttribute("unselectable")==="true",eu=e=>!wd(e)&&ap(e),Sd=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(eu(n))return!1;if(Cd(n))return!0}return!0},B_=e=>eu(e)?!Vt(Qn(e.getElementsByTagName("*")),(t,n)=>t||Cd(n),!1):!1,Ad=e=>Ed(e)||B_(e),bt=(e,t)=>Js(e)&&Sd(e,t),I_=/^[ \t\r\n]*$/,Pi=e=>I_.test(e),wl=e=>" \f	\v".indexOf(e)!==-1,Td=e=>e===`
`||e==="\r",$_=(e,t)=>t<e.length&&t>=0?Td(e[t]):!1,up=(e,t=4,n=!0,s=!0)=>{const r=kc(" ",t),o=e.replace(/\t/g,r);return Vt(o,(u,d)=>wl(d)||d===xn?u.pcIsSpace||u.str===""&&n||u.str.length===o.length-1&&s||$_(o,u.str.length+1)?{pcIsSpace:!1,str:u.str+xn}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:Td(d),str:u.str+d},{pcIsSpace:!1,str:""}).str},er=(e,t)=>{const n=D.fromDom(t),s=D.fromDom(e);return Wo(s,"pre,code",_e(Ct,n))},M_=(e,t)=>se(e)&&Pi(e.data)&&!er(e,t),tu=e=>ye(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Ca=(e,t)=>Js(e)&&!M_(e,t)||tu(e)||fp(e),fp=Qh("data-mce-bookmark"),dp=Qh("data-mce-bogus"),Ms=w_("data-mce-bogus","all"),Go=(e,t)=>{let n=0;if(Ca(e,e))return!1;{let s=e.firstChild;if(!s)return!0;const r=new gn(s,e);do{if(t){if(Ms(s)){s=r.next(!0);continue}if(dp(s)){s=r.next();continue}}if(Dt(s)){n++,s=r.next();continue}if(Ca(s,e))return!1;s=r.next()}while(s);return n<=1}},en=(e,t=!0)=>Go(e.dom,t),Ea="data-mce-block",nu=e=>Be(ds(e),t=>!/[A-Z]/.test(t)),su=e=>nu(e).join(","),ru=(e,t)=>le(t.querySelector(e))?(t.setAttribute(Ea,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ea),!1),xd=(e,t)=>{const n=su(e.getTransparentElements()),s=su(e.getBlockElements());return Be(t.querySelectorAll(n),r=>ru(s,r))},ou=(e,t)=>{var n;const s=t?"lastChild":"firstChild";for(let r=e[s];r;r=r[s])if(en(D.fromDom(r))){(n=r.parentNode)===null||n===void 0||n.removeChild(r);return}},Nd=(e,t)=>{const n=document.createRange(),s=e.parentNode;if(s){n.setStartBefore(e),n.setEndBefore(t);const r=n.extractContents();ou(r,!0),n.setStartAfter(t),n.setEndAfter(e);const o=n.extractContents();ou(o,!1),en(D.fromDom(r))||s.insertBefore(r,e),en(D.fromDom(t))||s.insertBefore(t,e),en(D.fromDom(o))||s.insertBefore(o,e),s.removeChild(e)}},Yo=(e,t,n)=>{const s=e.getBlockElements(),r=D.fromDom(t),o=u=>Pt(u)in s,a=u=>Ct(u,r);te(od(n),u=>{A(u,o,a).each(d=>{const p=zc(u,v=>o(v)&&!e.isValidChild(Pt(d),Pt(v)));if(p.length>0){const v=Wh(d);te(p,_=>{A(_,o,a).each(y=>{Nd(y.dom,_.dom)})}),v.each(_=>xd(e,_.dom))}})})},Rd=(e,t)=>{const n=xd(e,t);Yo(e,t,n)},Xo=(e,t)=>{if(hp(e,t)){const n=su(e.getBlockElements());ru(n,t)}},mp=(e,t,n)=>{const s=o=>Ct(o,D.fromDom(t)),r=zh(D.fromDom(n),s);aa(r,r.length-2).filter(Zn).fold(()=>Rd(e,t),o=>Rd(e,o.dom))},Od=e=>e.hasAttribute(Ea),wa=(e,t)=>Ye(e.getTransparentElements(),t),hp=(e,t)=>ye(t)&&wa(e,t.nodeName),Sl=(e,t)=>hp(e,t)&&Od(t),F_=(e,t)=>t.type===1&&wa(e,t.name)&&pe(t.attr(Ea)),kd=(e,t)=>t.type===1&&wa(e,t.name)&&yt(t.attr(Ea)),pp=Ci().browser,gp=e=>Zt(e,Zn),bp=e=>pp.isFirefox()&&Pt(e)==="table"?gp(He(e)).filter(t=>Pt(t)==="caption").bind(t=>gp(Le(t)).map(n=>{const s=n.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return s<=r?-o:0})).getOr(0):0,Dd=(e,t)=>e.children&&St(e.children,t),ys=(e,t,n)=>{let s=0,r=0;const o=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Is(D.fromDom(e),"position")==="static"){const u=t.getBoundingClientRect();return s=u.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,r=u.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:s,y:r}}let a=t;for(;a&&a!==n&&a.nodeType&&!Dd(a,n);){const u=a;s+=u.offsetLeft||0,r+=u.offsetTop||0,a=u.offsetParent}for(a=t.parentNode;a&&a!==n&&a.nodeType&&!Dd(a,n);)s-=a.scrollLeft||0,r-=a.scrollTop||0,a=a.parentNode;r+=bp(D.fromDom(t))}return{x:s,y:r}},br=(e,t={})=>{let n=0;const s={},r=D.fromDom(e),o=Mr(r),a=t.maxLoadTime||5e3,u=N=>{t.referrerPolicy=N},d=N=>{t.contentCssCors=N},p=N=>{an(da(r),N)},v=N=>{const B=da(r);bl(B,"#"+N).each($t)},_=N=>Ut(s,N).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),y=N=>new Promise((B,L)=>{let I;const W=ie._addCacheSuffix(N),G=_(W);s[W]=G,G.count++;const fe=($e,ze)=>{te($e,Ks),G.status=ze,G.passed=[],G.failed=[],I&&(I.onload=null,I.onerror=null,I=null)},oe=()=>fe(G.passed,2),V=()=>fe(G.failed,3),F=($e,ze)=>{$e()||(Date.now()-Ne<a?setTimeout(ze):V())},ge=()=>{F(()=>{const $e=e.styleSheets;let ze=$e.length;for(;ze--;){const ct=$e[ze].ownerNode;if(ct&&I&&ct.id===I.id)return oe(),!0}return!1},ge)};if(B&&G.passed.push(B),L&&G.failed.push(L),G.status===1)return;if(G.status===2){oe();return}if(G.status===3){V();return}G.status=1;const Se=D.fromTag("link",o.dom);dr(Se,{rel:"stylesheet",type:"text/css",id:G.id});const Ne=Date.now();t.contentCssCors&&En(Se,"crossOrigin","anonymous"),t.referrerPolicy&&En(Se,"referrerpolicy",t.referrerPolicy),I=Se.dom,I.onload=ge,I.onerror=V,p(Se),En(Se,"href",W)}),T=N=>Promise.allSettled(at(N,L=>y(L).then(ae(L)))).then(L=>{const I=ko(L,W=>W.status==="fulfilled");return I.fail.length>0?Promise.reject(at(I.fail,W=>W.reason)):at(I.pass,W=>W.value)}),x=N=>{const B=ie._addCacheSuffix(N);Ut(s,B).each(L=>{--L.count===0&&(delete s[B],v(L.id))})};return{load:y,loadAll:T,unload:x,unloadAll:N=>{te(N,B=>{x(B)})},_setReferrerPolicy:u,_setContentCssCors:d}},vp=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const o=Bs(n).dom;return C.from(e.get(o)).getOrThunk(()=>{const a=br(o,s);return e.set(o,a),a})}}})(),iu=e=>e.nodeName.toLowerCase()==="span",Li=(e,t)=>le(e)&&(Ca(e,t)||Yc(D.fromDom(e))),_p=(e,t)=>{const n=new gn(e,t).prev(!1),s=new gn(e,t).next(!1),r=yt(n)||Li(n,t),o=yt(s)||Li(s,t);return r&&o},Pd=e=>iu(e)&&e.getAttribute("data-mce-type")==="bookmark",U_=(e,t)=>se(e)&&e.data.length>0&&_p(e,t),yp=e=>ye(e)?e.childNodes.length>0:!1,Sa=e=>ud(e)||vl(e),Bi=(e,t,n)=>{var s;const r=n||t;if(ye(t)&&Pd(t))return t;const o=t.childNodes;for(let a=o.length-1;a>=0;a--)Bi(e,o[a],r);if(ye(t)){const a=t.childNodes;a.length===1&&Pd(a[0])&&((s=t.parentNode)===null||s===void 0||s.insertBefore(a[0],t))}return!Sa(t)&&!Ca(t,r)&&!yp(t)&&!U_(t,r)&&e.remove(t),t},H_=ie.makeMap,Al=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,au=/[<>&\"\']/g,Cp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,lu={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},fo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},cu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},W_=e=>{const t=D.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ld=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let r=0;r<s.length;r+=2){const o=String.fromCharCode(parseInt(s[r],t));if(!fo[o]){const a="&"+s[r+1]+";";n[o]=a,n[a]=o}}return n}else return},Aa=Ld("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Bd=(e,t)=>e.replace(t?Al:Tl,n=>fo[n]||n),Id=e=>(""+e).replace(au,t=>fo[t]||t),Ep=(e,t)=>e.replace(t?Al:Tl,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":fo[n]||"&#"+n.charCodeAt(0)+";"),uu=(e,t,n)=>{const s=n||Aa;return e.replace(t?Al:Tl,r=>fo[r]||s[r]||r)},mo={encodeRaw:Bd,encodeAllRaw:Id,encodeNumeric:Ep,encodeNamed:uu,getEncodeFunc:(e,t)=>{const n=Ld(t)||Aa,s=(a,u)=>a.replace(u?Al:Tl,d=>fo[d]!==void 0?fo[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"),r=(a,u)=>uu(a,u,n),o=H_(e.replace(/\+/g,","));return o.named&&o.numeric?s:o.named?t?r:uu:o.numeric?Ep:Bd},decode:e=>e.replace(Cp,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):lu[n]||String.fromCharCode(n)):cu[t]||Aa[t]||W_(t))},fu={},xl={},V_={},Ta=ie.makeMap,tn=ie.each,Nl=ie.extend,du=ie.explode,$d=ie.inArray,bn=(e,t)=>(e=ie.trim(e),e?e.split(t||" "):[]),Ii=(e,t={})=>{const n=Ta(e," ",Ta(e.toUpperCase()," "));return Nl(n,t)},Je=e=>Ii("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),mu=e=>{const t={};let n,s,r,o;const a=(d,p="",v="")=>{const _=bn(v),y=bn(d);let T=y.length;for(;T--;){const x=bn([n,p].join(" "));t[y[T]]={attributes:tl(x,()=>({})),attributesOrder:x,children:tl(_,ae(V_))}}},u=(d,p)=>{const v=bn(d),_=bn(p);let y=v.length;for(;y--;){const T=t[v[y]];for(let x=0,S=_.length;x<S;x++)T.attributes[_[x]]={},T.attributesOrder.push(_[x])}};if(fu[e])return fu[e];if(n="id accesskey class dir lang style tabindex title role",s="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const d="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",s+=" article aside details dialog figure main header footer hgroup section nav "+d,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){n+=" xml:lang";const d="acronym applet basefont big font strike tt";r=[r,d].join(" "),tn(bn(d),v=>{a(v,"",r)});const p="center dir isindex noframes";s=[s,p].join(" "),o=[s,r].join(" "),tn(bn(p),v=>{a(v,"",o)})}return o=o||[s,r].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),a("address dt dd div caption","",o),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),a("blockquote","cite",o),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",o),a("dl","","dt dd"),a("a","href target rel media hreflang type",o),a("q","cite",r),a("ins del","cite datetime",o),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",o),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),a("param","name value"),a("map","name",[o,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",o),a("th","colspan rowspan headers scope abbr",o),a("form","accept-charset action autocomplete enctype method name novalidate target",o),a("fieldset","disabled form name",[o,"legend"].join(" ")),a("label","form for",r),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?o:r),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[o,"li"].join(" ")),a("noscript","",o),e!=="html4"&&(a("wbr"),a("ruby","",[r,"rt rp"].join(" ")),a("figcaption","",o),a("mark rt rp summary bdi","",r),a("canvas","width height",o),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[r,"option"].join(" ")),a("article section nav aside main header footer","",o),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[o,"figcaption"].join(" ")),a("time","datetime",r),a("dialog","open",o),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",r),a("progress","value max",r),a("meter","value min max low high optimum",r),a("details","open",[o,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),e!=="html4"&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&te([t.video,t.audio],d=>{delete d.children.audio,delete d.children.video}),tn(bn("a form meter progress dfn"),d=>{t[d]&&delete t[d].children[d]}),delete t.caption.children.table,delete t.script,fu[e]=t,t},Rl=(e,t)=>{if(e){const n={};return pe(e)&&(e={"*":e}),tn(e,(s,r)=>{n[r]=n[r.toUpperCase()]=t==="map"?Ta(s,/[, ]/):du(s,/[, ]/)}),n}else return},Cs=(e={})=>{var t;const n={},s={};let r=[];const o={},a={},u=(Ue,ut,on)=>{const Ot=e[Ue];if(Ot)return Ta(Ot,/[, ]/,Ta(Ot.toUpperCase(),/[, ]/));{let Qt=xl[Ue];return Qt||(Qt=Ii(ut,on),xl[Ue]=Qt),Qt}},d=(t=e.schema)!==null&&t!==void 0?t:"html5",p=mu(d);e.verify_html===!1&&(e.valid_elements="*[*]");const v=Rl(e.valid_styles),_=Rl(e.invalid_styles,"map"),y=Rl(e.valid_classes,"map"),T=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),x=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),N=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),B="td th iframe video audio object script code",L=u("non_empty_elements",B+" pre",S),I=u("move_caret_before_on_enter_elements",B+" table",S),W=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),G=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",W),fe=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),oe=u("transparent_elements","a ins del canvas map");tn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Ue=>{a[Ue]=new RegExp("</"+Ue+"[^>]*>","gi")});const V=Ue=>new RegExp("^"+Ue.replace(/([?+*])/g,".$1")+"$"),F=Ue=>{const ut=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,on=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ot=/[*?+]/;if(Ue){const Qt=bn(Ue,",");let nn,Ft;n["@"]&&(nn=n["@"].attributes,Ft=n["@"].attributesOrder);for(let un=0,Nr=Qt.length;un<Nr;un++){let Mn=ut.exec(Qt[un]);if(Mn){const So=Mn[1],ar=Mn[2],fc=Mn[3],dc=Mn[5],Ao={},Gr=[],hn={attributes:Ao,attributesOrder:Gr};if(So==="#"&&(hn.paddEmpty=!0),So==="-"&&(hn.removeEmpty=!0),Mn[4]==="!"&&(hn.removeEmptyAttrs=!0),nn&&(It(nn,(Rr,To)=>{Ao[To]=Rr}),Ft&&Gr.push(...Ft)),dc){const Rr=bn(dc,"|");for(let To=0,Or=Rr.length;To<Or;To++)if(Mn=on.exec(Rr[To]),Mn){const kr={},di=Mn[1],Gn=Mn[2].replace(/[\\:]:/g,":"),Xi=Mn[3],mi=Mn[4];if(di==="!"&&(hn.attributesRequired=hn.attributesRequired||[],hn.attributesRequired.push(Gn),kr.required=!0),di==="-"){delete Ao[Gn],Gr.splice($d(Gr,Gn),1);continue}if(Xi&&(Xi==="="&&(hn.attributesDefault=hn.attributesDefault||[],hn.attributesDefault.push({name:Gn,value:mi}),kr.defaultValue=mi),Xi==="~"&&(hn.attributesForced=hn.attributesForced||[],hn.attributesForced.push({name:Gn,value:mi}),kr.forcedValue=mi),Xi==="<"&&(kr.validValues=Ta(mi,"?"))),Ot.test(Gn)){const Yr=kr;hn.attributePatterns=hn.attributePatterns||[],Yr.pattern=V(Gn),hn.attributePatterns.push(Yr)}else Ao[Gn]||Gr.push(Gn),Ao[Gn]=kr}}if(!nn&&ar==="@"&&(nn=Ao,Ft=Gr),fc&&(hn.outputName=ar,n[fc]=hn),Ot.test(ar)){const Rr=hn;Rr.pattern=V(ar),r.push(Rr)}else n[ar]=hn}}}},ge=Ue=>{r=[],te(ds(n),ut=>{delete n[ut]}),F(Ue),tn(p,(ut,on)=>{s[on]=ut.children})},Se=Ue=>{const ut=/^(~)?(.+)$/;Ue&&(delete xl.text_block_elements,delete xl.block_elements,tn(bn(Ue,","),on=>{const Ot=ut.exec(on);if(Ot){const Qt=Ot[1]==="~",nn=Qt?"span":"div",Ft=Ot[2];if(s[Ft]=s[nn],o[Ft]=nn,L[Ft.toUpperCase()]={},L[Ft]={},Qt||(G[Ft.toUpperCase()]={},G[Ft]={}),!n[Ft]){let un=n[nn];un=Nl({},un),delete un.removeEmptyAttrs,delete un.removeEmpty,n[Ft]=un}tn(s,(un,Nr)=>{un[nn]&&(s[Nr]=un=Nl({},s[Nr]),un[Ft]=un[nn])})}}))},Ne=Ue=>{const ut=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete fu[d],Ue&&tn(bn(Ue,","),on=>{const Ot=ut.exec(on);if(Ot){const Qt=Ot[1];let nn;Qt?nn=s[Ot[2]]:nn=s[Ot[2]]={"#comment":{}},nn=s[Ot[2]],tn(bn(Ot[3],"|"),Ft=>{Qt==="-"?delete nn[Ft]:nn[Ft]={}})}})},$e=Ue=>{const ut=n[Ue];if(ut)return ut;let on=r.length;for(;on--;){const Ot=r[on];if(Ot.pattern.test(Ue))return Ot}};e.valid_elements?ge(e.valid_elements):(tn(p,(Ue,ut)=>{n[ut]={attributes:Ue.attributes,attributesOrder:Ue.attributesOrder},s[ut]=Ue.children}),tn(bn("strong/b em/i"),Ue=>{const ut=bn(Ue,"/");n[ut[1]].outputName=ut[0]}),tn(fe,(Ue,ut)=>{n[ut]&&(e.padd_empty_block_inline_children&&(n[ut].paddInEmptyBlock=!0),n[ut].removeEmpty=!0)}),tn(bn("ol ul blockquote a table tbody"),Ue=>{n[Ue]&&(n[Ue].removeEmpty=!0)}),tn(bn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Ue=>{n[Ue].paddEmpty=!0}),tn(bn("span"),Ue=>{n[Ue].removeEmptyAttrs=!0})),Se(e.custom_elements),Ne(e.valid_children),F(e.extended_valid_elements),Ne("+ol[ul|ol],+ul[ul|ol]"),tn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Ue,ut)=>{n[ut]&&(n[ut].parentsRequired=bn(Ue))}),e.invalid_elements&&tn(du(e.invalid_elements),Ue=>{n[Ue]&&delete n[Ue]}),$e("span")||F("span[!data-mce-type|*]");const ze=ae(v),mt=ae(_),ct=ae(y),cn=ae(N),jn=ae(G),re=ae(W),Ve=ae(fe),Oe=ae(Object.seal(S)),Lt=ae(x),be=ae(L),Ie=ae(I),Pe=ae(T),de=ae(oe),tt=ae(Object.seal(a)),Qe=(Ue,ut)=>{const on=s[Ue.toLowerCase()];return!!(on&&on[ut.toLowerCase()])},Sn=(Ue,ut)=>{const on=$e(Ue);if(on)if(ut){if(on.attributes[ut])return!0;const Ot=on.attributePatterns;if(Ot){let Qt=Ot.length;for(;Qt--;)if(Ot[Qt].pattern.test(ut))return!0}}else return!0;return!1},Wt=ae(o);return{type:d,children:s,elements:n,getValidStyles:ze,getValidClasses:ct,getBlockElements:jn,getInvalidStyles:mt,getVoidElements:Oe,getTextBlockElements:re,getTextInlineElements:Ve,getBoolAttrs:cn,getElementRule:$e,getSelfClosingElements:Lt,getNonEmptyElements:be,getMoveCaretBeforeOnEnterElements:Ie,getWhitespaceElements:Pe,getTransparentElements:de,getSpecialElements:tt,isValidChild:Qe,isValid:Sn,getCustomElements:Wt,addValidElements:F,setValidElements:ge,addCustomElements:Se,addValidChildren:Ne}},Md=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,o={};let a,u;const d=va;t&&(a=t.getValidStyles(),u=t.getInvalidStyles());const p=(`\\" \\' \\; \\: ; : `+d).split(" ");for(let _=0;_<p.length;_++)o[p[_]]=d+_,o[d+_]=p[_];const v={parse:_=>{const y={};let T=!1;const x=e.url_converter,S=e.url_converter_scope||v,N=(V,F,ge)=>{const Se=y[V+"-top"+F];if(!Se)return;const Ne=y[V+"-right"+F];if(!Ne)return;const $e=y[V+"-bottom"+F];if(!$e)return;const ze=y[V+"-left"+F];if(!ze)return;const mt=[Se,Ne,$e,ze];let ct=mt.length-1;for(;ct--&&mt[ct]===mt[ct+1];);ct>-1&&ge||(y[V+F]=ct===-1?mt[0]:mt.join(" "),delete y[V+"-top"+F],delete y[V+"-right"+F],delete y[V+"-bottom"+F],delete y[V+"-left"+F])},B=V=>{const F=y[V];if(!F)return;const ge=F.split(" ");let Se=ge.length;for(;Se--;)if(ge[Se]!==ge[0])return!1;return y[V]=ge[0],!0},L=(V,F,ge,Se)=>{!B(F)||!B(ge)||!B(Se)||(y[V]=y[F]+" "+y[ge]+" "+y[Se],delete y[F],delete y[ge],delete y[Se])},I=V=>(T=!0,o[V]),W=(V,F)=>(T&&(V=V.replace(/\uFEFF[0-9]/g,ge=>o[ge])),F||(V=V.replace(/\\([\'\";:])/g,"$1")),V),G=V=>String.fromCharCode(parseInt(V.slice(1),16)),fe=V=>V.replace(/\\[0-9a-f]+/gi,G),oe=(V,F,ge,Se,Ne,$e)=>{if(Ne=Ne||$e,Ne)return Ne=W(Ne),"'"+Ne.replace(/\'/g,"\\'")+"'";if(F=W(F||ge||Se||""),!e.allow_script_urls){const ze=F.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ze)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ze))return""}return x&&(F=x.call(S,F,"style")),"url('"+F.replace(/\'/g,"\\'")+"')"};if(_){_=_.replace(/[\u0000-\u001F]/g,""),_=_.replace(/\\[\"\';:\uFEFF]/g,I).replace(/\"[^\"]+\"|\'[^\']+\'/g,F=>F.replace(/[;:]/g,I));let V;for(;V=s.exec(_);){s.lastIndex=V.index+V[0].length;let F=V[1].replace(r,"").toLowerCase(),ge=V[2].replace(r,"");if(F&&ge){if(F=fe(F),ge=fe(ge),F.indexOf(d)!==-1||F.indexOf('"')!==-1||!e.allow_script_urls&&(F==="behavior"||/expression\s*\(|\/\*|\*\//.test(ge)))continue;F==="font-weight"&&ge==="700"?ge="bold":(F==="color"||F==="background-color")&&(ge=ge.toLowerCase()),ge=ge.replace(n,oe),y[F]=T?W(ge,!0):ge}}N("border","",!0),N("border","-width"),N("border","-color"),N("border","-style"),N("padding",""),N("margin",""),L("border","border-width","border-style","border-color"),y.border==="medium none"&&delete y.border,y["border-image"]==="none"&&delete y["border-image"]}return y},serialize:(_,y)=>{let T="";const x=(N,B)=>{const L=B[N];if(L)for(let I=0,W=L.length;I<W;I++){const G=L[I],fe=_[G];fe&&(T+=(T.length>0?" ":"")+G+": "+fe+";")}},S=(N,B)=>{if(!u||!B)return!0;let L=u["*"];return L&&L[N]?!1:(L=u[B],!(L&&L[N]))};return y&&a?(x("*",a),x(y,a)):It(_,(N,B)=>{N&&S(B,y)&&(T+=(T.length>0?" ":"")+B+": "+N+";")}),T}};return v},Fd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},wp=e=>e instanceof Event||je(e.initEvent),es=e=>e.isDefaultPrevented===Bt||e.isDefaultPrevented===pt,q_=e=>ft(e.preventDefault)||wp(e),Sp=(e,t)=>{const n=t!=null?t:{};for(const s in e)Ye(Fd,s)||(n[s]=e[s]);return le(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},hu=(e,t,n,s)=>{var r;const o=Sp(t,s);return o.type=e,ft(o.target)&&(o.target=(r=o.srcElement)!==null&&r!==void 0?r:n),q_(t)&&(o.preventDefault=()=>{o.defaultPrevented=!0,o.isDefaultPrevented=Bt,je(t.preventDefault)&&t.preventDefault()},o.stopPropagation=()=>{o.cancelBubble=!0,o.isPropagationStopped=Bt,je(t.stopPropagation)&&t.stopPropagation()},o.stopImmediatePropagation=()=>{o.isImmediatePropagationStopped=Bt,o.stopPropagation()},es(o)||(o.isDefaultPrevented=o.defaultPrevented===!0?Bt:pt,o.isPropagationStopped=o.cancelBubble===!0?Bt:pt,o.isImmediatePropagationStopped=pt)),o},K_="mce-data-",Ap=/^(?:mouse|contextmenu)|click/,Ud=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},pu=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},j_=e=>le(e)&&Ap.test(e.type),Fs=(e,t)=>{const n=hu(e.type,e,document,t);if(j_(e)&&yt(e.pageX)&&!yt(e.clientX)){const s=n.target.ownerDocument||document,r=s.documentElement,o=s.body,a=n;a.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}return n},is=(e,t,n)=>{const s=e.document,r={type:"ready"};if(n.domLoaded){t(r);return}const o=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,a=()=>{pu(e,"DOMContentLoaded",a),pu(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};o()?a():Ud(e,"DOMContentLoaded",a),n.domLoaded||Ud(e,"load",a)};class ho{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=K_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,r){const o=this;let a;const u=window,d=y=>{o.executeHandlers(Fs(y||u.event),p)};if(!t||se(t)||bs(t))return s;let p;t[o.expando]?p=t[o.expando]:(p=o.count++,t[o.expando]=p,o.events[p]={}),r=r||t;const v=n.split(" ");let _=v.length;for(;_--;){let y=v[_],T=d,x=!1,S=!1;if(y==="DOMContentLoaded"&&(y="ready"),o.domLoaded&&y==="ready"&&t.readyState==="complete"){s.call(r,Fs({type:y}));continue}!o.hasFocusIn&&(y==="focusin"||y==="focusout")&&(x=!0,S=y==="focusin"?"focus":"blur",T=N=>{const B=Fs(N||u.event);B.type=B.type==="focus"?"focusin":"focusout",o.executeHandlers(B,p)}),a=o.events[p][y],a?y==="ready"&&o.domLoaded?s(Fs({type:y})):a.push({func:s,scope:r}):(o.events[p][y]=a=[{func:s,scope:r}],a.fakeName=S,a.capture=x,a.nativeHandler=T,y==="ready"?is(t,T,o):Ud(t,S||y,T,x))}return t=a=null,s}unbind(t,n,s){if(!t||se(t)||bs(t))return this;const r=t[this.expando];if(r){let o=this.events[r];if(n){const a=n.split(" ");let u=a.length;for(;u--;){const d=a[u],p=o[d];if(p){if(s){let v=p.length;for(;v--;)if(p[v].func===s){const _=p.nativeHandler,y=p.fakeName,T=p.capture,x=p.slice(0,v).concat(p.slice(v+1));x.nativeHandler=_,x.fakeName=y,x.capture=T,o[d]=x}}(!s||p.length===0)&&(delete o[d],pu(t,p.fakeName||d,p.nativeHandler,p.capture))}}}else It(o,(a,u)=>{pu(t,a.fakeName||u,a.nativeHandler,a.capture)}),o={};for(const a in o)if(Ye(o,a))return this;delete this.events[r];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||se(t)||bs(t))return this;const r=Fs({type:n,target:t},s);do{const o=t[this.expando];o&&this.executeHandlers(r,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped());return this}clean(t){if(!t||se(t)||bs(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],r=s&&s[t.type];if(r)for(let o=0,a=r.length;o<a;o++){const u=r[o];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ho.Event=new ho;const Hd=ie.each,Wd=ie.grep,zd="data-mce-style",G_=ie.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),po=(e,t,n)=>{ft(n)||n===""?An(e,t):En(e,t,n)},Vd=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),$i=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const o=r.nodeType;t&&se(r)&&(o===s||!r.data.length)||(n++,s=o)}return n},Tp=(e,t)=>{const n=Vn(t,"style"),s=e.serialize(e.parse(n),Pt(t));po(t,zd,s)},Y_=(e,t)=>fn(e)?Ye(G_,t)?e+"":e+"px":e,xp=(e,t,n)=>{const s=Vd(t);ft(n)||n===""?rd(e,s):hl(e,s,Y_(n,s))},X_=(e,t,n)=>{const s=t.keep_values,r={set:(a,u,d)=>{const p=D.fromDom(a);je(t.url_converter)&&le(u)&&(u=t.url_converter.call(t.url_converter_scope||n(),String(u),d,a));const v="data-mce-"+d;po(p,v,u),po(p,d,u)},get:(a,u)=>{const d=D.fromDom(a);return Vn(d,"data-mce-"+u)||Vn(d,u)}},o={style:{set:(a,u)=>{const d=D.fromDom(a);s&&po(d,zd,u),An(d,"style"),pe(u)&&hr(d,e.parse(u))},get:a=>{const u=D.fromDom(a),d=Vn(u,zd)||Vn(u,"style");return e.serialize(e.parse(d),Pt(u))}}};return s&&(o.href=o.src=r),o},Nt=(e,t={})=>{const n={},s=window,r={};let o=0;const a=!0,u=!0,d=vp.forElement(D.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),p=[],v=t.schema?t.schema:Cs({}),_=Md({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),y=t.ownEvents?new ho:ho.Event,T=v.getBlockElements(),x=M=>pe(M)?Ye(T,M):ye(M)&&(Ye(T,M.nodeName)||Sl(v,M)),S=M=>M&&e&&pe(M)?e.getElementById(M):M,N=M=>{const z=S(M);return le(z)?D.fromDom(z):null},B=(M,z,ne="")=>{let J;const xe=N(M);if(le(xe)&&Zn(xe)){const ot=mc[z];ot&&ot.get?J=ot.get(xe.dom,z):J=Vn(xe,z)}return le(J)?J:ne},L=M=>{const z=S(M);return ft(z)?[]:z.attributes},I=(M,z,ne)=>{Oe(M,J=>{if(ye(J)){const xe=D.fromDom(J),ot=ne===""?null:ne,jt=Vn(xe,z),Gt=mc[z];Gt&&Gt.set?Gt.set(xe.dom,ot,z):po(xe,z,ot),jt!==ot&&t.onSetAttrib&&t.onSetAttrib({attrElm:xe.dom,attrName:z,attrValue:ot})}})},W=(M,z)=>M.cloneNode(z),G=()=>t.root_element||e.body,fe=M=>{const z=Xh(M);return{x:z.x,y:z.y,w:z.width,h:z.height}},oe=(M,z)=>ys(e.body,S(M),z),V=(M,z,ne)=>{Oe(M,J=>{const xe=D.fromDom(J);xp(xe,z,ne),t.update_styles&&Tp(_,xe)})},F=(M,z)=>{Oe(M,ne=>{const J=D.fromDom(ne);It(z,(xe,ot)=>{xp(J,ot,xe)}),t.update_styles&&Tp(_,J)})},ge=(M,z,ne)=>{const J=S(M);if(!(ft(J)||!ye(J)))return ne?Is(D.fromDom(J),Vd(z)):(z=z.replace(/-(\D)/g,(xe,ot)=>ot.toUpperCase()),z==="float"&&(z="cssFloat"),J.style?J.style[z]:void 0)},Se=M=>{const z=S(M);if(!z)return{w:0,h:0};let ne=ge(z,"width"),J=ge(z,"height");return(!ne||ne.indexOf("px")===-1)&&(ne="0"),(!J||J.indexOf("px")===-1)&&(J="0"),{w:parseInt(ne,10)||z.offsetWidth||z.clientWidth,h:parseInt(J,10)||z.offsetHeight||z.clientHeight}},Ne=M=>{const z=S(M),ne=oe(z),J=Se(z);return{x:ne.x,y:ne.y,w:J.w,h:J.h}},$e=(M,z)=>{if(!M)return!1;const ne=We(M)?M:[M];return At(ne,J=>Bn(D.fromDom(J),z))},ze=(M,z,ne,J)=>{const xe=[];let ot=S(M);J=J===void 0;const jt=ne||(G().nodeName!=="BODY"?G().parentNode:null);if(pe(z))if(z==="*")z=ye;else{const Gt=z;z=lr=>$e(lr,Gt)}for(;ot&&!(ot===jt||ft(ot.nodeType)||vl(ot)||ud(ot));){if(!z||z(ot))if(J)xe.push(ot);else return[ot];ot=ot.parentNode}return J?xe:null},mt=(M,z,ne)=>{const J=ze(M,z,ne,!1);return J&&J.length>0?J[0]:null},ct=(M,z,ne)=>{let J=z;if(M){pe(z)&&(J=xe=>$e(xe,z));for(let xe=M[ne];xe;xe=xe[ne])if(je(J)&&J(xe))return xe}return null},cn=(M,z)=>ct(M,z,"nextSibling"),jn=(M,z)=>ct(M,z,"previousSibling"),re=M=>je(M.querySelectorAll),Ve=(M,z)=>{var ne,J;const xe=(J=(ne=S(z))!==null&&ne!==void 0?ne:t.root_element)!==null&&J!==void 0?J:e;return re(xe)?Qn(xe.querySelectorAll(M)):[]},Oe=function(M,z,ne){const J=ne!=null?ne:this;if(We(M)){const xe=[];return Hd(M,(ot,jt)=>{const Gt=S(ot);Gt&&xe.push(z.call(J,Gt,jt))}),xe}else{const xe=S(M);return xe?z.call(J,xe):!1}},Lt=(M,z)=>{Oe(M,ne=>{It(z,(J,xe)=>{I(ne,xe,J)})})},be=(M,z)=>{Oe(M,ne=>{const J=D.fromDom(ne);Wc(J,z)})},Ie=(M,z,ne,J,xe)=>Oe(M,ot=>{const jt=pe(z)?e.createElement(z):z;return le(ne)&&Lt(jt,ne),J&&(!pe(J)&&J.nodeType?jt.appendChild(J):pe(J)&&be(jt,J)),xe?jt:ot.appendChild(jt)}),Pe=(M,z,ne)=>Ie(e.createElement(M),M,z,ne,!0),de=mo.decode,tt=mo.encodeAllRaw,Qe=(M,z,ne="")=>{let J="<"+M;for(const xe in z)Lo(z,xe)&&(J+=" "+xe+'="'+tt(z[xe])+'"');return la(ne)&&Ye(v.getVoidElements(),M)?J+" />":J+">"+ne+"</"+M+">"},Sn=M=>{const z=e.createElement("div"),ne=e.createDocumentFragment();ne.appendChild(z),M&&(z.innerHTML=M);let J;for(;J=z.firstChild;)ne.appendChild(J);return ne.removeChild(z),ne},Wt=(M,z)=>Oe(M,ne=>{const J=D.fromDom(ne);return z&&te(He(J),xe=>{Ls(xe)&&xe.dom.length===0?$t(xe):gs(J,xe)}),$t(J),J.dom}),Ue=M=>Oe(M,z=>{const ne=z.attributes;for(let J=ne.length-1;J>=0;J--)z.removeAttributeNode(ne.item(J))}),ut=M=>_.parse(M),on=(M,z)=>_.serialize(M,z),Ot=M=>{if(Ka!==Nt.DOM&&e===document){if(n[M])return;n[M]=!0}let z=e.getElementById("mceDefaultStyles");if(!z){z=e.createElement("style"),z.id="mceDefaultStyles",z.type="text/css";const ne=e.head;ne.firstChild?ne.insertBefore(z,ne.firstChild):ne.appendChild(z)}z.styleSheet?z.styleSheet.cssText+=M:z.appendChild(e.createTextNode(M))},Qt=M=>{M||(M=""),te(M.split(","),z=>{r[z]=!0,d.load(z).catch(Ke)})},nn=(M,z,ne)=>{Oe(M,J=>{if(ye(J)){const xe=D.fromDom(J),ot=z.split(" ");te(ot,jt=>{le(ne)?(ne?uo:ll)(xe,jt):i_(xe,jt)})}})},Ft=(M,z)=>{nn(M,z,!0)},un=(M,z)=>{nn(M,z,!1)},Nr=(M,z)=>{const ne=N(M),J=z.split(" ");return le(ne)&&fs(J,xe=>Jf(ne,xe))},Mn=M=>{Oe(M,z=>rd(D.fromDom(z),"display"))},So=M=>{Oe(M,z=>hl(D.fromDom(z),"display","none"))},ar=M=>{const z=N(M);return le(z)&&Si(Ti(z,"display"),"none")},fc=M=>(M||"mce_")+o++,dc=M=>{const z=N(M);return le(z)?ye(z.dom)?z.dom.outerHTML:kn(z):""},Ao=(M,z)=>{Oe(M,ne=>{ye(ne)&&(ne.outerHTML=z)})},Gr=(M,z)=>{const ne=S(z);return Oe(M,J=>{const xe=ne==null?void 0:ne.parentNode,ot=ne==null?void 0:ne.nextSibling;return xe&&(ot?xe.insertBefore(J,ot):xe.appendChild(J)),J})},hn=(M,z,ne)=>Oe(z,J=>{var xe;const ot=We(z)?M.cloneNode(!0):M;return ne&&Hd(Wd(J.childNodes),jt=>{ot.appendChild(jt)}),(xe=J.parentNode)===null||xe===void 0||xe.replaceChild(ot,J),J}),Rr=(M,z)=>{if(M.nodeName!==z.toUpperCase()){const ne=Pe(z);return Hd(L(M),J=>{I(ne,J.nodeName,B(M,J.nodeName))}),hn(ne,M,!0),ne}else return M},To=(M,z)=>{let ne=M;for(;ne;){let J=z;for(;J&&ne!==J;)J=J.parentNode;if(ne===J)break;ne=ne.parentNode}return!ne&&M.ownerDocument?M.ownerDocument.documentElement:ne},Or=M=>{if(ye(M)){const z=M.nodeName.toLowerCase()==="a"&&!B(M,"href")&&B(M,"id");if(B(M,"name")||B(M,"data-mce-bookmark")||z)return!0}return!1},kr=(M,z)=>{let ne=0;if(Or(M))return!1;const J=M.firstChild;if(J){const xe=new gn(J,M),ot=v?v.getWhitespaceElements():{},jt=z||(v?v.getNonEmptyElements():null);let Gt=J;do{if(ye(Gt)){const lr=Gt.getAttribute("data-mce-bogus");if(lr){Gt=xe.next(lr==="all");continue}const eh=Gt.nodeName.toLowerCase();if(jt&&jt[eh]){if(eh==="br"){ne++,Gt=xe.next();continue}return!1}if(Or(Gt))return!1}if(bs(Gt)||se(Gt)&&!Pi(Gt.data)||se(Gt)&&Gt.parentNode&&ot[Gt.parentNode.nodeName]&&Pi(Gt.data))return!1;Gt=xe.next()}while(Gt)}return ne<=1},di=()=>e.createRange(),Gn=(M,z,ne)=>{let J=di(),xe,ot;if(M&&z&&M.parentNode&&z.parentNode){const jt=M.parentNode;return J.setStart(jt,$i(M)),J.setEnd(z.parentNode,$i(z)),xe=J.extractContents(),J=di(),J.setStart(z.parentNode,$i(z)+1),J.setEnd(jt,$i(M)+1),ot=J.extractContents(),jt.insertBefore(Bi(Ka,xe),M),ne?jt.insertBefore(ne,M):jt.insertBefore(z,M),jt.insertBefore(Bi(Ka,ot),M),Wt(M),ne||z}else return},Xi=(M,z,ne,J)=>{if(We(M)){let xe=M.length;const ot=[];for(;xe--;)ot[xe]=Xi(M[xe],z,ne,J);return ot}else return t.collect&&(M===e||M===s)&&p.push([M,z,ne,J]),y.bind(M,z,ne,J||Ka)},mi=(M,z,ne)=>{if(We(M)){let J=M.length;const xe=[];for(;J--;)xe[J]=mi(M[J],z,ne);return xe}else{if(p.length>0&&(M===e||M===s)){let J=p.length;for(;J--;){const[xe,ot,jt]=p[J];M===xe&&(!z||z===ot)&&(!ne||ne===jt)&&y.unbind(xe,ot,jt)}}return y.unbind(M,z,ne)}},Yr=(M,z,ne)=>y.dispatch(M,z,ne),qa=(M,z,ne)=>y.dispatch(M,z,ne),uv=M=>{if(M&&ye(M)){const z=M.getAttribute("data-mce-contenteditable");return z&&z!=="inherit"?z:M.contentEditable!=="inherit"?M.contentEditable:null}else return null},Ka={doc:e,settings:t,win:s,files:r,stdMode:a,boxModel:u,styleSheetLoader:d,boundEvents:p,styles:_,schema:v,events:y,isBlock:x,root:null,clone:W,getRoot:G,getViewPort:fe,getRect:Ne,getSize:Se,getParent:mt,getParents:ze,get:S,getNext:cn,getPrev:jn,select:Ve,is:$e,add:Ie,create:Pe,createHTML:Qe,createFragment:Sn,remove:Wt,setStyle:V,getStyle:ge,setStyles:F,removeAllAttribs:Ue,setAttrib:I,setAttribs:Lt,getAttrib:B,getPos:oe,parseStyle:ut,serializeStyle:on,addStyle:Ot,loadCSS:Qt,addClass:Ft,removeClass:un,hasClass:Nr,toggleClass:nn,show:Mn,hide:So,isHidden:ar,uniqueId:fc,setHTML:be,getOuterHTML:dc,setOuterHTML:Ao,decode:de,encode:tt,insertAfter:Gr,replace:hn,rename:Rr,findCommonAncestor:To,run:Oe,getAttribs:L,isEmpty:kr,createRng:di,nodeIndex:$i,split:Gn,bind:Xi,unbind:mi,fire:qa,dispatch:Yr,getContentEditable:uv,getContentEditableParent:M=>{const z=G();let ne=null;for(let J=M;J&&J!==z&&(ne=uv(J),ne===null);J=J.parentNode);return ne},destroy:()=>{if(p.length>0){let M=p.length;for(;M--;){const[z,ne,J]=p[M];y.unbind(z,ne,J)}}It(r,(M,z)=>{d.unload(z),delete r[z]})},isChildOf:(M,z)=>M===z||z.contains(M),dumpRng:M=>"startContainer: "+M.startContainer.nodeName+", startOffset: "+M.startOffset+", endContainer: "+M.endContainer.nodeName+", endOffset: "+M.endOffset},mc=X_(_,t,ae(Ka));return Ka};Nt.DOM=Nt(document),Nt.nodeIndex=$i;const Np=Nt.DOM,Q_=0,qd=1,Ol=2,xa=3;class vr{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const r=Np;let o;const a=()=>{r.remove(p),o&&(o.onerror=o.onload=o=null)},u=()=>{a(),n()},d=()=>{a(),s("Failed to load script: "+t)},p=r.uniqueId();o=document.createElement("script"),o.id=p,o.type="text/javascript",o.src=ie._addCacheSuffix(t),this.settings.referrerPolicy&&r.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=u,o.onerror=d,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)})}isDone(t){return this.states[t]===Ol}markDone(t){this.states[t]=Ol}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Q_),new Promise((r,o)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:r,reject:o})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(d,p)=>{Ut(n.scriptLoadedCallbacks,p).each(v=>{te(v,_=>_[d](p))}),delete n.scriptLoadedCallbacks[p]},r=d=>{const p=Be(d,v=>v.status==="rejected");return p.length>0?Promise.reject(js(p,({reason:v})=>We(v)?v:[v])):Promise.resolve()},o=d=>Promise.allSettled(at(d,p=>n.states[p]===Ol?(s("resolve",p),Promise.resolve()):n.states[p]===xa?(s("reject",p),Promise.reject(p)):(n.states[p]=qd,n.loadScript(p).then(()=>{n.states[p]=Ol,s("resolve",p);const v=n.queue;return v.length>0?(n.queue=[],o(v).then(r)):Promise.resolve()},()=>(n.states[p]=xa,s("reject",p),Promise.reject(p)))))),a=d=>(n.loading=!0,o(d).then(p=>{n.loading=!1;const v=n.queueLoadedCallbacks.shift();return C.from(v).each(Ks),r(p)})),u=Tc(t);return n.loading?new Promise((d,p)=>{n.queueLoadedCallbacks.push(()=>a(u).then(d,p))}):a(u)}}vr.ScriptLoader=new vr;const vn=e=>{let t=e;return{get:()=>t,set:r=>{t=r}}},Rp=e=>Ze(e)&&Ye(e,"raw"),gu=e=>We(e)&&e.length>1,Na={},tr=vn("en"),Zo=()=>Ut(Na,tr.get()),_r={getData:()=>nl(Na,e=>({...e})),setCode:e=>{e&&tr.set(e)},getCode:()=>tr.get(),add:(e,t)=>{let n=Na[e];n||(Na[e]=n={}),It(t,(s,r)=>{n[r.toLowerCase()]=s})},translate:e=>{const t=Zo().getOr({}),n=a=>je(a)?Object.prototype.toString.call(a):s(a)?"":""+a,s=a=>a===""||a===null||a===void 0,r=a=>{const u=n(a);return Ut(t,u.toLowerCase()).map(n).getOr(u)},o=a=>a.replace(/{context:\w+}$/,"");if(s(e))return"";if(Rp(e))return n(e.raw);if(gu(e)){const a=e.slice(1),u=r(e[0]).replace(/\{([0-9]+)\}/g,(d,p)=>Ye(a,p)?n(a[p]):d);return o(u)}return o(r(e))},isRtl:()=>Zo().bind(e=>Ut(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Ye(Na,e)},Kn=()=>{const e=[],t={},n={},s=[],r=(S,N)=>{const B=Be(s,L=>L.name===S&&L.state===N);te(B,L=>L.resolve())},o=S=>Ye(t,S),a=S=>Ye(n,S),u=S=>{if(n[S])return n[S].instance},d=(S,N)=>{const B=_r.getCode(),L=","+(N||"")+",";!B||N&&L.indexOf(","+B+",")===-1||vr.ScriptLoader.add(t[S]+"/langs/"+B+".js")},p=(S,N)=>{Kn.languageLoad!==!1&&(o(S)?d(S,N):x(S,"loaded").then(()=>d(S,N)))},v=(S,N)=>(e.push(N),n[S]={instance:N},r(S,"added"),N),_=S=>{delete t[S],delete n[S]},y=(S,N)=>pe(N)?pe(S)?{prefix:"",resource:N,suffix:""}:{prefix:S.prefix,resource:N,suffix:S.suffix}:N,T=(S,N)=>{if(t[S])return Promise.resolve();let B=pe(N)?N:N.prefix+N.resource+N.suffix;B.indexOf("/")!==0&&B.indexOf("://")===-1&&(B=Kn.baseURL+"/"+B),t[S]=B.substring(0,B.lastIndexOf("/"));const L=()=>(r(S,"loaded"),Promise.resolve());return n[S]?L():vr.ScriptLoader.add(B).then(L)},x=(S,N="added")=>N==="added"&&a(S)||N==="loaded"&&o(S)?Promise.resolve():new Promise(B=>{s.push({name:S,state:N,resolve:B})});return{items:e,urls:t,lookup:n,get:u,requireLangPack:p,add:v,remove:_,createUrl:y,load:T,waitFor:x}};Kn.languageLoad=!0,Kn.baseURL="",Kn.PluginManager=Kn(),Kn.ThemeManager=Kn(),Kn.ModelManager=Kn();const J_=e=>{const t=vn(C.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:u=>{n(),t.set(C.some(u))}}},ey=e=>{const t=vn(C.none()),n=()=>t.get().each(u=>clearInterval(u));return{clear:()=>{n(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:u=>{n(),t.set(C.some(setInterval(u,e)))}}},Jo=()=>{const e=J_(Ke);return{...e,on:n=>e.get().each(n)}},bu=(e,t)=>{let n=null;return{cancel:()=>{ht(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{ht(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}},vu=(e,t)=>{let n=null;const s=()=>{ht(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...o)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,o)},t)}}},Ra=ae("mce-annotation"),ei=ae("data-mce-annotation"),Oa=ae("data-mce-annotation-uid"),kl=ae("data-mce-annotation-active"),Dl=ae("data-mce-annotation-classes"),ka=ae("data-mce-annotation-attrs"),Op=e=>t=>Ct(t,e),kp=(e,t)=>{const n=e.selection.getRng(),s=D.fromDom(n.startContainer),r=D.fromDom(e.getBody()),o=t.fold(()=>"."+Ra(),d=>`[${ei()}="${d}"]`),a=kt(s,n.startOffset).getOr(s);return Ni(a,o,Op(r)).bind(d=>co(d,`${Oa()}`).bind(p=>co(d,`${ei()}`).map(v=>{const _=Pp(e,p);return{uid:p,name:v,elements:_}})))},ty=e=>Zn(e)&&Jf(e,Ra()),Dp=(e,t)=>al(e,"data-mce-bogus")||Wo(e,'[data-mce-bogus="all"]',Op(t)),Pp=(e,t)=>{const n=D.fromDom(e.getBody()),s=Nn(n,`[${Oa()}="${t}"]`);return Be(s,r=>!Dp(r,n))},Lp=(e,t)=>{const n=D.fromDom(e.getBody()),s=Nn(n,`[${ei()}="${t}"]`),r={};return te(s,o=>{if(!Dp(o,n)){const a=Vn(o,Oa()),u=Ut(r,a).getOr([]);r[a]=u.concat([o])}}),r},nr=(e,t)=>{const n=vn({}),s=()=>({listeners:[],previous:Jo()}),r=(_,y)=>{o(_,T=>(y(T),T))},o=(_,y)=>{const T=n.get(),x=Ut(T,_).getOrThunk(s),S=y(x);T[_]=S,n.set(T)},a=(_,y,T)=>{r(_,x=>{te(x.listeners,S=>S(!0,_,{uid:y,nodes:at(T,N=>N.dom)}))})},u=_=>{r(_,y=>{te(y.listeners,T=>T(!1,_))})},d=(_,y)=>{te(Pp(e,_),T=>{y?En(T,kl(),"true"):An(T,kl())})},p=vu(()=>{const _=Do(t.getNames());te(_,y=>{o(y,T=>{const x=T.previous.get();return kp(e,C.some(y)).fold(()=>{x.each(S=>{u(y),T.previous.clear(),d(S,!1)})},({uid:S,name:N,elements:B})=>{Si(x,S)||(x.each(L=>d(L,!1)),a(N,S,B),T.previous.set(S),d(S,!0))}),{previous:T.previous,listeners:T.listeners}})})},30);return e.on("remove",()=>{p.cancel()}),e.on("NodeChange",()=>{p.throttle()}),{addListener:(_,y)=>{o(_,T=>({previous:T.previous,listeners:T.listeners.concat([y])}))}}},ny=(e,t)=>{const n=ei(),s=o=>C.from(o.attr(n)).bind(t.lookup),r=o=>{var a,u;o.attr(Oa(),null),o.attr(ei(),null),o.attr(kl(),null);const d=C.from(o.attr(ka())).map(y=>y.split(",")).getOr([]),p=C.from(o.attr(Dl())).map(y=>y.split(",")).getOr([]);te(d,y=>o.attr(y,null));const v=(u=(a=o.attr("class"))===null||a===void 0?void 0:a.split(" "))!==null&&u!==void 0?u:[],_=el(v,[Ra()].concat(p));o.attr("class",_.length>0?_.join(" "):null),o.attr(Dl(),null),o.attr(ka(),null)};e.serializer.addTempAttr(kl()),e.serializer.addAttributeFilter(n,o=>{for(const a of o)s(a).each(u=>{u.persistent===!1&&(a.name==="span"?a.unwrap():r(a))})})},sy=()=>{const e={};return{register:(r,o)=>{e[r]={name:r,settings:o}},lookup:r=>Ut(e,r).map(o=>o.settings),getNames:()=>ds(e)}};let Bp=0;const Kd=e=>{const n=new Date().getTime(),s=Math.floor(Math.random()*1e9);return Bp++,e+"_"+s+Bp+String(n)},ry=(e,t)=>{te(t,n=>{uo(e,n)})},oy=(e,t)=>{te(t,n=>{ll(e,n)})},Ip=(e,t)=>D.fromDom(e.dom.cloneNode(t)),Da=e=>Ip(e,!1),_u=e=>Ip(e,!0),iy=(e,t)=>{const n=D.fromTag(t),s=Ic(e);return dr(n,s),n},ay=(e,t)=>{const n=iy(e,t);Ys(e,n);const s=He(e);return xi(n,s),$t(e),n},$p=(e,t,n=pt)=>{const s=new gn(e,t),r=o=>{let a;do a=s[o]();while(a&&!se(a)&&!n(a));return C.from(a).filter(se)};return{current:()=>C.from(s.current()).filter(se),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},Mi=(e,t)=>{const n=t||(a=>e.isBlock(a)||Dt(a)||Mt(a)),s=(a,u,d,p)=>{if(se(a)){const v=p(a,u,a.data);if(v!==-1)return C.some({container:a,offset:v})}return d().bind(v=>s(v.container,v.offset,d,p))};return{backwards:(a,u,d,p)=>{const v=$p(a,p!=null?p:e.getRoot(),n);return s(a,u,()=>v.prev().map(_=>({container:_,offset:_.length})),d).getOrNull()},forwards:(a,u,d,p)=>{const v=$p(a,p!=null?p:e.getRoot(),n);return s(a,u,()=>v.next().map(_=>({container:_,offset:0})),d).getOrNull()}}},Pa=Math.round,Fi=e=>e?{left:Pa(e.left),top:Pa(e.top),bottom:Pa(e.bottom),right:Pa(e.right),width:Pa(e.width),height:Pa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Mp=(e,t)=>(e=Fi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ly=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Fp=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Pl=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Fp(t.top-e.bottom,e,t)},Ll=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Fp(t.bottom-e.top,e,t),cy=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,uy=e=>Vt(e,(t,n)=>t.fold(()=>C.some(n),s=>{const r=Math.min(n.left,s.left),o=Math.min(n.top,s.top),a=Math.max(n.right,s.right),u=Math.max(n.bottom,s.bottom);return C.some({top:o,right:a,bottom:u,left:r,width:a-r,height:u-o})}),C.none()),Up=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-r)*(n-r))},fy=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),dy=(e,t,n)=>Math.min(Math.max(e,t),n),yu=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ti=(e,t)=>{if(ye(e)&&e.hasChildNodes()){const n=e.childNodes,s=dy(t,0,n.length-1);return n[s]}else return e},my=(e,t)=>{if(!(t<0&&ye(e)&&e.hasChildNodes()))return ti(e,t)},hy=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Cu=e=>pe(e)&&e.charCodeAt(0)>=768&&hy.test(e),Hp=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},py=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Wp=ye,gy=Js,zp=Kc("display","block table"),by=Kc("float","left right"),Bl=py(Wp,gy,Fn(by)),vy=Fn(Kc("white-space","pre pre-line pre-wrap")),Il=se,Eu=Dt,Vp=Nt.nodeIndex,Ui=my,jd=e=>e?e.createRange():Nt.DOM.createRng(),Gd=e=>pe(e)&&/[\r\n\t ]/.test(e),qp=e=>!!e.setStart&&!!e.setEnd,Yd=e=>{const t=e.startContainer,n=e.startOffset;if(Gd(e.toString())&&vy(t.parentNode)&&se(t)){const s=t.data;if(Gd(s[n-1])||Gd(s[n+1]))return!0}return!1},_y=e=>{const t=e.ownerDocument,n=jd(t),s=t.createTextNode(xn),r=e.parentNode;r.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const o=Fi(n.getBoundingClientRect());return r.removeChild(s),o},yy=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,r=e.endOffset;if(t===n&&se(n)&&s===0&&r===1){const o=e.cloneRange();return o.setEndAfter(n),ni(o)}else return null},Kp=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ni=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=Fi(s[0]):n=Fi(e.getBoundingClientRect()),!qp(e)&&Eu(e)&&Kp(n)?_y(e):Kp(n)&&qp(e)&&(t=yy(e))!==null&&t!==void 0?t:n},Hi=(e,t)=>{const n=Mp(e,t);return n.width=1,n.right=n.left+1,n},Cy=e=>{const t=[],n=a=>{a.height!==0&&(t.length>0&&ly(a,t[t.length-1])||t.push(a))},s=(a,u)=>{const d=jd(a.ownerDocument);if(u<a.data.length){if(Cu(a.data[u]))return;if(Cu(a.data[u-1])&&(d.setStart(a,u),d.setEnd(a,u+1),!Yd(d))){n(Hi(ni(d),!1));return}}u>0&&(d.setStart(a,u-1),d.setEnd(a,u),Yd(d)||n(Hi(ni(d),!1))),u<a.data.length&&(d.setStart(a,u),d.setEnd(a,u+1),Yd(d)||n(Hi(ni(d),!0)))},r=e.container(),o=e.offset();if(Il(r))return s(r,o),t;if(Wp(r))if(e.isAtEnd()){const a=Ui(r,o);Il(a)&&s(a,a.data.length),Bl(a)&&!Eu(a)&&n(Hi(ni(a),!1))}else{const a=Ui(r,o);if(Il(a)&&s(a,0),Bl(a)&&e.isAtEnd())return n(Hi(ni(a),!1)),t;const u=Ui(e.container(),e.offset()-1);Bl(u)&&!Eu(u)&&(zp(u)||zp(a)||!Bl(a))&&n(Hi(ni(u),!1)),Bl(a)&&n(Hi(ni(a),!0))}return t},j=(e,t,n)=>{const s=()=>(Il(e),t===0),r=()=>Il(e)?t>=e.data.length:t>=e.childNodes.length,o=()=>{const v=jd(e.ownerDocument);return v.setStart(e,t),v.setEnd(e,t),v},a=()=>(n||(n=Cy(j(e,t))),n),u=()=>a().length>0,d=v=>v&&e===v.container()&&t===v.offset(),p=v=>Ui(e,v?t-1:t);return{container:ae(e),offset:ae(t),toRange:o,getClientRects:a,isVisible:u,isAtStart:s,isAtEnd:r,isEqual:d,getNode:p}};j.fromRangeStart=e=>j(e.startContainer,e.startOffset),j.fromRangeEnd=e=>j(e.endContainer,e.endOffset),j.after=e=>j(e.parentNode,Vp(e)+1),j.before=e=>j(e.parentNode,Vp(e)),j.isAbove=(e,t)=>Wn(Un(t.getClientRects()),ao(e.getClientRects()),Pl).getOr(!1),j.isBelow=(e,t)=>Wn(ao(t.getClientRects()),Un(e.getClientRects()),Ll).getOr(!1),j.isAtStart=e=>e?e.isAtStart():!1,j.isAtEnd=e=>e?e.isAtEnd():!1,j.isTextPosition=e=>e?se(e.container()):!1,j.isElementPosition=e=>!j.isTextPosition(e);const wu=(e,t)=>{se(t)&&t.data.length===0&&e.remove(t)},Ey=(e,t,n)=>{t.insertNode(n),wu(e,n.previousSibling),wu(e,n.nextSibling)},wy=(e,t,n)=>{const s=C.from(n.firstChild),r=C.from(n.lastChild);t.insertNode(n),s.each(o=>wu(e,o.previousSibling)),r.each(o=>wu(e,o.nextSibling))},Xd=(e,t,n)=>{ud(n)?wy(e,t,n):Ey(e,t,n)},yr=se,Qd=Oi,Zd=Nt.nodeIndex,jp=e=>{const t=e.parentNode;return Qd(t)?jp(t):t},Jd=e=>e?Nc(e.childNodes,(t,n)=>(Qd(n)&&n.nodeName!=="BR"?t=t.concat(Jd(n)):t.push(n),t),[]):[],Sy=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&yr(n);)t+=n.data.length;return t},Gp=e=>t=>e===t,Su=e=>{let t,n;t=Jd(jp(e)),n=Of(t,Gp(e),e),t=t.slice(0,n+1);const s=Nc(t,(r,o,a)=>(yr(o)&&yr(t[a-1])&&r++,r),0);return t=rl(t,Dn([e.nodeName])),n=Of(t,Gp(e),e),n-s},Yp=e=>(yr(e)?"text()":e.nodeName.toLowerCase())+"["+Su(e)+"]",Ay=(e,t,n)=>{const s=[];for(let r=t.parentNode;r&&r!==e&&!(n&&n(r));r=r.parentNode)s.push(r);return s},Xp=(e,t)=>{let n=[],s=t.container(),r=t.offset(),o;if(yr(s))o=Sy(s,r);else{const u=s.childNodes;r>=u.length?(o="after",r=u.length-1):o="before",s=u[r]}n.push(Yp(s));let a=Ay(e,s);return a=rl(a,Fn(Oi)),n=n.concat(Rf(a,u=>Yp(u))),n.reverse().join("/")+","+o},Ty=(e,t,n)=>{let s=Jd(e);return s=rl(s,(r,o)=>!yr(r)||!yr(s[o-1])),s=rl(s,Dn([t])),s[n]},xy=(e,t)=>{let n=e,s=0;for(;yr(n);){const r=n.data.length;if(t>=s&&t<=s+r){e=n,t=t-s;break}if(!yr(n.nextSibling)){e=n,t=r;break}s+=r,n=n.nextSibling}return yr(e)&&t>e.data.length&&(t=e.data.length),j(e,t)},Qp=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),r=n.length>1?n[1]:"before",o=Nc(s,(a,u)=>{const d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return d?(d[1]==="text()"&&(d[1]="#text"),Ty(a,d[1],parseInt(d[2],10))):null},e);if(!o)return null;if(!yr(o)&&o.parentNode){let a;return r==="after"?a=Zd(o)+1:a=Zd(o),j(o.parentNode,a)}return xy(o,parseInt(r,10))},Au=Mt,Ny=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let r=t.previousSibling;r&&se(r);r=r.previousSibling)s+=e(r.data).length;return s},Zp=(e,t,n,s,r)=>{const o=r?s.startContainer:s.endContainer;let a=r?s.startOffset:s.endOffset;const u=[],d=e.getRoot();if(se(o))u.push(n?Ny(t,o,a):a);else{let p=0;const v=o.childNodes;a>=v.length&&v.length&&(p=1,a=Math.max(0,v.length-1)),u.push(e.nodeIndex(v[a],n)+p)}for(let p=o;p&&p!==d;p=p.parentNode)u.push(e.nodeIndex(p,n));return u},Ry=(e,t,n,s)=>{const r=t.dom,o=Zp(r,e,n,s,!0),a=t.isForward(),u=yd(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:o,forward:a,...u};{const d=Zp(r,e,n,s,!1);return{start:o,end:d,forward:a,...u}}},em=(e,t,n)=>{let s=0;return ie.each(e.select(t),r=>{if(r.getAttribute("data-mce-bogus")!=="all"){if(r===n)return!1;s++;return}}),s},$l=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(ye(n)&&n.nodeName==="TR"){const r=n.childNodes;n=r[Math.min(t?s:s-1,r.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Jp=e=>($l(e,!0),$l(e,!1),e),tm=(e,t)=>{if(ye(e)&&(e=ti(e,t),Au(e)))return e;if($s(e)){se(e)&&zr(e)&&(e=e.parentNode);let n=e.previousSibling;if(Au(n)||(n=e.nextSibling,Au(n)))return n}},eg=e=>tm(e.startContainer,e.startOffset)||tm(e.endContainer,e.endOffset),Tu=(e,t,n)=>{const s=n.getNode(),r=n.getRng();if(s.nodeName==="IMG"||Au(s)){const a=s.nodeName;return{name:a,index:em(n.dom,a,s)}}const o=eg(r);if(o){const a=o.tagName;return{name:a,index:em(n.dom,a,o)}}return Ry(e,n,t,r)},tg=e=>{const t=e.getRng();return{start:Xp(e.dom.getRoot(),j.fromRangeStart(t)),end:Xp(e.dom.getRoot(),j.fromRangeEnd(t)),forward:e.isForward()}},ng=e=>({rng:e.getRng(),forward:e.isForward()}),nm=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},sm=(e,t)=>{const n=e.dom;let s=e.getRng();const r=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),u=a.nodeName,d=e.isForward();if(u==="IMG")return{name:u,index:em(n,u,a)};const p=Jp(s.cloneRange());if(!o){p.collapse(!1);const _=nm(n,r+"_end",t);Xd(n,p,_)}s=Jp(s),s.collapse(!0);const v=nm(n,r+"_start",t);return Xd(n,s,v),e.moveToBookmark({id:r,keep:!0,forward:d}),{id:r,forward:d}},Oy=(e,t,n=!1)=>t===2?Tu(Wr,n,e):t===3?tg(e):t?ng(e):sm(e,!1),rm=_e(Tu,Yt,!0),sg=e=>{const t=o=>o(e),n=ae(e),s=()=>r,r={tag:!0,inner:e,fold:(o,a)=>a(e),isValue:Bt,isError:pt,map:o=>ts.value(o(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:o=>{o(e)},toOptional:()=>C.some(e)};return r},Ml=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,r)=>s(e),isValue:pt,isError:Bt,map:t,mapError:s=>ts.error(s(e)),bind:t,exists:pt,forall:Bt,getOr:Yt,or:Yt,getOrThunk:Oo,orThunk:Oo,getOrDie:gi(String(e)),each:Ke,toOptional:C.none};return n},ts={value:sg,error:Ml,fromOption:(e,t)=>e.fold(()=>Ml(t),sg)},sr={generate:e=>{if(!We(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return te(e,(s,r)=>{const o=ds(s);if(o.length!==1)throw new Error("one and only one name per case");const a=o[0],u=s[a];if(n[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!We(u))throw new Error("case arguments must be an array");t.push(a),n[a]=(...d)=>{const p=d.length;if(p!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+p);return{fold:(..._)=>{if(_.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+_.length);return _[r].apply(null,d)},match:_=>{const y=ds(_);if(t.length!==y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+y.join(","));if(!fs(t,x=>St(y,x)))throw new Error("Not all branches were specified when using match. Specified: "+y.join(", ")+`
Required: `+t.join(", "));return _[a].apply(null,d)},log:_=>{console.log(_,{constructors:t,constructor:a,params:d})}}}}),n}};sr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const rg=e=>{const t=[],n=[];return te(e,s=>{s.fold(r=>{t.push(r)},r=>{n.push(r)})}),{errors:t,values:n}},ky=e=>e.type==="inline-command"||e.type==="inline-format",Dy=e=>e.type==="block-command"||e.type==="block-format",Py=e=>{const t=s=>ts.error({message:s,pattern:e}),n=(s,r,o)=>{if(e.format!==void 0){let a;if(We(e.format)){if(!fs(e.format,pe))return t(s+" pattern has non-string items in the `format` array");a=e.format}else if(pe(e.format))a=[e.format];else return t(s+" pattern has non-string `format` parameter");return ts.value(r(a))}else return e.cmd!==void 0?pe(e.cmd)?ts.value(o(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!Ze(e))return t("Raw pattern is not an object");if(!pe(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!pe(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,r=e.end;return r.length===0&&(r=s,s=""),n("Inline",o=>({type:"inline-format",start:s,end:r,format:o}),(o,a)=>({type:"inline-command",start:s,end:r,cmd:o,value:a}))}else return e.replacement!==void 0?pe(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):ts.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",s=>({type:"block-format",start:e.start,format:s[0]}),(s,r)=>({type:"block-command",start:e.start,cmd:s,value:r}))},og=e=>Be(e,Dy),ig=e=>Be(e,ky),Ly=(e,t)=>({inlinePatterns:ig(e),blockPatterns:og(e),dynamicPatternsLookup:t}),ag=e=>{const t=rg(at(e,Py));return te(t.errors,n=>console.error(n.message,n.pattern)),t.values},By=e=>t=>{const n=e(t);return ag(n)},im=Ci().deviceType,Iy=im.isTouch(),$y=Nt.DOM,My=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Vt(t,(n,s)=>{const r=s.split("="),o=r[0],a=r.length>1?r[1]:o;return n[_i(o)]=_i(a),n},{})},rr=e=>rt(e,RegExp),Ee=e=>t=>t.options.get(e),am=e=>pe(e)||Ze(e),si=(e,t="")=>n=>{const s=pe(n);if(s)if(n.indexOf("=")!==-1){const r=My(n);return{value:Ut(r,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},dt=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:si(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:si(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=pe(n)&&Lr(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=St(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>_t(n)?{valid:!0,value:n}:pe(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||pe(n)||pn(n,pe);return s?pe(n)?{value:at(n.split(","),_i),valid:s}:We(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:dm(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=pe(n)||pn(n,pe);return s?{value:We(n)?n:at(n.split(","),_i),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=_t(n)||pe(n);return s?n===!1||im.isiPhone()||im.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!Iy}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||pe(n)||je(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||pe(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:am}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:am}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:am}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>pe(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>pn(n,Ze)||n===!1?{value:ag(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>je(n)?{value:By(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>pn(n,rr)?{value:n,valid:!0}:rr(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:_r.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:$y.getAttrib(e.getElement(),"placeholder")})})},Fy=Ee("iframe_attrs"),Es=Ee("doctype"),_n=Ee("document_base_url"),Uy=Ee("body_id"),ri=Ee("body_class"),lg=Ee("content_security_policy"),Hy=Ee("br_in_pre"),ws=Ee("forced_root_block"),Fl=Ee("forced_root_block_attrs"),Wy=Ee("newline_behavior"),lm=Ee("br_newline_selector"),zy=Ee("no_newline_selector"),go=Ee("keep_styles"),cg=Ee("end_container_on_empty_block"),Ul=Ee("automatic_uploads"),ln=Ee("images_reuse_filename"),yn=Ee("images_replace_blob_uris"),cm=Ee("icons"),Vy=Ee("icons_url"),qy=Ee("images_upload_url"),Ky=Ee("images_upload_base_path"),jy=Ee("images_upload_credentials"),Gy=Ee("images_upload_handler"),Yy=Ee("content_css_cors"),xu=Ee("referrer_policy"),La=Ee("language"),um=Ee("language_url"),ug=Ee("indent_use_margin"),fg=Ee("indentation"),Nu=Ee("content_css"),Us=Ee("content_style"),Wi=Ee("font_css"),Xy=Ee("directionality"),Qy=Ee("inline_boundaries_selector"),dg=Ee("object_resizing"),Zy=Ee("resize_img_proportional"),Jy=Ee("placeholder"),fm=Ee("event_root"),bo=Ee("service_message"),lt=Ee("theme"),mg=Ee("theme_url"),Ss=Ee("model"),hg=Ee("model_url"),Hl=Ee("inline_boundaries"),Ht=Ee("formats"),eC=Ee("preview_styles"),pg=Ee("format_empty_lines"),Ru=Ee("format_noneditable_selector"),tC=Ee("custom_ui_selector"),dm=Ee("inline"),nC=Ee("hidden_input"),sC=Ee("submit_patch"),rC=Ee("add_form_submit_trigger"),oC=Ee("add_unload_trigger"),iC=Ee("custom_undo_redo_levels"),aC=Ee("disable_nodechange"),gg=Ee("readonly"),bg=Ee("content_css_cors"),Ou=Ee("plugins"),lC=Ee("external_plugins"),cC=Ee("block_unsupported_drop"),mm=Ee("visual"),uC=Ee("visual_table_class"),ku=Ee("visual_anchor_class"),fC=Ee("iframe_aria_text"),dC=Ee("setup"),mC=Ee("init_instance_callback"),In=Ee("urlconverter_callback"),As=Ee("auto_focus"),hC=Ee("browser_spellcheck"),pC=Ee("protect"),gC=Ee("paste_block_drop"),Wl=Ee("paste_data_images"),bC=Ee("paste_preprocess"),vC=Ee("paste_postprocess"),_C=Ee("paste_webkit_styles"),vg=Ee("paste_remove_styles_if_webkit"),yC=Ee("paste_merge_formats"),CC=Ee("smart_paste"),EC=Ee("paste_as_text"),_g=Ee("paste_tab_spaces"),yg=Ee("allow_html_data_urls"),wC=Ee("text_patterns"),SC=Ee("text_patterns_lookup"),Cg=Ee("noneditable_class"),AC=Ee("editable_class"),Ba=Ee("noneditable_regexp"),TC=Ee("preserve_cdata"),xC=e=>e.options.isSet("text_patterns_lookup"),NC=e=>ie.explode(e.options.get("font_size_style_values")),RC=e=>ie.explode(e.options.get("font_size_classes")),OC=e=>e.options.get("encoding")==="xml",hm=e=>ie.explode(e.options.get("images_file_types")),Eg=Ee("table_tab_navigation"),kC=ye,wg=se,Sg=e=>{const t=e.parentNode;t&&t.removeChild(e)},Ag=e=>{const t=Wr(e);return{count:e.length-t.length,text:t}},Tg=e=>{let t;for(;(t=e.data.lastIndexOf(Pn))!==-1;)e.deleteData(t,1)},xg=(e,t)=>(zi(e),t),DC=(e,t)=>{const n=Ag(e.data.substr(0,t.offset())),s=Ag(e.data.substr(t.offset()));return(n.text+s.text).length>0?(Tg(e),j(e,t.offset()-n.count)):t},PC=(e,t)=>{const n=t.container(),s=ia(Qn(n.childNodes),e).map(r=>r<t.offset()?j(n,t.offset()-1):t).getOr(t);return zi(e),s},LC=(e,t)=>wg(e)&&t.container()===e?DC(e,t):xg(e,t),BC=(e,t)=>t.container()===e.parentNode?PC(e,t):xg(e,t),IC=(e,t)=>j.isTextPosition(t)?LC(e,t):BC(e,t),zi=e=>{kC(e)&&$s(e)&&(Zc(e)?e.removeAttribute("data-mce-caret"):Sg(e)),wg(e)&&(Tg(e),e.data.length===0&&Sg(e))},$C=Mt,MC=gr,FC=jc,UC="*[contentEditable=false],video,audio,embed,object",Ng=(e,t,n)=>{const s=Mp(t.getBoundingClientRect(),n);let r,o;if(e.tagName==="BODY"){const u=e.ownerDocument.documentElement;r=e.scrollLeft||u.scrollLeft,o=e.scrollTop||u.scrollTop}else{const u=e.getBoundingClientRect();r=e.scrollLeft-u.left,o=e.scrollTop-u.top}s.left+=r,s.right+=r,s.top+=o,s.bottom+=o,s.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},HC=e=>{var t,n;const s=Nn(D.fromDom(e),UC);for(let r=0;r<s.length;r++){const o=s[r].dom;let a=o.previousSibling;if(ya(a)){const u=a.data;u.length===1?(t=a.parentNode)===null||t===void 0||t.removeChild(a):a.deleteData(u.length-1,1)}a=o.nextSibling,Cl(a)&&(a.data.length===1?(n=a.parentNode)===null||n===void 0||n.removeChild(a):a.deleteData(0,1))}},WC=(e,t,n,s)=>{const r=Jo();let o,a;const u=ws(e),d=e.dom,p=(S,N)=>{let B;if(v(),FC(N))return null;if(n(N)){const L=k_(u,N,S),I=Ng(t,N,S);d.setStyle(L,"top",I.top),a=L;const W=d.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});d.setStyles(W,{...I}),d.add(t,W),r.set({caret:W,element:N,before:S}),S&&d.addClass(W,"mce-visual-caret-before"),_(),B=N.ownerDocument.createRange(),B.setStart(L,0),B.setEnd(L,0)}else return a=ip(N,S),B=N.ownerDocument.createRange(),zl(a.nextSibling)?(B.setStart(a,0),B.setEnd(a,0)):(B.setStart(a,1),B.setEnd(a,1)),B;return B},v=()=>{HC(t),a&&(zi(a),a=null),r.on(S=>{d.remove(S.caret),r.clear()}),o&&(clearInterval(o),o=void 0)},_=()=>{o=setInterval(()=>{r.on(S=>{s()?d.toggleClass(S.caret,"mce-visual-caret-hidden"):d.addClass(S.caret,"mce-visual-caret-hidden")})},500)};return{show:p,hide:v,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{r.on(S=>{const N=Ng(t,S.element,S.before);d.setStyles(S.caret,{...N})})},destroy:()=>clearInterval(o)}},Rg=()=>gt.browser.isFirefox(),zl=e=>$C(e)||MC(e),Vl=e=>zl(e)||qn(e)&&Rg(),zC=pr,pm=Mt,VC=gr,Du=Kc("display","block table table-cell table-caption list-item"),gm=$s,bm=zr,qC=ye,KC=se,jC=Js,oi=e=>e>0,Vi=e=>e<0,Pu=(e,t)=>{let n;for(;n=e(t);)if(!bm(n))return n;return null},ql=(e,t,n,s,r)=>{const o=new gn(e,s),a=pm(e)||bm(e);let u;if(Vi(t)){if(a&&(u=Pu(o.prev.bind(o),!0),n(u)))return u;for(;u=Pu(o.prev.bind(o),r);)if(n(u))return u}if(oi(t)){if(a&&(u=Pu(o.next.bind(o),!0),n(u)))return u;for(;u=Pu(o.next.bind(o),r);)if(n(u))return u}return null},Ts=(e,t)=>{const n=r=>zC(r.dom),s=r=>r.dom===t;return A(D.fromDom(e),n,s).map(r=>r.dom).getOr(t)},Vr=(e,t)=>{for(;e&&e!==t;){if(Du(e))return e;e=e.parentNode}return null},qr=(e,t,n)=>Vr(e.container(),n)===Vr(t.container(),n),vm=(e,t)=>{if(!t)return C.none();const n=t.container(),s=t.offset();return qC(n)?C.from(n.childNodes[s+e]):C.none()},Og=(e,t)=>{var n;const r=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},GC=(e,t,n)=>Vr(t,e)===Vr(n,e),Lu=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let r=n;for(;r&&r!==t;){let o=r[s];if(o&&gm(o)&&(o=o[s]),pm(o)||VC(o)){if(GC(t,o,r))return o;break}if(jC(o))break;r=r.parentNode}return null},Kl=_e(Og,!0),qi=_e(Og,!1),_m=(e,t,n)=>{let s;const r=_e(Lu,!0,t),o=_e(Lu,!1,t),a=n.startContainer,u=n.startOffset;if(zr(a)){const d=KC(a)?a.parentNode:a,p=d.getAttribute("data-mce-caret");if(p==="before"&&(s=d.nextSibling,Vl(s)))return Kl(s);if(p==="after"&&(s=d.previousSibling,Vl(s)))return qi(s)}if(!n.collapsed)return n;if(se(a)){if(gm(a)){if(e===1){if(s=o(a),s)return Kl(s);if(s=r(a),s)return qi(s)}if(e===-1){if(s=r(a),s)return qi(s);if(s=o(a),s)return Kl(s)}return n}if(ya(a)&&u>=a.data.length-1)return e===1&&(s=o(a),s)?Kl(s):n;if(Cl(a)&&u<=1)return e===-1&&(s=r(a),s)?qi(s):n;if(u===a.data.length)return s=o(a),s?Kl(s):n;if(u===0)return s=r(a),s?qi(s):n}return n},kg=(e,t)=>vm(e?0:-1,t).filter(pm),jl=(e,t,n)=>{const s=_m(e,t,n);return e===-1?j.fromRangeStart(s):j.fromRangeEnd(s)},Bu=e=>C.from(e.getNode()).map(D.fromDom),Dg=e=>C.from(e.getNode(!0)).map(D.fromDom),ym=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Iu=(e,t)=>{const n=qr(e,t);return!n&&Dt(e.getNode())?!0:n};var wn;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(wn||(wn={}));const Cm=Mt,or=se,Pg=ye,Em=Dt,Ia=Js,Lg=Ad,$u=bt,YC=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},Bg=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Ig=(e,t)=>{if(oi(e)){if(Ia(t.previousSibling)&&!or(t.previousSibling))return j.before(t);if(or(t))return j(t,0)}if(Vi(e)){if(Ia(t.nextSibling)&&!or(t.nextSibling))return j.after(t);if(or(t))return j(t,t.data.length)}return Vi(e)?Em(t)?j.before(t):j.after(t):j.before(t)},XC=(e,t)=>{const n=t.nextSibling;return n&&Ia(n)?or(n)?j(n,0):j.before(n):wm(wn.Forwards,j.after(t),e)},wm=(e,t,n)=>{let s,r,o,a;if(!Pg(n)||!t)return null;if(t.isEqual(j.after(n))&&n.lastChild){if(a=j.after(n.lastChild),Vi(e)&&Ia(n.lastChild)&&Pg(n.lastChild))return Em(n.lastChild)?j.before(n.lastChild):a}else a=t;const u=a.container();let d=a.offset();if(or(u)){if(Vi(e)&&d>0)return j(u,--d);if(oi(e)&&d<u.length)return j(u,++d);s=u}else{if(Vi(e)&&d>0&&(r=Bg(u,d-1),Ia(r)))return!Lg(r)&&(o=ql(r,e,$u,r),o)?or(o)?j(o,o.data.length):j.after(o):or(r)?j(r,r.data.length):j.before(r);if(oi(e)&&d<u.childNodes.length&&(r=Bg(u,d),Ia(r)))return Em(r)?XC(n,r):!Lg(r)&&(o=ql(r,e,$u,r),o)?or(o)?j(o,0):j.before(o):or(r)?j(r,0):j.after(r);s=r||a.getNode()}if(s&&(oi(e)&&a.isAtEnd()||Vi(e)&&a.isAtStart())&&(s=ql(s,e,Bt,n,!0),$u(s,n)))return Ig(e,s);r=s&&ql(s,e,$u,n);const p=bi(Be(YC(u,n),Cm));return p&&(!r||!p.contains(r))?(oi(e)?a=j.after(p):a=j.before(p),a):r?Ig(e,r):null},Kr=e=>({next:t=>wm(wn.Forwards,t,e),prev:t=>wm(wn.Backwards,t,e)}),QC=(e,t,n)=>{const s=e?j.before(n):j.after(n);return Hs(e,t,s)},ZC=e=>Dt(e)?j.before(e):j.after(e),$g=e=>j.isTextPosition(e)?e.offset()===0:Js(e.getNode()),Mg=e=>{if(j.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Js(e.getNode(!0))},Fg=(e,t)=>!j.isTextPosition(e)&&!j.isTextPosition(t)&&e.getNode()===t.getNode(!0),JC=e=>!j.isTextPosition(e)&&Dt(e.getNode()),eE=(e,t,n)=>e?!Fg(t,n)&&!JC(t)&&Mg(t)&&$g(n):!Fg(n,t)&&$g(t)&&Mg(n),Hs=(e,t,n)=>{const s=Kr(t);return C.from(e?s.next(n):s.prev(n))},Mu=(e,t,n)=>Hs(e,t,n).bind(s=>qr(n,s,t)&&eE(e,n,s)?Hs(e,t,s):C.some(s)),Ug=(e,t,n,s)=>Mu(e,t,n).bind(r=>s(r)?Ug(e,t,r,s):C.some(r)),i=(e,t)=>{const n=e?t.firstChild:t.lastChild;return se(n)?C.some(j(n,e?0:n.data.length)):n?Js(n)?C.some(e?j.before(n):ZC(n)):QC(e,t,n):C.none()},l=_e(Hs,!0),h=_e(Hs,!1),g=_e(i,!0),E=_e(i,!1),R="_mce_caret",P=e=>ye(e)&&e.id===R,$=(e,t)=>{let n=t;for(;n&&n!==e;){if(P(n))return n;n=n.parentNode}return null},q=e=>pe(e.start),ce=e=>Ye(e,"rng"),ue=e=>Ye(e,"id"),he=e=>Ye(e,"name"),Re=e=>ie.isArray(e.start),Fe=e=>!he(e)&&_t(e.forward)?e.forward:!0,nt=(e,t)=>(ye(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),vt=(e,t)=>{const n=C.from(Qp(e.getRoot(),t.start)),s=C.from(Qp(e.getRoot(),t.end));return Wn(n,s,(r,o)=>{const a=e.createRng();return a.setStart(r.container(),r.offset()),a.setEnd(o.container(),o.offset()),{range:a,forward:Fe(t)}})},st=(e,t)=>{var n;const r=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Pn);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},wt=e=>!e.hasChildNodes(),Rt=(e,t)=>E(e).fold(pt,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),xs=(e,t,n)=>wt(t)&&$(e,t)?(st(t,n),!0):!1,ns=(e,t,n,s)=>{const r=n[t?"start":"end"],o=e.getRoot();if(r){let a=o,u=r[0];for(let d=r.length-1;a&&d>=1;d--){const p=a.childNodes;if(xs(o,a,s))return!0;if(r[d]>p.length-1)return xs(o,a,s)?!0:Rt(a,s);a=p[r[d]]}se(a)&&(u=Math.min(r[0],a.data.length)),ye(a)&&(u=Math.min(r[0],a.childNodes.length)),t?s.setStart(a,u):s.setEnd(a,u)}return!0},as=e=>se(e)&&e.data.length>0,Cn=(e,t,n)=>{const s=e.get(n.id+"_"+t),r=s==null?void 0:s.parentNode,o=n.keep;if(s&&r){let a,u;if(t==="start"?o?s.hasChildNodes()?(a=s.firstChild,u=1):as(s.nextSibling)?(a=s.nextSibling,u=0):as(s.previousSibling)?(a=s.previousSibling,u=s.previousSibling.data.length):(a=r,u=e.nodeIndex(s)+1):(a=r,u=e.nodeIndex(s)):o?s.hasChildNodes()?(a=s.firstChild,u=1):as(s.previousSibling)?(a=s.previousSibling,u=s.previousSibling.data.length):(a=r,u=e.nodeIndex(s)):(a=r,u=e.nodeIndex(s)),!o){const d=s.previousSibling,p=s.nextSibling;ie.each(ie.grep(s.childNodes),_=>{se(_)&&(_.data=_.data.replace(/\uFEFF/g,""))});let v;for(;v=e.get(n.id+"_"+t);)e.remove(v,!0);if(se(p)&&se(d)&&!gt.browser.isOpera()){const _=d.data.length;d.appendData(p.data),e.remove(p),a=d,u=_}}return C.some(j(a,u))}else return C.none()},Cr=(e,t)=>{const n=e.createRng();return ns(e,!0,t,n)&&ns(e,!1,t,n)?C.some({range:n,forward:Fe(t)}):C.none()},vo=(e,t)=>{const n=Cn(e,"start",t),s=Cn(e,"end",t);return Wn(n,s.or(n),(r,o)=>{const a=e.createRng();return a.setStart(nt(e,r.container()),r.offset()),a.setEnd(nt(e,o.container()),o.offset()),{range:a,forward:Fe(t)}})},Hg=(e,t)=>C.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),nL=(e,t)=>{const n=e.dom;if(t){if(Re(t))return Cr(n,t);if(q(t))return vt(n,t);if(ue(t))return vo(n,t);if(he(t))return Hg(n,t);if(ce(t))return C.some({range:t.rng,forward:Fe(t)})}return C.none()},sL=(e,t,n)=>Oy(e,t,n),rL=(e,t)=>{nL(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},Er=e=>ye(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Wg=(e=>t=>e===t)(xn),Fu=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,tE=e=>!Fu(e)&&!Wg(e)&&!Gc(e),oL=e=>({value:e}),nE=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},iL=e=>{const t=nE(e.red)+nE(e.green)+nE(e.blue);return oL(t)},aL=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,lL=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,oA=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),iA=(e,t,n,s)=>{const r=parseInt(e,10),o=parseInt(t,10),a=parseInt(n,10),u=parseFloat(s);return oA(r,o,a,u)},cL=e=>{if(e==="transparent")return C.some(oA(0,0,0,0));const t=aL.exec(e);if(t!==null)return C.some(iA(t[1],t[2],t[3],"1"));const n=lL.exec(e);return n!==null?C.some(iA(n[1],n[2],n[3],n[4])):C.none()},zg=e=>cL(e).map(iL).map(t=>"#"+t.value).getOr(e),sE=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},uL=e=>js(e,t=>{const n=yu(t);return n?[D.fromDom(n)]:[]}),fL=e=>sE(e).length>1,dL=e=>Be(uL(e),qo),mL=e=>Nn(e,"td[data-mce-selected],th[data-mce-selected]"),aA=(e,t)=>{const n=mL(t);return n.length>0?n:dL(e)},Uu=e=>aA(sE(e.selection.getSel()),D.fromDom(e.getBody())),Sm=(e,t)=>gl(e,"table",t),hL=e=>{const t=e.startContainer,n=e.startOffset;return se(t)?n===0?C.some(D.fromDom(t)):C.none():C.from(t.childNodes[n]).map(D.fromDom)},pL=e=>{const t=e.endContainer,n=e.endOffset;return se(t)?n===t.data.length?C.some(D.fromDom(t)):C.none():C.from(t.childNodes[n-1]).map(D.fromDom)},lA=e=>Tn(e).fold(ae([e]),t=>[e].concat(lA(t))),rE=e=>qt(e).fold(ae([e]),t=>Pt(t)==="br"?U(t).map(n=>[e].concat(rE(n))).getOr([]):[e].concat(rE(t))),oE=(e,t)=>Wn(hL(t),pL(t),(n,s)=>{const r=Zt(lA(e),_e(Ct,n)),o=Zt(rE(e),_e(Ct,s));return r.isSome()&&o.isSome()}).getOr(!1),iE=(e,t,n,s)=>{const r=n,o=new gn(n,r),a=sl(e.schema.getMoveCaretBeforeOnEnterElements(),(d,p)=>!St(["td","th","table"],p.toLowerCase()));let u=n;do{if(se(u)&&ie.trim(u.data).length!==0){s?t.setStart(u,0):t.setEnd(u,u.data.length);return}if(a[u.nodeName]){s?t.setStartBefore(u):u.nodeName==="BR"?t.setEndBefore(u):t.setEndAfter(u);return}}while(u=s?o.next():o.prev());r.nodeName==="BODY"&&(s?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Vg=e=>{const t=e.selection.getSel();return le(t)&&t.rangeCount>0},aE=(e,t)=>{const n=Uu(e);n.length>0?te(n,s=>{const r=s.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},cA=(e,t,n)=>{const s=sm(e,t);n(s),e.moveToBookmark(s)},qg=e=>fn(e==null?void 0:e.nodeType),lE=e=>ye(e)&&!Er(e)&&!P(e)&&!Oi(e),gL=(e,t)=>{if(lE(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},Gl=e=>e.isContentEditable===!0,uA=(e,t,n)=>{const{selection:s,dom:r}=e,o=s.getNode(),a=Mt(o);cA(s,!0,()=>{t()}),a&&Mt(o)&&r.isChildOf(o,e.getBody())?e.selection.select(o):n(s.getStart())&&bL(r,s)},bL=(e,t)=>{var n,s;const r=t.getRng(),{startContainer:o,startOffset:a}=r,u=t.getNode();if(!gL(e,u)&&ye(o)){const d=o.childNodes,p=e.getRoot();let v;if(a<d.length){const _=d[a];v=new gn(_,(n=e.getParent(_,e.isBlock))!==null&&n!==void 0?n:p)}else{const _=d[d.length-1];v=new gn(_,(s=e.getParent(_,e.isBlock))!==null&&s!==void 0?s:p),v.next(!0)}for(let _=v.current();_;_=v.next()){if(e.getContentEditable(_)==="false")return;if(se(_)&&!uE(_)){r.setStart(_,0),t.setRng(r);return}}}},fA=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=n?e:e[s];e;e=e[s])if(ye(e)||!uE(e))return e}},cE=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Sl(e,t),Hu=(e,t,n)=>e.schema.isValidChild(t,n),uE=(e,t=!1)=>{if(le(e)&&se(e)){const n=t?e.data.replace(/ /g,"\xA0"):e.data;return Pi(n)}else return!1},vL=e=>le(e)&&se(e)&&e.length===0,_L=(e,t)=>{const n="[data-mce-cef-wrappable]",s=Ru(e),r=la(s)?n:`${n},${s}`;return Bn(D.fromDom(t),r)},dA=(e,t)=>{const n=e.dom;return lE(t)&&n.getContentEditable(t)==="false"&&_L(e,t)&&n.select('[contenteditable="true"]',t).length===0},$a=(e,t)=>je(e)?e(t):(le(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),fE=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),dE=(e,t)=>{if(ft(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=zg(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Kg=(e,t,n)=>{const s=e.getStyle(t,n);return dE(s,n)},mA=(e,t)=>{let n;return e.getParent(t,s=>ye(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},jg=(e,t,n)=>e.getParents(t,n,e.getRoot()),mE=(e,t,n)=>{const s=e.formatter.get(t);return le(s)&&At(s,n)},yL=(e,t)=>mE(e,t,s=>{const r=o=>je(o)||o.length>1&&o.charAt(0)==="%";return At(["styles","attributes"],o=>Ut(s,o).exists(a=>{const u=We(a)?a:xf(a);return At(u,r)}))}),CL=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],r=o=>sl(o,(a,u)=>At(s,d=>d===u));return mE(e,t,o=>{const a=r(o);return mE(e,n,u=>{const d=r(u);return Fv(a,d)})})},ii=e=>Lo(e,"block"),EL=e=>ii(e)&&e.wrapper===!0,wL=e=>ii(e)&&e.wrapper!==!0,wr=e=>Lo(e,"selector"),Rn=e=>Lo(e,"inline"),SL=e=>wr(e)&&Rn(e)&&Si(Ut(e,"mixed"),!0),hE=e=>wr(e)&&e.expand!==!1&&!Rn(e),Wu=Er,hA=jg,pA=uE,AL=cE,TL=e=>Dt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,gA=(e,t)=>{let n=t;for(;n;){if(ye(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},bA=(e,t,n,s)=>{const r=t.data;if(e){for(let o=n;o>0;o--)if(s(r.charAt(o-1)))return o}else for(let o=n;o<r.length;o++)if(s(r.charAt(o)))return o;return-1},xL=(e,t,n)=>bA(e,t,n,s=>Wg(s)||Fu(s)),NL=(e,t,n)=>bA(e,t,n,tE),vA=(e,t,n,s,r,o)=>{let a;const u=e.getParent(n,e.isBlock)||t,d=(v,_,y)=>{const T=Mi(e),x=r?T.backwards:T.forwards;return C.from(x(v,_,(S,N)=>Wu(S.parentNode)?-1:(a=S,y(r,S,N)),u))};return d(n,s,xL).bind(v=>o?d(v.container,v.offset+(r?-1:0),NL):C.some(v)).orThunk(()=>a?C.some({container:a,offset:r?0:a.length}):C.none())},_A=(e,t,n,s,r)=>{const o=s[r];se(s)&&la(s.data)&&o&&(s=o);const a=hA(e,s);for(let u=0;u<a.length;u++)for(let d=0;d<t.length;d++){const p=t[d];if(!(le(p.collapsed)&&p.collapsed!==n.collapsed)&&wr(p)&&e.is(a[u],p.selector))return a[u]}return s},yA=(e,t,n,s)=>{var r;let o=n;const a=e.getRoot(),u=t[0];if(ii(u)&&(o=u.wrapper?null:e.getParent(n,u.block,a)),!o){const d=(r=e.getParent(n,"LI,TD,TH"))!==null&&r!==void 0?r:a;o=e.getParent(se(n)?n.parentNode:n,p=>p!==a&&AL(e.schema,p),d)}if(o&&ii(u)&&u.wrapper&&(o=hA(e,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o&&o[s]&&!e.isBlock(o[s])&&(o=o[s],!fE(o,"br")););return o||n},CA=(e,t,n,s)=>{const r=n.parentNode;return le(n[s])?!1:r===t||ft(r)||e.isBlock(r)?!0:CA(e,t,r,s)},Gg=(e,t,n,s,r)=>{let o=n;const a=r?"previousSibling":"nextSibling",u=e.getRoot();if(se(n)&&!pA(n)&&(r?s>0:s<n.data.length))return n;for(;o;){if(!t[0].block_expand&&e.isBlock(o))return o;for(let d=o[a];d;d=d[a]){const p=se(d)&&!CA(e,u,d,a);if(!Wu(d)&&!TL(d)&&!pA(d,p))return o}if(o===u||o.parentNode===u){n=o;break}o=o.parentNode}return n},EA=e=>Wu(e.parentNode)||Wu(e),Yl=(e,t,n,s=!1)=>{let{startContainer:r,startOffset:o,endContainer:a,endOffset:u}=t;const d=n[0];return ye(r)&&r.hasChildNodes()&&(r=ti(r,o),se(r)&&(o=0)),ye(a)&&a.hasChildNodes()&&(a=ti(a,t.collapsed?u:u-1),se(a)&&(u=a.data.length)),r=gA(e,r),a=gA(e,a),EA(r)&&(r=Wu(r)?r:r.parentNode,t.collapsed?r=r.previousSibling||r:r=r.nextSibling||r,se(r)&&(o=t.collapsed?r.length:0)),EA(a)&&(a=Wu(a)?a:a.parentNode,t.collapsed?a=a.nextSibling||a:a=a.previousSibling||a,se(a)&&(u=t.collapsed?0:a.length)),t.collapsed&&(vA(e,e.getRoot(),r,o,!0,s).each(({container:_,offset:y})=>{r=_,o=y}),vA(e,e.getRoot(),a,u,!1,s).each(({container:_,offset:y})=>{a=_,u=y})),(Rn(d)||d.block_expand)&&((!Rn(d)||!se(r)||o===0)&&(r=Gg(e,n,r,o,!0)),(!Rn(d)||!se(a)||u===a.data.length)&&(a=Gg(e,n,a,u,!1))),hE(d)&&(r=_A(e,n,t,r,"previousSibling"),a=_A(e,n,t,a,"nextSibling")),(ii(d)||wr(d))&&(r=yA(e,n,r,"previousSibling"),a=yA(e,n,a,"nextSibling"),ii(d)&&(e.isBlock(r)||(r=Gg(e,n,r,o,!0)),e.isBlock(a)||(a=Gg(e,n,a,u,!1)))),ye(r)&&r.parentNode&&(o=e.nodeIndex(r),r=r.parentNode),ye(a)&&a.parentNode&&(u=e.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:o,endContainer:a,endOffset:u}},Am=(e,t,n)=>{var s;const r=t.startOffset,o=ti(t.startContainer,r),a=t.endOffset,u=ti(t.endContainer,a-1),d=N=>{const B=N[0];se(B)&&B===o&&r>=B.data.length&&N.splice(0,1);const L=N[N.length-1];return a===0&&N.length>0&&L===u&&se(L)&&N.splice(N.length-1,1),N},p=(N,B,L)=>{const I=[];for(;N&&N!==L;N=N[B])I.push(N);return I},v=(N,B)=>e.getParent(N,L=>L.parentNode===B,B),_=(N,B,L)=>{const I=L?"nextSibling":"previousSibling";for(let W=N,G=W.parentNode;W&&W!==B;W=G){G=W.parentNode;const fe=p(W===N?W:W[I],I);fe.length&&(L||fe.reverse(),n(d(fe)))}};if(o===u)return n(d([o]));const y=(s=e.findCommonAncestor(o,u))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(o,u))return _(o,y,!0);if(e.isChildOf(u,o))return _(u,y);const T=v(o,y)||o,x=v(u,y)||u;_(o,T,!0);const S=p(T===o?T:T.nextSibling,"nextSibling",x===u?x.nextSibling:x);S.length&&n(d(S)),_(u,x)},RL=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],OL=e=>Ls(e)&&dd(e)===Pn,kL=(e,t,n,s)=>mr(t).fold(()=>"skipping",r=>s==="br"||OL(t)?"valid":ty(t)?"existing":P(t.dom)?"caret":At(RL,o=>Bn(t,o))?"valid-block":!Hu(e,n,s)||!Hu(e,Pt(r),n)?"invalid-child":"valid"),DL=(e,t)=>{const n=Yl(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},wA=(e,t,n,s,r,o)=>{const{uid:a=t,...u}=n;uo(e,Ra()),En(e,`${Oa()}`,a),En(e,`${ei()}`,s);const{attributes:d={},classes:p=[]}=r(a,u);if(dr(e,d),ry(e,p),o){p.length>0&&En(e,`${Dl()}`,p.join(","));const v=ds(d);v.length>0&&En(e,`${ka()}`,v.join(","))}},PL=e=>{ll(e,Ra()),An(e,`${Oa()}`),An(e,`${ei()}`),An(e,`${kl()}`);const t=co(e,`${ka()}`).map(s=>s.split(",")).getOr([]),n=co(e,`${Dl()}`).map(s=>s.split(",")).getOr([]);te(t,s=>An(e,s)),oy(e,n),An(e,`${Dl()}`),An(e,`${ka()}`)},SA=(e,t,n,s,r)=>{const o=D.fromTag("span",e);return wA(o,t,n,s,r,!1),o},LL=(e,t,n,s,r,o)=>{const a=[],u=SA(e.getDoc(),n,o,s,r),d=Jo(),p=()=>{d.clear()},v=()=>d.get().getOrThunk(()=>{const x=Da(u);return a.push(x),d.set(x),x}),_=x=>{te(x,y)},y=x=>{switch(kL(e,x,"span",Pt(x))){case"invalid-child":{p();const N=He(x);_(N),p();break}case"valid-block":{p(),wA(x,n,o,s,r,!0);break}case"valid":{const N=v();g_(x,N);break}}},T=x=>{const S=at(x,D.fromDom);_(S)};return Am(e.dom,t,x=>{p(),T(x)}),a},BL=(e,t,n,s)=>{e.undoManager.transact(()=>{const r=e.selection,o=r.getRng(),a=Uu(e).length>0,u=Kd("mce-annotation");if(o.collapsed&&!a&&DL(e,o),r.getRng().collapsed&&!a){const d=SA(e.getDoc(),u,s,t,n.decorate);Wc(d,xn),r.getRng().insertNode(d.dom),r.select(d.dom)}else cA(r,!1,()=>{aE(e,d=>{LL(e,d,u,t,n.decorate,s)})})})},AA=e=>{const t=sy();ny(e,t);const n=nr(e,t),s=jf("span"),r=o=>{te(o,a=>{s(a)?Fr(a):PL(a)})};return{register:(o,a)=>{t.register(o,a)},annotate:(o,a)=>{t.lookup(o).each(u=>{BL(e,o,u,a)})},annotationChanged:(o,a)=>{n.addListener(o,a)},remove:o=>{const a=e.selection.getBookmark();kp(e,C.some(o)).each(({elements:u})=>{r(u)}),e.selection.moveToBookmark(a)},removeAll:o=>{const a=e.selection.getBookmark();It(Lp(e,o),(u,d)=>{r(u)}),e.selection.moveToBookmark(a)},getAll:o=>{const a=Lp(e,o);return nl(a,u=>at(u,d=>d.dom))}}},Tm=e=>({getBookmark:_e(sL,e),moveToBookmark:_e(rL,e)});Tm.isBookmarkNode=Er;const TA=(e,t,n)=>n.collapsed?!1:At(n.getClientRects(),s=>cy(s,e,t)),IL=(e,t)=>e.dispatch("PreProcess",t),$L=(e,t)=>e.dispatch("PostProcess",t),ML=e=>{e.dispatch("remove")},FL=e=>{e.dispatch("detach")},UL=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},HL=(e,t,n,s,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:r})},WL=(e,t,n,s,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:r})},zL=e=>{e.dispatch("PreInit")},VL=e=>{e.dispatch("PostRender")},qL=e=>{e.dispatch("Init")},KL=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},xA=(e,t,n)=>{e.dispatch(t,n)},NA=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},RA=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},jL=(e,t)=>e.dispatch("BeforeSetContent",t),OA=(e,t)=>e.dispatch("SetContent",t),GL=(e,t)=>e.dispatch("BeforeGetContent",t),kA=(e,t)=>e.dispatch("GetContent",t),YL=(e,t)=>{e.dispatch("AutocompleterStart",t)},XL=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},QL=e=>{e.dispatch("AutocompleterEnd")},ZL=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),JL=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),DA=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Te={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Te.metaKeyPressed(e),metaKeyPressed:e=>gt.os.isMacOS()||gt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Xl="data-mce-selected",eB="table,img,figure.image,hr,video,span.mce-preview-object",PA=Math.abs,Yg=Math.round,pE={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},tB=e=>e.type==="longpress"||e.type.indexOf("touch")===0,LA=(e,t)=>{const n=t.dom,s=t.getDoc(),r=document,o=t.getBody();let a,u,d,p,v,_,y,T,x,S,N,B,L,I,W,G,fe;const oe=de=>le(de)&&(Jh(de)||n.is(de,"figure.image")),V=de=>gr(de)||n.hasClass(de,"mce-preview-object"),F=(de,tt)=>{if(tB(de)){const Qe=de.touches[0];return oe(de.target)&&!TA(Qe.clientX,Qe.clientY,tt)}else return oe(de.target)&&!TA(de.clientX,de.clientY,tt)},ge=de=>{const tt=de.target;F(de,t.selection.getRng())&&!de.isDefaultPrevented()&&t.selection.select(tt)},Se=de=>n.hasClass(de,"mce-preview-object")&&le(de.firstElementChild)?[de,de.firstElementChild]:n.is(de,"figure.image")?[de.querySelector("img")]:[de],Ne=de=>{const tt=dg(t);return!tt||de.getAttribute("data-mce-resize")==="false"||de===t.getBody()?!1:n.hasClass(de,"mce-preview-object")&&le(de.firstElementChild)?Bn(D.fromDom(de.firstElementChild),tt):Bn(D.fromDom(de),tt)},$e=de=>V(de)?n.create("img",{src:gt.transparentSrc}):de.cloneNode(!0),ze=(de,tt,Qe)=>{if(le(Qe)){const Sn=Se(de);te(Sn,Wt=>{Wt.style[tt]||!t.schema.isValid(Wt.nodeName.toLowerCase(),tt)?n.setStyle(Wt,tt,Qe):n.setAttrib(Wt,tt,""+Qe)})}},mt=(de,tt,Qe)=>{ze(de,"width",tt),ze(de,"height",Qe)},ct=de=>{let tt,Qe,Sn,Wt,Ue;tt=de.screenX-_,Qe=de.screenY-y,I=tt*p[2]+S,W=Qe*p[3]+N,I=I<5?5:I,W=W<5?5:W,(oe(a)||V(a))&&Zy(t)!==!1?Sn=!Te.modifierPressed(de):Sn=Te.modifierPressed(de),Sn&&(PA(tt)>PA(Qe)?(W=Yg(I*B),I=Yg(W/B)):(I=Yg(W/B),W=Yg(I*B))),mt(u,I,W),Wt=p.startPos.x+tt,Ue=p.startPos.y+Qe,Wt=Wt>0?Wt:0,Ue=Ue>0?Ue:0,n.setStyles(d,{left:Wt,top:Ue,display:"block"}),d.innerHTML=I+" &times; "+W,p[2]<0&&u.clientWidth<=I&&n.setStyle(u,"left",T+(S-I)),p[3]<0&&u.clientHeight<=W&&n.setStyle(u,"top",x+(N-W)),tt=o.scrollWidth-G,Qe=o.scrollHeight-fe,tt+Qe!==0&&n.setStyles(d,{left:Wt-tt,top:Ue-Qe}),L||(HL(t,a,S,N,"corner-"+p.name),L=!0)},cn=()=>{const de=L;L=!1,de&&(ze(a,"width",I),ze(a,"height",W)),n.unbind(s,"mousemove",ct),n.unbind(s,"mouseup",cn),r!==s&&(n.unbind(r,"mousemove",ct),n.unbind(r,"mouseup",cn)),n.remove(u),n.remove(d),n.remove(v),jn(a),de&&(WL(t,a,I,W,"corner-"+p.name),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},jn=de=>{be();const tt=n.getPos(de,o),Qe=tt.x,Sn=tt.y,Wt=de.getBoundingClientRect(),Ue=Wt.width||Wt.right-Wt.left,ut=Wt.height||Wt.bottom-Wt.top;a!==de&&(Ve(),a=de,I=W=0);const on=t.dispatch("ObjectSelected",{target:de});Ne(de)&&!on.isDefaultPrevented()?It(pE,(Ot,Qt)=>{const nn=un=>{const Nr=Se(a)[0];_=un.screenX,y=un.screenY,S=Nr.clientWidth,N=Nr.clientHeight,B=N/S,p=Ot,p.name=Qt,p.startPos={x:Ue*Ot[0]+Qe,y:ut*Ot[1]+Sn},G=o.scrollWidth,fe=o.scrollHeight,v=n.add(o,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=$e(a),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:Qe,top:Sn,margin:0}),mt(u,Ue,ut),u.removeAttribute(Xl),o.appendChild(u),n.bind(s,"mousemove",ct),n.bind(s,"mouseup",cn),r!==s&&(n.bind(r,"mousemove",ct),n.bind(r,"mouseup",cn)),d=n.add(o,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+N)};let Ft=n.get("mceResizeHandle"+Qt);Ft&&n.remove(Ft),Ft=n.add(o,"div",{id:"mceResizeHandle"+Qt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Qt+"-resize; margin:0; padding:0"}),n.bind(Ft,"mousedown",un=>{un.stopImmediatePropagation(),un.preventDefault(),nn(un)}),Ot.elm=Ft,n.setStyles(Ft,{left:Ue*Ot[0]+Qe-Ft.offsetWidth/2,top:ut*Ot[1]+Sn-Ft.offsetHeight/2})}):Ve(!1)},re=bu(jn,0),Ve=(de=!0)=>{re.cancel(),be(),a&&de&&a.removeAttribute(Xl),It(pE,(tt,Qe)=>{const Sn=n.get("mceResizeHandle"+Qe);Sn&&(n.unbind(Sn),n.remove(Sn))})},Oe=(de,tt)=>n.isChildOf(de,tt),Lt=de=>{if(L||t.removed||t.composing)return;const tt=de.type==="mousedown"?de.target:e.getNode(),Qe=Ni(D.fromDom(tt),eB).map(Wt=>Wt.dom).getOrUndefined(),Sn=le(Qe)?n.getAttrib(Qe,Xl,"1"):"1";if(te(n.select(`img[${Xl}],hr[${Xl}]`),Wt=>{Wt.removeAttribute(Xl)}),le(Qe)&&Oe(Qe,o)){Ie();const Wt=e.getStart(!0);if(Oe(Wt,Qe)&&Oe(e.getEnd(!0),Qe)){n.setAttrib(Qe,Xl,Sn),re.throttle(Qe);return}}Ve()},be=()=>{It(pE,de=>{de.elm&&(n.unbind(de.elm),delete de.elm)})},Ie=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Ie(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Lt),t.on("keyup compositionend",de=>{a&&a.nodeName==="TABLE"&&Lt(de)}),t.on("hide blur",Ve),t.on("contextmenu longpress",ge,!0)}),t.on("remove",be),{isResizable:Ne,showResizeRect:jn,hideResizeRect:Ve,updateResizeRect:Lt,destroy:()=>{re.cancel(),a=u=v=null}}},nB=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},sB=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},BA=(e,t,n)=>{const s=e.document.createRange();return nB(s,t),sB(s,n),s},gE=(e,t,n,s,r)=>{const o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(s.dom,r),o},xm=sr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),IA=(e,t,n)=>t(D.fromDom(n.startContainer),n.startOffset,D.fromDom(n.endContainer),n.endOffset),rB=(e,t)=>t.match({domRange:n=>({ltr:ae(n),rtl:C.none}),relative:(n,s)=>({ltr:vi(()=>BA(e,n,s)),rtl:vi(()=>C.some(BA(e,s,n)))}),exact:(n,s,r,o)=>({ltr:vi(()=>gE(e,n,s,r,o)),rtl:vi(()=>C.some(gE(e,r,o,n,s)))})}),oB=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(r=>r.collapsed===!1).map(r=>xm.rtl(D.fromDom(r.endContainer),r.endOffset,D.fromDom(r.startContainer),r.startOffset)).getOrThunk(()=>IA(e,xm.ltr,n)):IA(e,xm.ltr,n)},iB=(e,t)=>{const n=rB(e,t);return oB(e,n)};xm.ltr,xm.rtl;const $A={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},aB=(e,t,n)=>{var s,r;return C.from((r=(s=e.dom).caretPositionFromPoint)===null||r===void 0?void 0:r.call(s,t,n)).bind(o=>{if(o.offsetNode===null)return C.none();const a=e.dom.createRange();return a.setStart(o.offsetNode,o.offset),a.collapse(),C.some(a)})},lB=(e,t,n)=>{var s,r;return C.from((r=(s=e.dom).caretRangeFromPoint)===null||r===void 0?void 0:r.call(s,t,n))},cB=(()=>document.caretPositionFromPoint?aB:document.caretRangeFromPoint?lB:C.none)(),uB=(e,t,n)=>{const s=D.fromDom(e.document);return cB(s,t,n).map(r=>$A.create(D.fromDom(r.startContainer),r.startOffset,D.fromDom(r.endContainer),r.endOffset))},bE=sr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fB=(e,t,n,s)=>e.fold(t,n,s),dB=e=>e.fold(Yt,Yt,Yt),mB=bE.before,hB=bE.on,pB=bE.after,Ki={before:mB,on:hB,after:pB,cata:fB,getStart:dB},Xg=sr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gB=e=>Xg.exact(e.start,e.soffset,e.finish,e.foffset),bB=e=>e.match({domRange:t=>D.fromDom(t.startContainer),relative:(t,n)=>Ki.getStart(t),exact:(t,n,s,r)=>t}),vB=Xg.domRange,_B=Xg.relative,yB=Xg.exact,CB=e=>{const t=bB(e);return dl(t)},EB=$A.create,zu={domRange:vB,relative:_B,exact:yB,exactFromRange:gB,getWin:CB,range:EB},Qg=(e,t)=>{const n=Pt(e);return n==="input"?Ki.after(e):St(["br","img"],n)?t===0?Ki.before(e):Ki.after(e):Ki.on(e,t)},wB=(e,t)=>{const n=e.fold(Ki.before,Qg,Ki.after),s=t.fold(Ki.before,Qg,Ki.after);return zu.relative(n,s)},MA=(e,t,n,s)=>{const r=Qg(e,t),o=Qg(n,s);return zu.relative(r,o)},SB=e=>e.match({domRange:t=>{const n=D.fromDom(t.startContainer),s=D.fromDom(t.endContainer);return MA(n,t.startOffset,s,t.endOffset)},relative:wB,exact:MA}),vE=(e,t)=>{const s=(t||document).createDocumentFragment();return te(e,r=>{s.appendChild(r.dom)}),D.fromDom(s)},AB=e=>{const t=zu.getWin(e).dom,n=(r,o,a,u)=>gE(t,r,o,a,u),s=SB(e);return iB(t,s).match({ltr:n,rtl:n})},TB=(e,t,n)=>uB(e,t,n),FA=(e,t,n)=>{const s=dl(D.fromDom(n));return TB(s.dom,e,t).map(r=>{const o=n.createRange();return o.setStart(r.start.dom,r.soffset),o.setEnd(r.finish.dom,r.foffset),o}).getOrUndefined()},_E=(e,t)=>le(e)&&le(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,xB=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},UA=(e,t,n)=>xB(e,t,n)!==null,NB=(e,t,n)=>UA(e,t,s=>s.nodeName===n),RB=(e,t)=>$s(e)&&!UA(e,t,P),HA=(e,t,n)=>{const s=t.parentNode;if(s){const r=new gn(t,e.getParent(s,e.isBlock)||e.getRoot());let o;for(;o=r[n?"prev":"next"]();)if(Dt(o))return!0}return!1},OB=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},kB=(e,t)=>{let n=t;for(;n&&n!==e;){if(Mt(n))return!0;n=n.parentNode}return!1},yE=(e,t,n,s,r)=>{const o=e.getRoot(),a=e.schema.getNonEmptyElements(),u=r.parentNode;let d,p;if(!u)return C.none();const v=e.getParent(u,e.isBlock)||o;if(s&&Dt(r)&&t&&e.isEmpty(v))return C.some(j(u,e.nodeIndex(r)));const _=new gn(r,v);for(;p=_[s?"prev":"next"]();){if(e.getContentEditableParent(p)==="false"||RB(p,o))return C.none();if(se(p)&&p.data.length>0)return NB(p,o,"A")?C.none():C.some(j(p,s?p.data.length:0));if(e.isBlock(p)||a[p.nodeName.toLowerCase()])return C.none();d=p}return bs(d)?C.none():n&&d?C.some(j(d,0)):C.none()},WA=(e,t,n,s)=>{const r=e.getRoot();let o,a=!1,u=n?s.startContainer:s.endContainer,d=n?s.startOffset:s.endOffset;const p=ye(u)&&d===u.childNodes.length,v=e.schema.getNonEmptyElements();let _=n;if($s(u))return C.none();if(ye(u)&&d>u.childNodes.length-1&&(_=!1),vl(u)&&(u=r,d=0),u===r){if(_&&(o=u.childNodes[d>0?d-1:0],o&&($s(o)||v[o.nodeName]||qn(o))))return C.none();if(u.hasChildNodes()){if(d=Math.min(!_&&d>0?d-1:d,u.childNodes.length-1),u=u.childNodes[d],d=se(u)&&p?u.data.length:0,!t&&u===r.lastChild&&qn(u)||kB(r,u)||$s(u))return C.none();if(u.hasChildNodes()&&!qn(u)){o=u;const y=new gn(u,r);do{if(Mt(o)||$s(o)){a=!1;break}if(se(o)&&o.data.length>0){d=_?0:o.data.length,u=o,a=!0;break}if(v[o.nodeName.toLowerCase()]&&!ep(o)){d=e.nodeIndex(o),u=o.parentNode,_||d++,a=!0;break}}while(o=_?y.next():y.prev())}}}return t&&(se(u)&&d===0&&yE(e,p,t,!0,u).each(y=>{u=y.container(),d=y.offset(),a=!0}),ye(u)&&(o=u.childNodes[d],o||(o=u.childNodes[d-1]),o&&Dt(o)&&!OB(o,"A")&&!HA(e,o,!1)&&!HA(e,o,!0)&&yE(e,p,t,!0,o).each(y=>{u=y.container(),d=y.offset(),a=!0}))),_&&!t&&se(u)&&d===u.data.length&&yE(e,p,t,!1,u).each(y=>{u=y.container(),d=y.offset(),a=!0}),a&&u?C.some(j(u,d)):C.none()},Zg=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),r=j.fromRangeStart(t);return WA(e,n,!0,s).each(o=>{(!n||!j.isAbove(r,o))&&s.setStart(o.container(),o.offset())}),n||WA(e,n,!1,s).each(o=>{s.setEnd(o.container(),o.offset())}),n&&s.collapse(!0),_E(t,s)?C.none():C.some(s)},Jg=(e,t)=>e.splitText(t),eb=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,r=e.endOffset;if(t===s&&se(t)){if(n>0&&n<t.data.length)if(s=Jg(t,n),t=s.previousSibling,r>n){r=r-n;const o=Jg(s,r).previousSibling;t=s=o,r=o.data.length,n=0}else r=0}else if(se(t)&&n>0&&n<t.data.length&&(t=Jg(t,n),n=0),se(s)&&r>0&&r<s.data.length){const o=Jg(s,r).previousSibling;s=o,r=o.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:r}},Ql=e=>({walk:(o,a)=>Am(e,o,a),split:eb,expand:(o,a={type:"word"})=>{if(a.type==="word"){const u=Yl(e,o,[{inline:"span"}]),d=e.createRng();return d.setStart(u.startContainer,u.startOffset),d.setEnd(u.endContainer,u.endOffset),d}return o},normalize:o=>Zg(e,o).fold(pt,a=>(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),!0))});Ql.compareRanges=_E,Ql.getCaretRangeFromPoint=FA,Ql.getSelectedNode=yu,Ql.getNode=ti;const DB=((e,t)=>{const n=(u,d)=>{if(!fn(d)&&!d.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+d);const p=u.dom;cl(p)&&(p.style[e]=d+"px")},s=u=>{const d=t(u);if(d<=0||d===null){const p=Is(u,e);return parseFloat(p)||0}return d},r=s,o=(u,d)=>Vt(d,(p,v)=>{const _=Is(u,v),y=_===void 0?0:parseInt(_,10);return isNaN(y)?p:p+y},0);return{set:n,get:s,getOuter:r,aggregate:o,max:(u,d,p)=>{const v=o(u,p);return d>v?d-v:0}}})("height",e=>{const t=e.dom;return ma(e)?t.getBoundingClientRect().height:t.offsetHeight}),PB=e=>DB.get(e),zA=()=>D.fromDom(document),VA=(e,t)=>e.view(t).fold(ae([]),s=>{const r=e.owner(s),o=VA(e,r);return[s].concat(o)}),LB=(e,t)=>{const n=t.owner(e);return VA(t,n)};var BB=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?C.none():C.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(D.fromDom)},owner:e=>Mr(e)});const IB=e=>{const t=zA(),n=Ho(t),s=LB(e,BB),r=ga(e),o=Xn(s,(a,u)=>{const d=ga(u);return{left:a.left+d.left,top:a.top+d.top}},{left:0,top:0});return Fo(o.left+r.left+n.left,o.top+r.top+n.top)},CE=e=>Pt(e)==="textarea",$B=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),MB=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},FB=(e,t)=>{const n=He(e);if(n.length===0||CE(e))return{element:e,offset:t};if(t<n.length&&!CE(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return CE(s)?{element:e,offset:t}:Pt(s)==="img"?{element:s,offset:1}:Ls(s)?{element:s,offset:dd(s).length}:{element:s,offset:He(s).length}}},qA=(e,t)=>{const n=pl(e),s=PB(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},UB=(e,t)=>{const n=FB(e,t),s=D.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Pn+"</span>");return gs(n.element,s),qA(s,()=>$t(s))},HB=e=>qA(D.fromDom(e),Ke),KA=(e,t,n,s)=>{zB(e,(r,o)=>WB(e,t,n,s),n)},jA=(e,t,n,s,r)=>{const o={elm:s.element.dom,alignToTop:r};if($B(e,o))return;const a=Ho(t).top;n(t,a,s,r),MB(e,o)},WB=(e,t,n,s)=>{const r=D.fromDom(e.getBody()),o=D.fromDom(e.getDoc());Hc(r);const a=UB(D.fromDom(n.startContainer),n.startOffset);jA(e,o,t,a,s),a.cleanup()},GA=(e,t,n,s)=>{const r=D.fromDom(e.getDoc());jA(e,r,n,HB(t),s)},zB=(e,t,n)=>{const s=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset;t(D.fromDom(s),D.fromDom(o));const u=e.dom.createRng();u.setStart(s,r),u.setEnd(o,a),e.selection.setRng(n)},EE=(e,t,n,s)=>{const r=e.pos;if(n)jh(r.left,r.top,s);else{const o=r.top-t+e.height;jh(r.left,o,s)}},YA=(e,t,n,s,r)=>{const o=n+t,a=s.pos.top,u=s.bottom,d=u-a>=n;a<t?EE(s,n,r!==!1,e):a>o?EE(s,n,d?r!==!1:r===!0,e):u>o&&!d&&EE(s,n,r===!0,e)},XA=(e,t,n,s)=>{const r=dl(e).dom.innerHeight;YA(e,t,r,n,s)},QA=(e,t,n,s)=>{const r=dl(e).dom.innerHeight;YA(e,t,r,n,s);const o=IB(n.element),a=Xh(window);o.top<a.y?Gh(n.element,s!==!1):o.top>a.bottom&&Gh(n.element,s===!0)},VB=(e,t,n)=>KA(e,XA,t,n),qB=(e,t,n)=>GA(e,t,XA,n),KB=(e,t,n)=>KA(e,QA,t,n),jB=(e,t,n)=>GA(e,t,QA,n),GB=(e,t,n)=>{(e.inline?qB:jB)(e,t,n)},Nm=(e,t,n)=>{(e.inline?VB:KB)(e,t,n)},ZA=e=>e.dom.focus(),JA=e=>{const t=Bs(e).dom;return e.dom===t.activeElement},wE=(e=zA())=>C.from(e.dom.activeElement).map(D.fromDom),YB=e=>wE(Bs(e)).filter(t=>e.dom.contains(t.dom)),eT=(e,t)=>{const n=Ls(t)?dd(t).length:He(t).length+1;return e>n?n:e<0?0:e},XB=e=>zu.range(e.start,eT(e.soffset,e.start),e.finish,eT(e.foffset,e.finish)),tT=(e,t)=>!qc(t.dom)&&(hs(e,t)||Ct(e,t)),nT=e=>t=>tT(e,t.start)&&tT(e,t.finish),QB=e=>e.inline||gt.browser.isFirefox(),ZB=e=>zu.range(D.fromDom(e.startContainer),e.startOffset,D.fromDom(e.endContainer),e.endOffset),JB=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?C.none():C.from(t.getRangeAt(0))).map(ZB)},eI=e=>{const t=dl(e);return JB(t.dom).filter(nT(e))},tI=(e,t)=>C.from(t).filter(nT(e)).map(XB),nI=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),C.some(t)}catch{return C.none()}},SE=e=>{const t=QB(e)?eI(D.fromDom(e.getBody())):C.none();e.bookmark=t.isSome()?t:e.bookmark},AE=e=>(e.bookmark?e.bookmark:C.none()).bind(n=>tI(D.fromDom(e.getBody()),n)).bind(nI),sI=e=>{AE(e).each(t=>e.selection.setRng(t))},sT={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},rI=(e,t)=>(fn(t)||(t=0),setTimeout(e,t)),oI=(e,t)=>(fn(t)||(t=0),setInterval(e,t)),Sr={setEditorTimeout:(e,t,n)=>rI(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=oI(()=>{e.removed?clearInterval(s):t()},n);return s}},iI=e=>e.type==="nodechange"&&e.selectionChange,aI=(e,t)=>{const n=()=>{t.throttle()};Nt.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Nt.DOM.unbind(document,"mouseup",n)})},lI=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},cI=(e,t)=>{lI(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{iI(n)||SE(e)})},uI=e=>{const t=bu(()=>{SE(e)},0);e.on("init",()=>{e.inline&&aI(e,t),cI(e,t)}),e.on("remove",()=>{t.cancel()})};let Vu;const TE=Nt.DOM,fI=e=>ye(e)&&sT.isEditorUIElement(e),dI=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},tb=(e,t)=>{const n=tC(e);return TE.getParent(t,r=>fI(r)||(n?e.dom.is(r,n):!1))!==null},mI=e=>{try{const t=Bs(D.fromDom(e.getElement()));return wE(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},hI=(e,t)=>{const n=t.editor;uI(n),n.on("focusin",()=>{const s=e.focusedEditor;s!==n&&(s&&s.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:s}),n.focus(!0))}),n.on("focusout",()=>{Sr.setEditorTimeout(n,()=>{const s=e.focusedEditor;!tb(n,mI(n))&&s===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Vu||(Vu=s=>{const r=e.activeEditor;r&&td(s).each(o=>{const a=o;a.ownerDocument===document&&a!==document.body&&!tb(r,a)&&e.focusedEditor===r&&(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},TE.bind(document,"focusin",Vu))},pI=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Vu&&(TE.unbind(document,"focusin",Vu),Vu=null)},gI=e=>{e.on("AddEditor",_e(hI,e)),e.on("RemoveEditor",_e(pI,e))},bI=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),vI=e=>e.collapsed?C.from(ti(e.startContainer,e.startOffset)).map(D.fromDom):C.none(),_I=(e,t)=>vI(t).bind(n=>hd(n)?C.some(n):hs(e,n)?C.none():C.some(e)),rT=(e,t)=>{_I(D.fromDom(e.getBody()),t).bind(n=>g(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},xE=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},yI=e=>JA(e)||YB(e).isSome(),CI=e=>le(e.iframeElement)&&JA(D.fromDom(e.iframeElement)),EI=e=>{const t=e.getBody();return t&&yI(D.fromDom(t))},wI=e=>{const t=Bs(D.fromDom(e.getElement()));return wE(t).filter(n=>!dI(n.dom)&&tb(e,n.dom)).isSome()},Zl=e=>e.inline?EI(e):CI(e),SI=e=>Zl(e)||wI(e),AI=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable(),le(e.bookmark)&&!Zl(e)&&AE(e).each(o=>{e.selection.setRng(o),s=o});const r=bI(e,t.getNode());if(r&&e.dom.isChildOf(r,n)){xE(r),rT(e,s),NE(e);return}e.inline||(gt.browser.isOpera()||xE(n),e.getWin().focus()),(gt.browser.isFirefox()||e.inline)&&(xE(n),rT(e,s)),NE(e)},NE=e=>e.editorManager.setActive(e),TI=(e,t)=>{e.removed||(t?NE(e):AI(e))},oT=(e,t,n,s,r)=>{const o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return C.from(o).map(D.fromDom).map(u=>!s||!t.collapsed?kt(u,r(u,a)).getOr(u):u).bind(u=>Zn(u)?C.some(u):mr(u).filter(Zn)).map(u=>u.dom).getOr(e)},iT=(e,t,n=!1)=>oT(e,t,!0,n,(s,r)=>Math.min(Mc(s),r)),aT=(e,t,n=!1)=>oT(e,t,!1,n,(s,r)=>r>0?r-1:r),lT=(e,t)=>{const n=e;for(;e&&se(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},xI=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const r=t.startOffset,o=t.endOffset;let a=t.commonAncestorContainer;t.collapsed||(n===s&&o-r<2&&n.hasChildNodes()&&(a=n.childNodes[r]),se(n)&&se(s)&&(n.length===r?n=lT(n.nextSibling,!0):n=n.parentNode,o===0?s=lT(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(a=n)));const u=se(a)?a.parentNode:a;return ye(u)?u:e},NI=(e,t,n,s)=>{const r=[],o=e.getRoot(),a=e.getParent(n||iT(o,t,t.collapsed),e.isBlock),u=e.getParent(s||aT(o,t,t.collapsed),e.isBlock);if(a&&a!==o&&r.push(a),a&&u&&a!==u){let d=a;const p=new gn(a,o);for(;(d=p.next())&&d!==u;)e.isBlock(d)&&r.push(d)}return u&&a!==u&&u!==o&&r.push(u),r},RI=(e,t,n)=>C.from(t).bind(s=>C.from(s.parentNode).map(r=>{const o=e.nodeIndex(s),a=e.createRng();return a.setStart(r,o),a.setEnd(r,o+1),n&&(iE(e,a,s,!0),iE(e,a,s,!1)),a})),RE=(e,t)=>at(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),OI=e=>Pt(e)==="img"?1:Ur(e).fold(()=>He(e).length,t=>t.length),kI=e=>Ur(e).filter(t=>t.trim().length!==0||t.indexOf(xn)>-1).isSome(),DI=["img","br"],cT=e=>kI(e)||St(DI,Pt(e)),PI=e=>Tt(e,cT),LI=e=>BI(e,cT),BI=(e,t)=>{const n=s=>{const r=He(s);for(let o=r.length-1;o>=0;o--){const a=r[o];if(t(a))return C.some(a);const u=n(a);if(u.isSome())return u}return C.none()};return n(e)},uT="[data-mce-autocompleter]",II=(e,t)=>{if(fT(D.fromDom(e.getBody())).isNone()){const n=D.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());an(n,D.fromDom(t.extractContents())),t.insertNode(n.dom),mr(n).each(s=>s.dom.normalize()),LI(n).map(s=>{e.selection.setCursorLocation(s.dom,OI(s))})}},$I=e=>Ni(e,uT),fT=e=>bl(e,uT),MI=(e,t)=>fT(t).each(n=>{const s=e.selection.getBookmark();Fr(n),e.selection.moveToBookmark(s)}),FI={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},nb=(e,t,n)=>{const s=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[s])return e[s];if(e!==t){let o=e[r];if(o)return o;for(let a=e.parent;a&&a!==t;a=a.parent)if(o=a[r],o)return o}},UI=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Pi(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},dT=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ns{constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}static create(t,n){const s=new Ns(t,FI[t]||1);return n&&It(n,(r,o)=>{s.attr(o,r)}),s}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!pe(t))return le(t)&&It(t,(o,a)=>{s.attr(a,o)}),s;const r=s.attributes;if(r){if(n!==void 0){if(n===null){if(t in r.map){delete r.map[t];let o=r.length;for(;o--;)if(r[o].name===t)return r.splice(o,1),s}return s}if(t in r.map){let o=r.length;for(;o--;)if(r[o].name===t){r[o].value=n;break}}else r.push({name:t,value:n});return r.map[t]=n,s}return r.map[t]}}clone(){const t=this,n=new Ns(t.name,t.type),s=t.attributes;if(s){const r=[];r.map={};for(let o=0,a=s.length;o<a;o++){const u=s[o];u.name!=="id"&&(r[r.length]={name:u.name,value:u.value},r.map[u.name]=u.value)}n.attributes=r}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,r=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):r&&(r.next=s),n.lastChild===t?(n.lastChild=r,r&&(r.next=null)):s&&(s.prev=r),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const r=n.parent||this;return s?(n===r.firstChild?r.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===r.lastChild?r.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=r,t}getAll(t){const n=this,s=[];for(let r=n.firstChild;r;r=nb(r,n))r.name===t&&s.push(r);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let r=t.firstChild;r;r=nb(r,t))n.push(r);let s=n.length;for(;s--;){const r=n[s];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var r;const o=this;let a=o.firstChild;if(dT(o))return!1;if(a)do{if(a.type===1){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||dT(a))return!1}if(a.type===8||a.type===3&&!UI(a)||a.type===3&&a.parent&&n[a.parent.name]&&Pi((r=a.value)!==null&&r!==void 0?r:"")||s&&s(a))return!1}while(a=nb(a,o));return!0}walk(t){return nb(this,null,t)}}const HI=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),mT=(e,t,n=0)=>{const s=e.toLowerCase();if(s.indexOf("[if ",n)!==-1&&HI(s,n)){const r=s.indexOf("[endif]",n);return s.indexOf(">",r)}else if(t){const r=s.indexOf(">",n);return r!==-1?r:s.length}else{const r=/--!?>/g;r.lastIndex=n;const o=r.exec(e);return o?o.index+o[0].length:s.length}},WI=(e,t,n)=>{const s=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,o=e.getVoidElements();let a=1,u=n;for(;a!==0;)for(s.lastIndex=u;;){const d=s.exec(t);if(d===null)return u;if(d[1]==="!"){On(d[2],"--")?u=mT(t,!1,d.index+3):u=mT(t,!0,d.index+1);break}else{r.lastIndex=s.lastIndex;const p=r.exec(t);if(ht(p)||p.index!==s.lastIndex)continue;d[1]==="/"?a-=1:Ye(o,d[2])||(a+=1),u=s.lastIndex+p[0].length;break}}return u},zI=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},hT=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;let r=zI(e.getTempAttrs(),t);const o=s.getVoidElements();let a;for(;a=n.exec(r);){const u=n.lastIndex,d=a[0].length;let p;o[a[1]]?p=u:p=WI(s,r,u),r=r.substring(0,u-d)+r.substring(p),n.lastIndex=u-d}return Wr(r)},VI=hT,pT=e=>{const t=Nn(e,"[data-mce-bogus]");te(t,n=>{Vn(n,"data-mce-bogus")==="all"?$t(n):dn(n)?(gs(n,D.fromText(va)),$t(n)):Fr(n)})},gT=e=>{const t=Nn(e,"input");te(t,n=>{An(n,"name")})},qI=(e,t)=>{const n=ws(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},KI=(e,t)=>{const n=e.getDoc(),s=Bs(D.fromDom(e.getBody())),r=D.fromTag("div",n);En(r,"data-mce-bogus","all"),hr(r,{position:"fixed",left:"-9999999px",top:"0"}),Wc(r,t.innerHTML),pT(r),gT(r);const o=Fc(s);an(o,r);const a=Wr(r.dom.innerText);return $t(r),a},jI=(e,t,n)=>{let s;return t.format==="raw"?s=ie.trim(VI(e.serializer,n.innerHTML)):t.format==="text"?s=KI(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=qI(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Hr(D.fromDom(n))&&pe(s)?ie.trim(s):s},GI=(e,t)=>C.from(e.getBody()).fold(ae(t.format==="tree"?new Ns("body",11):""),n=>jI(e,t,n)),bT=ie.makeMap,vT=e=>{const t=[];e=e||{};const n=e.indent,s=bT(e.indent_before||""),r=bT(e.indent_after||""),o=mo.getEncodeFunc(e.entity_encoding||"raw",e.entities),a=e.element_format!=="xhtml";return{start:(u,d,p)=>{if(n&&s[u]&&t.length>0){const v=t[t.length-1];v.length>0&&v!==`
`&&t.push(`
`)}if(t.push("<",u),d)for(let v=0,_=d.length;v<_;v++){const y=d[v];t.push(" ",y.name,'="',o(y.value,!0),'"')}if(!p||a?t[t.length]=">":t[t.length]=" />",p&&n&&r[u]&&t.length>0){const v=t[t.length-1];v.length>0&&v!==`
`&&t.push(`
`)}},end:u=>{let d;t.push("</",u,">"),n&&r[u]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},text:(u,d)=>{u.length>0&&(t[t.length]=d?u:o(u))},cdata:u=>{t.push("<![CDATA[",u,"]]>")},comment:u=>{t.push("<!--",u,"-->")},pi:(u,d)=>{d?t.push("<?",u," ",o(d),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:u=>{t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Ma=(e={},t=Cs())=>{const n=vT(e);return e.validate="validate"in e?e.validate:!0,{serialize:r=>{const o=e.validate,a={3:d=>{var p;n.text((p=d.value)!==null&&p!==void 0?p:"",d.raw)},8:d=>{var p;n.comment((p=d.value)!==null&&p!==void 0?p:"")},7:d=>{n.pi(d.name,d.value)},10:d=>{var p;n.doctype((p=d.value)!==null&&p!==void 0?p:"")},4:d=>{var p;n.cdata((p=d.value)!==null&&p!==void 0?p:"")},11:d=>{let p=d;if(p=p.firstChild)do u(p);while(p=p.next)}};n.reset();const u=d=>{var p;const v=a[d.type];if(v)v(d);else{const _=d.name,y=_ in t.getVoidElements();let T=d.attributes;if(o&&T&&T.length>1){const x=[];x.map={};const S=t.getElementRule(d.name);if(S){for(let N=0,B=S.attributesOrder.length;N<B;N++){const L=S.attributesOrder[N];if(L in T.map){const I=T.map[L];x.map[L]=I,x.push({name:L,value:I})}}for(let N=0,B=T.length;N<B;N++){const L=T[N].name;if(!(L in x.map)){const I=T.map[L];x.map[L]=I,x.push({name:L,value:I})}}T=x}}if(n.start(_,T,y),!y){let x=d.firstChild;if(x){(_==="pre"||_==="textarea")&&x.type===3&&((p=x.value)===null||p===void 0?void 0:p[0])===`
`&&n.text(`
`,!0);do u(x);while(x=x.next)}n.end(_)}}};return r.type===1&&!e.inner?u(r):r.type===3?a[3](r):a[11](r),n.getContent()}}},_T=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{_T.add(t)});const yT=["font","text-decoration","text-emphasis"],OE=(e,t)=>ds(e.parseStyle(e.getAttrib(t,"style"))),YI=e=>_T.has(e),XI=(e,t)=>fs(OE(e,t),n=>!YI(n)),QI=e=>Be(e,t=>At(yT,n=>On(t,n))),ZI=(e,t,n)=>{const s=OE(e,t),r=OE(e,n),o=a=>{var u,d;const p=(u=e.getStyle(t,a))!==null&&u!==void 0?u:"",v=(d=e.getStyle(n,a))!==null&&d!==void 0?d:"";return Lr(p)&&Lr(v)&&p!==v};return At(s,a=>{const u=d=>At(d,p=>p===a);if(!u(r)&&u(yT)){const d=QI(r);return At(d,o)}else return o(a)})},CT=(e,t,n)=>C.from(n.container()).filter(se).exists(s=>{const r=e?0:-1;return t(s.data.charAt(n.offset()+r))}),kE=_e(CT,!0,Fu),DE=_e(CT,!1,Fu),JI=e=>{const t=e.container();return se(t)&&(t.data.length===0||Ko(t.data)&&Tm.isBookmarkNode(t.parentNode))},Fa=(e,t)=>n=>vm(e?0:-1,n).filter(t).isSome(),ET=e=>Jh(e)&&Is(D.fromDom(e),"display")==="block",wT=e=>Mt(e)&&!S_(e),e$=Fa(!0,ET),t$=Fa(!1,ET),Rm=Fa(!0,gr),Om=Fa(!1,gr),ST=Fa(!0,qn),AT=Fa(!1,qn),Ua=Fa(!0,wT),Ha=Fa(!1,wT),n$=e=>e.slice(0,-1),s$=(e,t,n)=>hs(t,e)?n$(zh(e,s=>n(s)||Ct(s,t))):[],TT=(e,t)=>s$(e,t,pt),ji=(e,t)=>[e].concat(TT(e,t)),PE=(e,t,n)=>Ug(e,t,n,JI),xT=(e,t)=>Zt(ji(D.fromDom(t.container()),e),vs),NT=(e,t,n)=>PE(e,t.dom,n).forall(s=>xT(t,n).fold(()=>!qr(s,n,t.dom),r=>!qr(s,n,t.dom)&&hs(r,D.fromDom(s.container())))),RT=(e,t,n)=>xT(t,n).fold(()=>PE(e,t.dom,n).forall(s=>!qr(s,n,t.dom)),s=>PE(e,s.dom,n).isNone()),LE=_e(RT,!1),OT=_e(RT,!0),r$=_e(NT,!1),o$=_e(NT,!0),i$=e=>Bu(e).exists(dn),sb=(e,t,n)=>{const s=Be(ji(D.fromDom(n.container()),t),vs),r=Un(s).getOr(t);return Hs(e,r.dom,n).filter(i$)},BE=(e,t)=>Bu(t).exists(dn)||sb(!0,e,t).isSome(),IE=(e,t)=>Dg(t).exists(dn)||sb(!1,e,t).isSome(),a$=_e(sb,!1),l$=_e(sb,!0),kT=e=>j.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),DT=(e,t)=>{const n=Be(ji(D.fromDom(t.container()),e),vs);return Un(n).getOr(e)},PT=(e,t)=>kT(t)?DE(t):DE(t)||h(DT(e,t).dom,t).exists(DE),LT=(e,t)=>kT(t)?kE(t):kE(t)||l(DT(e,t).dom,t).exists(kE),c$=e=>St(["pre","pre-wrap"],e),$E=e=>Bu(e).bind(t=>Xs(t,Zn)).exists(t=>c$(Is(t,"white-space"))),u$=(e,t)=>h(e.dom,t).isNone(),f$=(e,t)=>l(e.dom,t).isNone(),d$=(e,t)=>u$(e,t)||f$(e,t)||LE(e,t)||OT(e,t)||IE(e,t)||BE(e,t),m$=e=>le(e)&&Mt(e)&&Du(e),BT=(e,t)=>n=>m$(new gn(n,e)[t]()),h$=(e,t)=>{const n=l(e.dom,t).getOr(t),s=BT(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},p$=(e,t)=>{const n=h(e.dom,t).getOr(t),s=BT(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},g$=(e,t)=>$E(t)?!1:d$(e,t)||PT(e,t)||LT(e,t),km=(e,t)=>$E(t)?!1:LE(e,t)||r$(e,t)||IE(e,t)||PT(e,t)||p$(e,t),b$=e=>{const t=e.container(),n=e.offset();return se(t)&&n<t.data.length?j(t,n+1):e},Dm=(e,t)=>$E(t)?!1:OT(e,t)||o$(e,t)||BE(e,t)||LT(e,t)||h$(e,t),ME=(e,t)=>km(e,t)||Dm(e,b$(t)),IT=(e,t)=>Wg(e.charAt(t)),$T=(e,t)=>Fu(e.charAt(t)),v$=e=>{const t=e.container();return se(t)&&Ln(t.data,xn)},_$=e=>{const t=e.split("");return at(t,(n,s)=>Wg(n)&&s>0&&s<t.length-1&&tE(t[s-1])&&tE(t[s+1])?" ":n).join("")},MT=(e,t,n)=>{const s=t.data,r=j(t,0);return!n&&IT(s,0)&&!ME(e,r)?(t.data=" "+s.slice(1),!0):n&&$T(s,0)&&km(e,r)?(t.data=xn+s.slice(1),!0):!1},y$=e=>{const t=e.data,n=_$(t);return n!==t?(e.data=n,!0):!1},FT=(e,t,n)=>{const s=t.data,r=j(t,s.length-1);return!n&&IT(s,s.length-1)&&!ME(e,r)?(t.data=s.slice(0,-1)+" ",!0):n&&$T(s,s.length-1)&&Dm(e,r)?(t.data=s.slice(0,-1)+xn,!0):!1},C$=(e,t)=>{const n=t.container();if(!se(n))return C.none();if(v$(t)){const s=MT(e,n,!1)||y$(n)||FT(e,n,!1);return zn(s,t)}else if(ME(e,t)){const s=MT(e,n,!0)||FT(e,n,!0);return zn(s,t)}else return C.none()},E$=e=>{const t=D.fromDom(e.getBody());e.selection.isCollapsed()&&C$(t,j.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},UT=(e,t,n)=>{if(n===0)return;const s=D.fromDom(e),r=A(s,vs).getOr(s),o=e.data.slice(t,t+n),a=t+n>=e.data.length&&Dm(r,j(e,e.data.length)),u=t===0&&km(r,j(e,0));e.replaceData(t,n,up(o,4,u,a))},rb=(e,t)=>{const n=e.data.slice(t),s=n.length-Th(n).length;UT(e,t,s)},FE=(e,t)=>{const n=e.data.slice(0,t),s=n.length-Oc(n).length;UT(e,t-s,s)},UE=(e,t,n,s=!0)=>{const r=Oc(e.data).length,o=s?e:t,a=s?t:e;return s?o.appendData(a.data):o.insertData(0,a.data),$t(D.fromDom(a)),n&&rb(o,r),o},w$=(e,t)=>{const n=e.container(),s=e.offset();return!j.isTextPosition(e)&&n===t.parentNode&&s>j.before(t).offset()},S$=(e,t)=>w$(t,e)?j(t.container(),t.offset()-1):t,A$=e=>se(e)?j(e,0):j.before(e),T$=e=>se(e)?j(e,e.data.length):j.after(e),HT=e=>Js(e.previousSibling)?C.some(T$(e.previousSibling)):e.previousSibling?E(e.previousSibling):C.none(),WT=e=>Js(e.nextSibling)?C.some(A$(e.nextSibling)):e.nextSibling?g(e.nextSibling):C.none(),x$=(e,t)=>C.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>h(e,j.before(n))).orThunk(()=>l(e,j.after(t))),N$=(e,t)=>l(e,j.after(t)).orThunk(()=>h(e,j.before(t))),R$=(e,t)=>HT(t).orThunk(()=>WT(t)).orThunk(()=>x$(e,t)),O$=(e,t)=>WT(t).orThunk(()=>HT(t)).orThunk(()=>N$(e,t)),k$=(e,t,n)=>e?O$(t,n):R$(t,n),D$=(e,t,n)=>k$(e,t,n).map(_e(S$,n)),zT=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},P$=e=>t=>t.dom===e,L$=(e,t)=>t&&Ye(e.schema.getBlockElements(),Pt(t)),B$=e=>{if(en(e)){const t=D.fromHtml('<br data-mce-bogus="1">');return Mo(e),an(e,t),C.some(j.before(t.dom))}else return C.none()},I$=(e,t,n)=>{const s=U(e).filter(Ls),r=ee(e).filter(Ls);return $t(e),$h(s,r,t,(o,a,u)=>{const d=o.dom,p=a.dom,v=d.data.length;return UE(d,p,n),u.container()===p?j(d,v):u}).orThunk(()=>(n&&(s.each(o=>FE(o.dom,o.dom.length)),r.each(o=>rb(o.dom,0))),t))},$$=(e,t)=>Ye(e.schema.getTextInlineElements(),Pt(t)),Jl=(e,t,n,s=!0)=>{const r=D$(t,e.getBody(),n.dom),o=A(n,_e(L$,e),P$(e.getBody())),a=I$(n,r,$$(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(B$).fold(()=>{s&&zT(e,t,a)},u=>{s&&zT(e,t,C.some(u))})},M$=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,F$=e=>M$.test(e),ec=(e,t)=>Bn(D.fromDom(t),Qy(e))&&!Sl(e.schema,t),U$=e=>{var t;return Nt.DOM.getStyle(e,"direction",!0)==="rtl"||F$((t=e.textContent)!==null&&t!==void 0?t:"")},H$=(e,t,n)=>Be(Nt.DOM.getParents(n.container(),"*",t),e),Wa=(e,t,n)=>{const s=H$(e,t,n);return C.from(s[s.length-1])},W$=(e,t,n)=>{const s=Vr(t,e),r=Vr(n,e);return le(s)&&s===r},z$=e=>vd(e)||_d(e),Ar=(e,t)=>{const n=t.container(),s=t.offset();return e?jo(n)?se(n.nextSibling)?j(n.nextSibling,0):j.after(n):vd(t)?j(n,s+1):t:jo(n)?se(n.previousSibling)?j(n.previousSibling,n.previousSibling.data.length):j.before(n):_d(t)?j(n,s-1):t},VT=_e(Ar,!0),qT=_e(Ar,!1),KT=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},V$=e=>{e.execCommand("delete")},jT=e=>KT(e,"Delete"),q$=e=>KT(e,"ForwardDelete"),K$=e=>t=>Si(mr(t),e,Ct),j$=e=>Xc(e)||_s(e),ob=(e,t)=>hs(e,t)?Xs(t,j$,K$(e)):C.none(),HE=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},G$=(e,t,n)=>Wn(g(n),E(n),(s,r)=>{const o=Ar(!0,s),a=Ar(!1,r),u=Ar(!1,t);return e?l(n,u).exists(d=>d.isEqual(a)&&t.isEqual(o)):h(n,u).exists(d=>d.isEqual(o)&&t.isEqual(a))}).getOr(!0),GT=e=>(Io(e)?U(e):qt(e)).bind(GT).orThunk(()=>C.some(e)),YT=(e,t,n,s=!0)=>{var r;t.deleteContents();const o=GT(n).getOr(n),a=D.fromDom((r=e.dom.getParent(o.dom,e.dom.isBlock))!==null&&r!==void 0?r:n.dom);if(a.dom===e.getBody()?HE(e,s):en(a)&&(Di(a),s&&e.selection.setCursorLocation(a.dom,0)),!Ct(n,a)){const u=Si(mr(a),n)?[]:fa(a);te(u.concat(He(n)),d=>{!Ct(d,a)&&!hs(d,a)&&en(d)&&$t(d)})}},Y$=e=>t=>Ct(e,t),WE=e=>Nn(e,"td,th"),X$=(e,t)=>{const n=p=>Sm(D.fromDom(p),t),s=n(e.startContainer),r=n(e.endContainer),o=s.isSome(),a=r.isSome(),u=Wn(s,r,Ct).getOr(!1);return{startTable:s,endTable:r,isStartInTable:o,isEndInTable:a,isSameTable:u,isMultiTable:!u&&o&&a}},zE=(e,t)=>({start:e,end:t}),Q$=(e,t,n)=>({rng:e,table:t,cells:n}),Pm=sr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ib=(e,t)=>Ni(D.fromDom(e),"td,th",t),XT=e=>!Ct(e.start,e.end),QT=(e,t)=>Sm(e.start,t).bind(n=>Sm(e.end,t).bind(s=>zn(Ct(n,s),n))),Z$=(e,t)=>!XT(e)&&QT(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),J$=(e,t)=>{const n=ib(e.startContainer,t),s=ib(e.endContainer,t);return Wn(n,s,zE)},eM=e=>t=>Sm(t,e).bind(n=>ao(WE(n)).map(s=>zE(t,s))),tM=e=>t=>Sm(t,e).bind(n=>Un(WE(n)).map(s=>zE(s,t))),VE=e=>t=>QT(t,e).map(n=>Q$(t,n,WE(n))),ZT=(e,t,n,s)=>{if(n.collapsed||!e.forall(XT))return C.none();if(t.isSameTable){const r=e.bind(VE(s));return C.some({start:r,end:r})}else{const r=ib(n.startContainer,s),o=ib(n.endContainer,s),a=r.bind(eM(s)).bind(VE(s)),u=o.bind(tM(s)).bind(VE(s));return C.some({start:a,end:u})}},JT=(e,t)=>oo(e,n=>Ct(n,t)),qE=e=>Wn(JT(e.cells,e.rng.start),JT(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),nM=(e,t,n)=>e.exists(s=>Z$(s,n)&&oE(s.start,t)),ex=(e,t)=>{const{startTable:n,endTable:s}=t,r=e.cloneRange();return n.each(o=>r.setStartAfter(o.dom)),s.each(o=>r.setEndBefore(o.dom)),r},sM=(e,t,n,s)=>ZT(e,t,n,s).bind(({start:r,end:o})=>r.or(o)).bind(r=>{const{isSameTable:o}=t,a=qE(r).getOr([]);if(o&&r.cells.length===a.length)return C.some(Pm.fullTable(r.table));if(a.length>0){if(o)return C.some(Pm.partialTable(a,C.none()));{const u=ex(n,t);return C.some(Pm.partialTable(a,C.some({...t,rng:u})))}}else return C.none()}),rM=(e,t,n,s)=>ZT(e,t,n,s).bind(({start:r,end:o})=>{const a=r.bind(qE).getOr([]),u=o.bind(qE).getOr([]);if(a.length>0&&u.length>0){const d=ex(n,t);return C.some(Pm.multiTable(a,u,d))}else return C.none()}),oM=(e,t)=>{const n=Y$(e),s=J$(t,n),r=X$(t,n);return nM(s,t,n)?s.map(o=>Pm.singleCellTable(t,o.start)):r.isMultiTable?rM(s,r,t,n):sM(s,r,t,n)},tx=e=>te(e,t=>{An(t,"contenteditable"),Di(t)}),iM=(e,t)=>C.from(e.dom.getParent(t,e.dom.isBlock)).map(D.fromDom),aM=(e,t,n)=>{n.each(s=>{t?$t(s):(Di(s),e.selection.setCursorLocation(s.dom,0))})},KE=(e,t,n,s)=>{const r=n.cloneRange();s?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),jE(e,r,t,!1).each(o=>o())},nx=e=>{const t=Uu(e),n=D.fromDom(e.selection.getNode());jc(n.dom)&&en(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&At(t,s=>Ct(s,n))&&En(n,"data-mce-selected","1")},sx=(e,t,n)=>C.some(()=>{const s=e.selection.getRng(),r=n.bind(({rng:o,isStartInTable:a})=>{const u=iM(e,a?o.endContainer:o.startContainer);o.deleteContents(),aM(e,a,u.filter(en));const d=a?t[0]:t[t.length-1];return KE(e,d,s,a),en(d)?C.none():C.some(a?t.slice(1):t.slice(0,-1))}).getOr(t);tx(r),nx(e)}),lM=(e,t,n,s)=>C.some(()=>{const r=e.selection.getRng(),o=t[0],a=n[n.length-1];KE(e,o,r,!0),KE(e,a,r,!1);const u=en(o)?t:t.slice(1),d=en(a)?n:n.slice(0,-1);tx(u.concat(d)),s.deleteContents(),nx(e)}),jE=(e,t,n,s=!0)=>C.some(()=>{YT(e,t,n,s)}),cM=(e,t)=>C.some(()=>Jl(e,!1,t)),uM=(e,t,n)=>oM(t,n).bind(s=>s.fold(_e(jE,e),_e(cM,e),_e(sx,e),_e(lM,e))),fM=(e,t)=>ab(e,t),dM=(e,t,n,s)=>GE(t,s).fold(()=>uM(e,t,n),r=>fM(e,r)),mM=(e,t,n)=>{const s=D.fromDom(e.getBody()),r=e.selection.getRng();return n.length!==0?sx(e,n,C.none()):dM(e,s,r,t)},rx=(e,t)=>Zt(ji(t,e),qo),GE=(e,t)=>Zt(ji(t,e),jf("caption")),hM=(e,t,n,s,r)=>Mu(n,e.getBody(),r).bind(o=>rx(t,D.fromDom(o.getNode())).bind(a=>Ct(a,s)?C.none():C.some(Ke))),ab=(e,t)=>C.some(()=>{Di(t),e.selection.setCursorLocation(t.dom,0)}),pM=(e,t,n,s)=>g(e.dom).bind(r=>E(e.dom).map(o=>t?n.isEqual(r)&&s.isEqual(o):n.isEqual(o)&&s.isEqual(r))).getOr(!0),gM=(e,t)=>ab(e,t),bM=(e,t,n)=>GE(e,D.fromDom(n.getNode())).fold(()=>C.some(Ke),s=>zn(!Ct(s,t),Ke)),vM=(e,t,n,s,r)=>Mu(n,e.getBody(),r).fold(()=>C.some(Ke),o=>pM(s,n,r,o)?gM(e,s):bM(t,s,o)),_M=(e,t,n,s)=>{const r=j.fromRangeStart(e.selection.getRng());return rx(n,s).bind(o=>en(o)?ab(e,o):hM(e,n,t,o,r))},yM=(e,t,n,s)=>{const r=j.fromRangeStart(e.selection.getRng());return en(s)?ab(e,s):vM(e,n,t,s,r)},ox=(e,t)=>e?ST(t):AT(t),CM=(e,t)=>{const n=j.fromRangeStart(e.selection.getRng());return ox(t,n)||Hs(t,e.getBody(),n).exists(s=>ox(t,s))},EM=(e,t,n)=>{const s=D.fromDom(e.getBody());return GE(s,n).fold(()=>_M(e,t,s,n).orThunk(()=>zn(CM(e,t),Ke)),r=>yM(e,t,s,r))},YE=(e,t)=>{const n=D.fromDom(e.selection.getStart(!0)),s=Uu(e);return e.selection.isCollapsed()&&s.length===0?EM(e,t,n):mM(e,n,s)},tc=(e,t)=>{let n=t;for(;n&&n!==e;){if(pr(n)||Mt(n))return n;n=n.parentNode}return null},wM=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],SM=ie.each,XE=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(o,a)=>{if(o.nodeName!==a.nodeName||o.nodeType!==a.nodeType)return!1;const u=p=>{const v={};return SM(t.getAttribs(p),_=>{const y=_.nodeName.toLowerCase();y!=="style"&&!r(y)&&(v[y]=t.getAttrib(p,y))}),v},d=(p,v)=>{for(const _ in p)if(Ye(p,_)){const y=v[_];if(yt(y)||p[_]!==y)return!1;delete v[_]}for(const _ in v)if(Ye(v,_))return!1;return!0};return ye(o)&&ye(a)&&(!d(u(o),u(a))||!d(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(a,"style"))))?!1:!Er(o)&&!Er(a)},r=o=>At(wM,a=>On(o,a))||n.has(o);return{compare:s,isAttributeInternal:r}},AM=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},ix=(e,t,n,s)=>{const r=n.name;for(let o=0,a=e.length;o<a;o++){const u=e[o];if(u.name===r){const d=s.nodes[r];d?d.nodes.push(n):s.nodes[r]={filter:u,nodes:[n]}}}if(n.attributes)for(let o=0,a=t.length;o<a;o++){const u=t[o],d=u.name;if(d in n.attributes.map){const p=s.attributes[d];p?p.nodes.push(n):s.attributes[d]={filter:u,nodes:[n]}}}},TM=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&AM(n,r=>{ix(e,t,r,s)}),s},ax=(e,t)=>{const n=(s,r)=>{It(s,o=>{const a=Qn(o.nodes);te(o.filter.callbacks,u=>{for(let d=a.length-1;d>=0;d--){const p=a[d];(!(r?p.attr(o.filter.name)!==void 0:p.name===o.filter.name)||ft(p.parent))&&a.splice(d,1)}a.length>0&&u(a,o.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},lx=(e,t,n,s={})=>{const r=TM(e,t,n);ax(r,s)},QE=(e,t,n)=>{if(e.insert&&t(n)){const s=new Ns("br",1);s.attr("data-mce-bogus","1"),n.empty().append(s)}else n.empty().append(new Ns("#text",3)).value=xn},xM=e=>{var t;return cx(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===xn},cx=(e,t)=>{const n=e==null?void 0:e.firstChild;return le(n)&&n===e.lastChild&&n.name===t},NM=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Lm=(e,t,n,s)=>s.isEmpty(t,n,r=>NM(e,r)),RM=(e,t)=>le(e)&&(t(e)||e.name==="br"),ZE=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const r of s)n&&!t.isValidChild(n.name,r.name)&&ZE(r,t,n);e.unwrap()}},JE=(e,t,n=Ke)=>{const s=t.getTextBlockElements(),r=t.getNonEmptyElements(),o=t.getWhitespaceElements(),a=ie.makeMap("tr,td,th,tbody,thead,tfoot,table"),u=new Set;for(let d=0;d<e.length;d++){const p=e[d];let v,_,y;if(!p.parent||u.has(p))continue;if(s[p.name]&&p.parent.name==="li"){let x=p.next;for(;x&&s[x.name];){x.name="li",u.add(x),p.parent.insert(x,p.parent);x=x.next}p.unwrap();continue}const T=[p];for(v=p.parent;v&&!t.isValidChild(v.name,p.name)&&!a[v.name];v=v.parent)T.push(v);if(v&&T.length>1)if(t.isValidChild(v.name,p.name)){T.reverse(),_=T[0].clone(),n(_);let x=_;for(let S=0;S<T.length-1;S++){t.isValidChild(x.name,T[S].name)?(y=T[S].clone(),n(y),x.append(y)):y=x;for(let N=T[S].firstChild;N&&N!==T[S+1];){const B=N.next;y.append(N),N=B}x=y}Lm(t,r,o,_)?v.insert(p,T[0],!0):(v.insert(_,T[0],!0),v.insert(p,_)),v=T[0],(Lm(t,r,o,v)||cx(v,"br"))&&v.empty().remove()}else ZE(p,t);else if(p.parent){if(p.name==="li"){let x=p.prev;if(x&&(x.name==="ul"||x.name==="ol")){x.append(p);continue}if(x=p.next,x&&(x.name==="ul"||x.name==="ol")&&x.firstChild){x.insert(p,x.firstChild,!0);continue}const S=new Ns("ul",1);n(S),p.wrap(S);continue}if(t.isValidChild(p.parent.name,"div")&&t.isValidChild("div",p.name)){const x=new Ns("div",1);n(x),p.wrap(x)}else ZE(p,t)}}},OM=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},ux=(e,t,n=t.parent)=>n&&e.children[t.name]&&!e.isValidChild(n.name,t.name)?!0:!!(n&&t.name==="a"&&OM(n,"a")),kM=(e,t,n,s)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,s),r},DM=e=>{const t=j.fromRangeStart(e),n=j.fromRangeEnd(e),s=e.commonAncestorContainer;return Hs(!1,s,n).map(r=>!qr(t,n,s)&&qr(t,r,s)?kM(t.container(),t.offset(),r.container(),r.offset()):e).getOr(e)},ew=e=>e.collapsed?e:DM(e),PM=e=>le(e.firstChild)&&e.firstChild===e.lastChild,LM=e=>e.name==="br"||e.value===xn,BM=(e,t)=>e.getBlockElements()[t.name]&&PM(t)&&LM(t.firstChild),IM=(e,t)=>{const n=e.getNonEmptyElements();return le(t)&&(t.isEmpty(n)||BM(e,t))},$M=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),IM(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},MM=e=>{var t,n;const s=e.firstChild,r=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),r&&r.id==="mce_marker"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),e},FM=(e,t,n)=>{const s=t.serialize(n),r=e.createFragment(s);return MM(r)},UM=e=>{var t;return Be((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},HM=e=>e.data===xn||Dt(e),WM=e=>le(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&HM(e.firstChild),zM=e=>!e.firstChild||WM(e),VM=e=>e.length>0&&zM(e[e.length-1])?e.slice(0,-1):e,tw=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},qM=(e,t)=>!!tw(e,t),KM=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},jM=(e,t)=>{const n=j.before(e),r=Kr(t).next(n);return r?r.toRange():null},fx=(e,t)=>{const n=j.after(e),r=Kr(t).prev(n);return r?r.toRange():null},GM=(e,t,n,s)=>{const r=KM(e,s),o=e.parentNode;return o&&(o.insertBefore(r[0],e),ie.each(t,a=>{o.insertBefore(a,e)}),o.insertBefore(r[1],e),o.removeChild(e)),fx(t[t.length-1],n)},YM=(e,t,n)=>{const s=e.parentNode;return s&&ie.each(t,r=>{s.insertBefore(r,e)}),jM(e,n)},XM=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),fx(t[0],n)),QM=(e,t,n,s)=>{const r=FM(t,e,s),o=tw(t,n.startContainer),a=VM(UM(r.firstChild)),u=1,d=2,p=t.getRoot(),v=_=>{const y=j.fromRangeStart(n),T=Kr(t.getRoot()),x=_===u?T.prev(y):T.next(y),S=x==null?void 0:x.getNode();return S?tw(t,S)!==o:!0};return o?v(u)?YM(o,a,p):v(d)?XM(o,a,p,t):GM(o,a,p,n):null},ZM=["pre"],JM=(e,t,n,s)=>{var r;const o=t.firstChild,a=t.lastChild,u=a.attr("data-mce-type")==="bookmark"?a.prev:a,d=o===u,p=St(ZM,o.name);if(d&&p){const v=o.attr("contenteditable")!=="false",_=((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName.toLowerCase())===o.name,y=C.from(tc(s,n)).forall(pr);return v&&_&&y}else return!1},nw=jc,eF=(e,t,n)=>{if(le(n)){const s=e.getParent(t.endContainer,nw);return n===s&&oE(D.fromDom(n),t)}else return!1},tF=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const r=n.firstChild,o=n.lastChild;!r||r===o&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},nF=(e,t)=>{C.from(e.getParent(t,"td,th")).map(D.fromDom).each(bd)},sF=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const r=e.getBody(),o=XE(e);ie.each(s.select("*[data-mce-fragment]"),a=>{if(le(n[a.nodeName.toLowerCase()])&&XI(s,a)){for(let d=a.parentElement;le(d)&&d!==r&&!ZI(s,a,d);d=d.parentElement)if(o.compare(d,a)){s.remove(a,!0);break}}})}},rF=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},oF=e=>{ie.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},iF=e=>!!e.getAttribute("data-mce-fragment"),aF=(e,t)=>le(t)&&!e.schema.getVoidElements()[t.nodeName],lF=(e,t)=>{var n,s,r;let o;const a=e.dom,u=e.selection;if(!t)return;u.scrollIntoView(t);const d=tc(e.getBody(),t);if(d&&a.getContentEditable(d)==="false"){a.remove(t),u.select(d);return}let p=a.createRng();const v=t.previousSibling;if(se(v)){p.setStart(v,(s=(n=v.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const T=t.nextSibling;se(T)&&(v.appendData(T.data),(r=T.parentNode)===null||r===void 0||r.removeChild(T))}else p.setStartBefore(t),p.setEndBefore(t);const _=T=>{let x=j.fromRangeStart(T);return x=Kr(e.getBody()).next(x),x==null?void 0:x.toRange()},y=a.getParent(t,a.isBlock);a.remove(t),y&&a.isEmpty(y)&&(Mo(D.fromDom(y)),p.setStart(y,0),p.setEnd(y,0),!nw(y)&&!iF(y)&&(o=_(p))?(p=o,a.remove(y)):a.add(y,a.create("br",{"data-mce-bogus":"1"}))),u.setRng(p)},cF=e=>{const t=e.dom,n=ew(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,nw);eF(t,n,s)?jE(e,n,D.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&se(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},uF=(e,t,n)=>{var s,r;const o=e.selection,a=e.dom,u=e.parser,d=n.merge,p=Ma({validate:!0},e.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,v);let _=o.getRng();const y=_.startContainer,T=e.getBody();y===T&&o.isCollapsed()&&a.isBlock(T.firstChild)&&aF(e,T.firstChild)&&a.isEmpty(T.firstChild)&&(_=a.createRng(),_.setStart(T.firstChild,0),_.setEnd(T.firstChild,0),o.setRng(_)),o.isCollapsed()||cF(e);const x=o.getNode(),S={context:x.nodeName.toLowerCase(),data:n.data,insert:!0},N=u.parse(t,S);if(n.paste===!0&&$M(e.schema,N)&&qM(a,x))return _=QM(p,a,o.getRng(),N),_&&o.setRng(_),t;n.paste===!0&&JM(a,N,x,e.getBody())&&((s=N.firstChild)===null||s===void 0||s.unwrap()),rF(N);let B=N.lastChild;if(B&&B.attr("id")==="mce_marker"){const L=B;for(B=B.prev;B;B=B.walk(!0))if(B.type===3||!a.isBlock(B.name)){B.parent&&e.schema.isValidChild(B.parent.name,"span")&&B.parent.insert(L,B,B.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(x),!S.invalid)t=p.serialize(N),tF(e,t,x);else{e.selection.setContent(v);let L=o.getNode(),I;const W=e.getBody();for(vl(L)?L=I=W:I=L;I&&I!==W;)L=I,I=I.parentNode;t=L===W?W.innerHTML:a.getOuterHTML(L);const G=u.parse(t);for(let F=G;F;F=F.walk())if(F.attr("id")==="mce_marker"){F.replace(N);break}const fe=N.children(),oe=(r=N.parent)!==null&&r!==void 0?r:G;N.unwrap();const V=Be(fe,F=>ux(e.schema,F,oe));JE(V,e.schema),lx(u.getNodeFilters(),u.getAttributeFilters(),G),t=p.serialize(G),L===W?a.setHTML(W,t):a.setOuterHTML(L,t)}return sF(e,d),lF(e,a.get("mce_marker")),oF(e.getBody()),nF(a,o.getStart()),mp(e.schema,e.getBody(),o.getStart()),t},lb=e=>e instanceof Ns,fF=e=>{Zl(e)&&g(e.getBody()).each(t=>{const n=t.getNode(),s=qn(n)?g(n).getOr(t):t;e.selection.setRng(s.toRange())})},sw=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&fF(e)},dF=(e,t,n,s)=>{if(n.length===0||/^\s+$/.test(n)){const r='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");const o=ws(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=r,n=e.dom.createHTML(o,Fl(e),n)):n||(n=r),sw(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Ma({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=Hr(D.fromDom(t))?n:ie.trim(n);return sw(e,r,s.no_selection),{content:r,html:r}}},mF=(e,t,n,s)=>{lx(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=Ma({validate:!1},e.schema).serialize(n),o=Hr(D.fromDom(t))?r:ie.trim(r);return sw(e,o,s.no_selection),{content:n,html:o}},hF=(e,t,n)=>C.from(e.getBody()).map(s=>lb(t)?mF(e,s,t,n):dF(e,s,t,n)).getOr({content:t,html:lb(n.content)?"":n.content}),pF=(e,t)=>Vc(e,t).isSome(),dx=e=>je(e)?e:pt,gF=(e,t,n)=>{let s=e.dom;const r=dx(n);for(;s.parentNode;){s=s.parentNode;const o=D.fromDom(s),a=t(o);if(a.isSome())return a;if(r(o))break}return C.none()},rw=(e,t,n)=>{const s=t(e),r=dx(n);return s.orThunk(()=>r(e)?C.none():gF(e,t,r))},ow=fE,mx=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let r=0;r<s.length;r++){const o=s[r];if(wr(o)&&o.inherit===!1&&e.dom.is(t,o.selector))return!0}return!1},iw=(e,t,n,s,r)=>{const o=e.dom.getRoot();if(t===o)return!1;const a=e.dom.getParent(t,u=>mx(e,u,n)?!0:u.parentNode===o||!!ai(e,u,n,s,!0));return!!ai(e,a,n,s,r)},cb=(e,t,n)=>Rn(n)&&ow(t,n.inline)||ii(n)&&ow(t,n.block)?!0:wr(n)?ye(t)&&e.is(t,n.selector):!1,hx=(e,t,n,s,r,o)=>{const a=n[s],u=s==="attributes";if(je(n.onmatch))return n.onmatch(t,n,s);if(a){if(Ch(a)){for(let d=0;d<a.length;d++)if(u?e.getAttrib(t,a[d]):Kg(e,t,a[d]))return!0}else for(const d in a)if(Ye(a,d)){const p=u?e.getAttrib(t,d):Kg(e,t,d),v=$a(a[d],o),_=ft(p)||la(p);if(_&&ft(v))continue;if(r&&_&&!n.exact||(!r||n.exact)&&!ow(p,dE(v,d)))return!1}}return!0},ai=(e,t,n,s,r)=>{const o=e.formatter.get(n),a=e.dom;if(o&&ye(t))for(let u=0;u<o.length;u++){const d=o[u];if(cb(e.dom,t,d)&&hx(a,t,d,"attributes",r,s)&&hx(a,t,d,"styles",r,s)){const p=d.classes;if(p){for(let v=0;v<p.length;v++)if(!e.dom.hasClass(t,$a(p[v],s)))return}return d}}},aw=(e,t,n,s,r)=>{if(s)return iw(e,s,t,n,r);if(s=e.selection.getNode(),iw(e,s,t,n,r))return!0;const o=e.selection.getStart();return!!(o!==s&&iw(e,o,t,n,r))},bF=(e,t,n)=>{const s=[],r={},o=e.selection.getStart();return e.dom.getParent(o,a=>{for(let u=0;u<t.length;u++){const d=t[u];!r[d]&&ai(e,a,d,n)&&(r[d]=!0,s.push(d))}},e.dom.getRoot()),s},vF=(e,t)=>{const n=r=>Ct(r,D.fromDom(e.getBody())),s=(r,o)=>ai(e,r.dom,o)?C.some(o):C.none();return C.from(e.selection.getStart(!0)).bind(r=>rw(D.fromDom(r),o=>Po(t,a=>s(o,a)),n)).getOrNull()},_F=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n){const r=e.selection.getStart(),o=jg(s,r);for(let a=n.length-1;a>=0;a--){const u=n[a];if(!wr(u))return!0;for(let d=o.length-1;d>=0;d--)if(s.is(o[d],u.selector))return!0}}return!1},yF=(e,t,n)=>Vt(n,(s,r)=>{const o=yL(e,r);return e.formatter.matchNode(t,r,{},o)?s.concat([r]):s},[]),qu=Pn,CF=(e,t)=>e.importNode(t,!0),EF=e=>{const t=[];let n=e;for(;n;){if(se(n)&&n.data!==qu||n.childNodes.length>1)return[];ye(n)&&t.push(n),n=n.firstChild}return t},px=e=>EF(e).length>0,gx=e=>{if(e){const t=new gn(e,e);for(let n=t.current();n;n=t.next())if(se(n))return n}return null},lw=e=>{const t=D.fromTag("span");return dr(t,{id:R,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&an(t,D.fromText(qu)),t},wF=e=>{const t=gx(e);return t&&t.data.charAt(0)===qu&&t.deleteData(0,1),t},cw=(e,t,n=!0)=>{const s=e.dom,r=e.selection;if(px(t))Jl(e,!1,D.fromDom(t),n);else{const o=r.getRng(),a=s.getParent(t,s.isBlock),u=o.startContainer,d=o.startOffset,p=o.endContainer,v=o.endOffset,_=wF(t);s.remove(t,!0),u===_&&d>0&&o.setStart(_,d-1),p===_&&v>0&&o.setEnd(_,v-1),a&&s.isEmpty(a)&&Di(D.fromDom(a)),r.setRng(o)}},uw=(e,t,n=!0)=>{const s=e.dom,r=e.selection;if(t)cw(e,t,n);else if(t=$(e.getBody(),r.getStart()),!t)for(;t=s.get(R);)cw(e,t,!1)},SF=(e,t,n)=>{var s,r;const o=e.dom,a=o.getParent(n,_e(cE,e.schema));a&&o.isEmpty(a)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(R_(D.fromDom(n)),o.isEmpty(n)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):o.insertAfter(t,n))},bx=(e,t)=>(e.appendChild(t),t),vx=(e,t)=>{var n;const s=Xn(e,(o,a)=>bx(o,a.cloneNode(!1)),t),r=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return bx(s,r.createTextNode(qu))},AF=(e,t,n,s,r,o)=>{const a=e.formatter,u=e.dom,d=Be(ds(a.get()),_=>_!==s&&!Ln(_,"removeformat")),p=yF(e,n,d);if(Be(p,_=>!CL(e,_,s)).length>0){const _=n.cloneNode(!1);return u.add(t,_),a.remove(s,r,_,o),u.remove(_),C.some(_)}else return C.none()},TF=(e,t,n)=>{let s;const r=e.selection,o=e.formatter.get(t);if(!o)return;const a=r.getRng();let u=a.startOffset;const p=a.startContainer.nodeValue;s=$(e.getBody(),r.getStart());const v=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(p&&u>0&&u<p.length&&v.test(p.charAt(u))&&v.test(p.charAt(u-1))){const _=r.getBookmark();a.collapse(!0);let y=Yl(e.dom,a,o);y=eb(y),e.formatter.apply(t,n,y),r.moveToBookmark(_)}else{let _=s?gx(s):null;(!s||(_==null?void 0:_.data)!==qu)&&(s=CF(e.getDoc(),lw(!0).dom),_=s.firstChild,a.insertNode(s),u=1),e.formatter.apply(t,n,s),r.setCursorLocation(_,u)}},xF=(e,t,n,s)=>{const r=e.dom,o=e.selection;let a=!1;const u=e.formatter.get(t);if(!u)return;const d=o.getRng(),p=d.startContainer,v=d.startOffset;let _=p;se(p)&&(v!==p.data.length&&(a=!0),_=_.parentNode);const y=[];let T;for(;_;){if(ai(e,_,t,n,s)){T=_;break}_.nextSibling&&(a=!0),y.push(_),_=_.parentNode}if(!!T)if(a){const x=o.getBookmark();d.collapse(!0);let S=Yl(r,d,u,!0);S=eb(S),e.formatter.remove(t,n,S,s),o.moveToBookmark(x)}else{const x=$(e.getBody(),T),S=lw(!1).dom;SF(e,S,x!=null?x:T);const N=AF(e,S,T,t,n,s),B=vx(y.concat(N.toArray()),S);x&&cw(e,x,!1),o.setCursorLocation(B,1),r.isEmpty(T)&&r.remove(T)}},NF=(e,t)=>{const n=e.selection,s=e.getBody();uw(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===qu&&uw(e,$(s,n.getStart())),(t===37||t===39)&&uw(e,$(s,n.getStart()))},RF=e=>{e.on("mouseup keydown",t=>{NF(e,t.keyCode)})},OF=(e,t)=>{const n=lw(!1),s=vx(t,n.dom);return gs(D.fromDom(e),n),$t(D.fromDom(e)),j(s,0)},kF=(e,t)=>{const n=e.schema.getTextInlineElements();return Ye(n,Pt(t))&&!P(t.dom)&&!Oi(t.dom)},DF=e=>P(e.dom)&&px(e.dom),Bm={},_x=Dn(["pre"]),PF=(e,t)=>{Bm[e]||(Bm[e]=[]),Bm[e].push(t)},LF=(e,t)=>{Ye(Bm,e)&&te(Bm[e],n=>{n(t)})};PF("pre",e=>{const t=e.selection.getRng(),n=r=>o=>{const a=o.previousSibling;return _x(a)&&St(r,a)},s=(r,o)=>{const a=D.fromDom(o),u=Mr(a).dom;$t(a),xi(D.fromDom(r),[D.fromTag("br",u),D.fromTag("br",u),...He(a)])};if(!t.collapsed){const r=e.selection.getSelectedBlocks(),o=Be(Be(r,_x),n(r));te(o,a=>{s(a.previousSibling,a)})}});const yx=["fontWeight","fontStyle","color","fontSize","fontFamily"],BF=e=>Ze(e.styles)&&At(ds(e.styles),t=>St(yx,t)),IF=e=>Zt(e,t=>Rn(t)&&t.inline==="span"&&BF(t)),Cx=(e,t)=>{const n=e.get(t);return We(n)?IF(n):C.none()},Ex=(e,t)=>h(t,j.fromRangeStart(e)).isNone(),wx=(e,t)=>l(t,j.fromRangeEnd(e)).exists(n=>!Dt(n.getNode())||l(t,n).isSome())===!1,Sx=e=>t=>tp(t)&&e.getContentEditableParent(t)!=="false",$F=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return Ex(n,t[0])&&wx(n,t[0])?t:[];{const s=Un(t).filter(a=>Ex(n,a)).toArray(),r=ao(t).filter(a=>wx(n,a)).toArray(),o=t.slice(1,-1);return s.concat(o).concat(r)}},MF=e=>Be($F(e),Sx(e.dom)),Ax=e=>Be(e.getSelectedBlocks(),Sx(e.dom)),fw=ie.each,dw=e=>ye(e)&&!Er(e)&&!P(e)&&!Oi(e),Tx=(e,t)=>{for(let n=e;n;n=n[t]){if(se(n)&&Lr(n.data))return e;if(ye(n)&&!Er(n))return n}return e},xx=(e,t,n)=>{const s=XE(e),r=ye(t)&&Gl(t),o=ye(n)&&Gl(n);if(r&&o){const a=Tx(t,"previousSibling"),u=Tx(n,"nextSibling");if(s.compare(a,u)){for(let d=a.nextSibling;d&&d!==u;){const p=d;d=d.nextSibling,a.appendChild(p)}return e.dom.remove(u),ie.each(ie.grep(u.childNodes),d=>{a.appendChild(d)}),a}}return n},Nx=(e,t,n,s)=>{var r;if(s&&t.merge_siblings!==!1){const o=(r=xx(e,fA(s),s))!==null&&r!==void 0?r:s;xx(e,o,fA(o,!0))}},FF=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";fw(e.select(s,n),r=>{dw(r)&&Gl(r)&&fw(t.styles,(o,a)=>{e.setStyle(r,a,"")})})}},mw=(e,t,n)=>{fw(e.childNodes,s=>{dw(s)&&(t(s)&&n(s),s.hasChildNodes()&&mw(s,t,n))})},UF=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},Rx=(e,t)=>n=>!!(n&&Kg(e,n,t)),Ox=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),UF(e,s)},nc=sr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),HF=/^(src|href|style)$/,hw=ie.each,ub=fE,WF=e=>/^(TR|TH|TD)$/.test(e.nodeName),kx=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Dx=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(ye(s)){const o=s.childNodes.length-1;!n&&r&&r--,s=s.childNodes[r>o?o:r]}return se(s)&&n&&r>=s.data.length&&(s=new gn(s,e.getBody()).next()||s),se(s)&&!n&&r===0&&(s=new gn(s,e.getBody()).prev()||s),s},Px=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return WF(e)&&s?e.nodeName==="TR"&&s[n]||s:e},pw=(e,t,n,s)=>{var r;const o=e.create(n,s);return(r=t.parentNode)===null||r===void 0||r.insertBefore(o,t),o.appendChild(t),o},Lx=(e,t,n,s,r)=>{const o=D.fromDom(t),a=D.fromDom(e.create(s,r)),u=n?Le(o):Q(o);return xi(a,u),n?(gs(o,a),$o(a,o)):(Ys(o,a),an(a,o)),a.dom},zF=(e,t)=>t.links&&e.nodeName==="A",Bx=(e,t,n)=>{const s=t.parentNode;let r;const o=e.dom,a=ws(e);ii(n)&&s===o.getRoot()&&(!n.list_block||!ub(t,n.list_block))&&te(Qn(t.childNodes),u=>{Hu(e,a,u.nodeName.toLowerCase())?r?r.appendChild(u):(r=pw(o,u,a),o.setAttribs(r,Fl(e))):r=null}),!(SL(n)&&!ub(n.inline,t))&&o.remove(t,!0)},Ix=(e,t,n)=>fn(e)?{name:t,value:null}:{name:e,value:$a(t,n)},$x=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Mx=(e,t,n,s,r)=>{let o=!1;hw(n.styles,(a,u)=>{const{name:d,value:p}=Ix(u,a,s),v=dE(p,d);(n.remove_similar||ht(p)||!ye(r)||ub(Kg(e,r,d),v))&&e.setStyle(t,d,""),o=!0}),o&&$x(e,t)},VF=(e,t,n)=>{t==="removeformat"?te(Ax(e.selection),s=>{te(yx,r=>e.dom.setStyle(s,r,"")),$x(e.dom,s)}):Cx(e.formatter,t).each(s=>{te(Ax(e.selection),r=>Mx(e.dom,r,s,n,null))})},Fx=(e,t,n,s,r)=>{const o=e.dom,a=XE(e),u=e.schema;if(Rn(t)&&wa(u,t.inline)&&Sl(u,s)&&s.parentElement===e.getBody())return Bx(e,s,t),nc.removed();if(!t.ceFalseOverride&&s&&o.getContentEditableParent(s)==="false"||s&&!cb(o,s,t)&&!zF(s,t))return nc.keep();const d=s,p=t.preserve_attributes;if(Rn(t)&&t.remove==="all"&&We(p)){const v=Be(o.getAttribs(d),_=>St(p,_.name.toLowerCase()));if(o.removeAllAttribs(d),te(v,_=>o.setAttrib(d,_.name,_.value)),v.length>0)return nc.rename("span")}if(t.remove!=="all"){Mx(o,d,t,n,r),hw(t.attributes,(_,y)=>{const{name:T,value:x}=Ix(y,_,n);if(t.remove_similar||ht(x)||!ye(r)||ub(o.getAttrib(r,T),x)){if(T==="class"){const S=o.getAttrib(d,T);if(S){let N="";if(te(S.split(/\s+/),B=>{/mce\-\w+/.test(B)&&(N+=(N?" ":"")+B)}),N){o.setAttrib(d,T,N);return}}}if(HF.test(T)&&d.removeAttribute("data-mce-"+T),T==="style"&&Dn(["li"])(d)&&o.getStyle(d,"list-style-type")==="none"){d.removeAttribute(T),o.setStyle(d,"list-style-type","none");return}T==="class"&&d.removeAttribute("className"),d.removeAttribute(T)}}),hw(t.classes,_=>{_=$a(_,n),(!ye(r)||o.hasClass(r,_))&&o.removeClass(d,_)});const v=o.getAttribs(d);for(let _=0;_<v.length;_++){const y=v[_].nodeName;if(!a.isAttributeInternal(y))return nc.keep()}}return t.remove!=="none"?(Bx(e,d,t),nc.removed()):nc.keep()},Im=(e,t,n,s,r)=>Fx(e,t,n,s,r).fold(pt,o=>(e.dom.rename(s,o),!0),Bt),qF=(e,t,n,s,r)=>{let o;return t.parentNode&&te(jg(e.dom,t.parentNode).reverse(),a=>{if(!o&&ye(a)&&a.id!=="_start"&&a.id!=="_end"){const u=ai(e,a,n,s,r);u&&u.split!==!1&&(o=a)}}),o},KF=(e,t,n,s)=>Fx(e,t,n,s,s).fold(ae(s),r=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,r)),ae(null)),jF=(e,t,n,s,r,o,a,u)=>{var d,p;let v,_;const y=e.dom;if(n){const T=n.parentNode;for(let x=s.parentNode;x&&x!==T;x=x.parentNode){let S=y.clone(x,!1);for(let N=0;N<t.length&&(S=KF(e,t[N],u,S),S!==null);N++);S&&(v&&S.appendChild(v),_||(_=S),v=S)}o&&(!a.mixed||!y.isBlock(n))&&(s=(d=y.split(n,s))!==null&&d!==void 0?d:s),v&&_&&((p=r.parentNode)===null||p===void 0||p.insertBefore(v,r),_.appendChild(r),Rn(a)&&Nx(e,a,u,v))}return s},Ux=(e,t,n,s,r)=>{const o=e.formatter.get(t),a=o[0],u=e.dom,d=e.selection,p=S=>{const N=qF(e,S,t,n,r);return jF(e,o,N,S,S,!0,a,n)},v=S=>Er(S)&&ye(S)&&(S.id==="_start"||S.id==="_end"),_=S=>At(o,N=>Im(e,N,n,S,S)),y=S=>{const N=Qn(S.childNodes),L=_(S)||At(o,G=>cb(u,S,G)),I=S.parentNode;if(!L&&le(I)&&hE(a)&&_(I),a.deep&&N.length)for(let G=0;G<N.length;G++)y(N[G]);te(["underline","line-through","overline"],G=>{ye(S)&&e.dom.getStyle(S,"text-decoration")===G&&S.parentNode&&mA(u,S.parentNode)===G&&Im(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:G}},void 0,S)})},T=S=>{const N=u.get(S?"_start":"_end");if(N){let B=N[S?"firstChild":"lastChild"];return v(B)&&(B=B[S?"firstChild":"lastChild"]),se(B)&&B.data.length===0&&(B=S?N.previousSibling||N.nextSibling:N.nextSibling||N.previousSibling),u.remove(N,!0),B}else return null},x=S=>{let N,B,L=Yl(u,S,o,S.collapsed);if(a.split){if(L=eb(L),N=Dx(e,L,!0),B=Dx(e,L),N!==B){if(N=Px(N,!0),B=Px(B,!1),kx(u,N,B)){const W=C.from(N.firstChild).getOr(N);p(Lx(u,W,!0,"span",{id:"_start","data-mce-type":"bookmark"})),T(!0);return}if(kx(u,B,N)){const W=C.from(B.lastChild).getOr(B);p(Lx(u,W,!1,"span",{id:"_end","data-mce-type":"bookmark"})),T(!1);return}N=pw(u,N,"span",{id:"_start","data-mce-type":"bookmark"}),B=pw(u,B,"span",{id:"_end","data-mce-type":"bookmark"});const I=u.createRng();I.setStartAfter(N),I.setEndBefore(B),Am(u,I,W=>{te(W,G=>{!Er(G)&&!Er(G.parentNode)&&p(G)})}),p(N),p(B),N=T(!0),B=T()}else N=B=p(N);L.startContainer=N.parentNode?N.parentNode:N,L.startOffset=u.nodeIndex(N),L.endContainer=B.parentNode?B.parentNode:B,L.endOffset=u.nodeIndex(B)+1}Am(u,L,I=>{te(I,y)})};if(s){if(qg(s)){const S=u.createRng();S.setStartBefore(s),S.setEndAfter(s),x(S)}else x(s);RA(e,t,s,n);return}!d.isCollapsed()||!Rn(a)||Uu(e).length?(uA(e,()=>aE(e,x),S=>Rn(a)&&aw(e,t,n,S)),e.nodeChanged()):xF(e,t,n,r),VF(e,t,n),RA(e,t,s,n)},Hx=ie.each,GF=(e,t,n,s)=>{const r=o=>{if(ye(o)&&ye(o.parentNode)&&Gl(o)){const a=mA(e,o.parentNode);e.getStyle(o,"color")&&a?e.setStyle(o,"text-decoration",a):e.getStyle(o,"text-decoration")===a&&e.setStyle(o,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ie.walk(s,r,"childNodes"),r(s))},YF=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const r=Rx(e,"fontSize");mw(s,o=>r(o)&&Gl(o),Ox(e,"backgroundColor",$a(t.styles.backgroundColor,n)))}},XF=(e,t,n,s)=>{if(Rn(t)&&(t.inline==="sub"||t.inline==="sup")){const r=Rx(e,"fontSize");mw(s,a=>r(a)&&Gl(a),Ox(e,"fontSize",""));const o=Be(e.select(t.inline==="sup"?"sub":"sup",s),Gl);e.remove(o,!0)}},QF=(e,t,n,s)=>{Hx(t,r=>{Rn(r)&&Hx(e.dom.select(r.inline,s),o=>{dw(o)&&Im(e,r,n,o,r.exact?o:null)}),FF(e.dom,r,s)})},ZF=(e,t,n,s,r)=>{const o=r.parentNode;ai(e,o,n,s)&&Im(e,t,s,r)||t.merge_with_parents&&o&&e.dom.getParent(o,a=>ai(e,a,n,s)?(Im(e,t,s,r),!0):!1)},fb=ie.each,JF=(e,t,n,s)=>{if(pg(e)&&Rn(t)&&n.parentNode){const r=Je(e.schema),o=pF(D.fromDom(n),a=>P(a.dom));return Lo(r,s)&&en(D.fromDom(n.parentNode),!1)&&!o}else return!1},Wx=(e,t,n,s)=>{if(fb(n.styles,(r,o)=>{e.setStyle(t,o,$a(r,s))}),n.styles){const r=e.getAttrib(t,"style");r&&e.setAttrib(t,"data-mce-style",r)}},zx=(e,t,n,s)=>{const r=e.formatter.get(t),o=r[0],a=!s&&e.selection.isCollapsed(),u=e.dom,d=e.selection,p=(x,S=o)=>{je(S.onformat)&&S.onformat(x,S,n,s),Wx(u,x,S,n),fb(S.attributes,(N,B)=>{u.setAttrib(x,B,$a(N,n))}),fb(S.classes,N=>{const B=$a(N,n);u.hasClass(x,B)||u.addClass(x,B)})},v=(x,S)=>{let N=!1;return fb(x,B=>wr(B)?u.getContentEditable(S)==="false"&&!B.ceFalseOverride||le(B.collapsed)&&B.collapsed!==a?!0:u.is(S,B.selector)&&!P(S)?(p(S,B),N=!0,!1):!0:!1),N},_=x=>{if(pe(x)){const S=u.create(x);return p(S),S}else return null},y=(x,S,N)=>{const B=[];let L=!0;const I=o.inline||o.block,W=_(I),G=V=>EL(o)&&ai(e,V,t,n),fe=(V,F,ge)=>{const Se=wL(o)&&cE(e.schema,V)&&Hu(e,F,I);return ge&&Se},oe=(V,F,ge,Se)=>{const Ne=V.nodeName.toLowerCase(),$e=Hu(e,I,Ne)&&Hu(e,F,I),ze=!N&&se(V)&&Ko(V.data),mt=P(V),ct=!Rn(o)||!x.isBlock(V);return(ge||Se)&&$e&&!ze&&!mt&&ct};Am(x,S,V=>{let F;const ge=Se=>{let Ne=!1,$e=L,ze=!1;const mt=Se.parentNode,ct=mt.nodeName.toLowerCase(),cn=x.getContentEditable(Se);le(cn)&&($e=L,L=cn==="true",Ne=!0,ze=dA(e,Se));const jn=L&&!Ne;if(Dt(Se)&&!JF(e,o,Se,ct)){F=null,ii(o)&&x.remove(Se);return}if(G(Se)){F=null;return}if(fe(Se,ct,jn)){const re=x.rename(Se,I);p(re),B.push(re),F=null;return}if(wr(o)){let re=v(r,Se);if(!re&&le(mt)&&hE(o)&&(re=v(r,mt)),!Rn(o)||re){F=null;return}}le(W)&&oe(Se,ct,jn,ze)?(F||(F=x.clone(W,!1),mt.insertBefore(F,Se),B.push(F)),ze&&Ne&&(L=$e),F.appendChild(Se)):(F=null,te(Qn(Se.childNodes),ge),Ne&&(L=$e),F=null)};te(V,ge)}),o.links===!0&&te(B,V=>{const F=ge=>{ge.nodeName==="A"&&p(ge,o),te(Qn(ge.childNodes),F)};F(V)}),te(B,V=>{const F=Ne=>{let $e=0;return te(Ne.childNodes,ze=>{!vL(ze)&&!Er(ze)&&$e++}),$e},ge=Ne=>Zt(Ne.childNodes,lE).filter(ze=>x.getContentEditable(ze)!=="false"&&cb(x,ze,o)).map(ze=>{const mt=x.clone(ze,!1);return p(mt),x.replace(mt,Ne,!0),x.remove(ze,!0),mt}).getOr(Ne),Se=F(V);if((B.length>1||!x.isBlock(V))&&Se===0){x.remove(V,!0);return}(Rn(o)||ii(o)&&o.wrapper)&&(!o.exact&&Se===1&&(V=ge(V)),QF(e,r,n,V),ZF(e,o,t,n,V),YF(x,o,n,V),GF(x,o,n,V),XF(x,o,n,V),Nx(e,o,n,V))})},T=qg(s)?s:d.getNode();if(u.getContentEditable(T)==="false"&&!dA(e,T)){s=T,v(r,s),NA(e,t,s,n);return}if(o){if(s)if(qg(s)){if(!v(r,s)){const x=u.createRng();x.setStartBefore(s),x.setEndAfter(s),y(u,Yl(u,x,r),!0)}}else y(u,s,!0);else!a||!Rn(o)||Uu(e).length?(d.setRng(ew(d.getRng())),uA(e,()=>{aE(e,(x,S)=>{const N=S?x:Yl(u,x,r);y(u,N,!1)})},Bt),e.nodeChanged()):TF(e,t,n),Cx(e.formatter,t).each(x=>{te(MF(e.selection),S=>Wx(u,S,x,n))});LF(t,e)}NA(e,t,s,n)},Vx=e=>Ye(e,"vars"),eU=(e,t)=>{e.set({}),t.on("NodeChange",n=>{Gx(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=C.from(n.node).map(r=>qg(r)?r:r.startContainer).bind(r=>ye(r)?C.some(r):C.from(r.parentElement)).getOrThunk(()=>qx(t));Gx(t,s,e.get())})},qx=e=>e.selection.getStart(),Kx=(e,t,n,s,r)=>ro(t,u=>{const d=e.formatter.matchNode(u,n,r!=null?r:{},s);return!yt(d)},u=>mx(e,u,n)?!0:s?!1:le(e.formatter.matchNode(u,n,r,!0))),jx=(e,t)=>{const n=t!=null?t:qx(e);return Be(jg(e.dom,n),s=>ye(s)&&!Oi(s))},Gx=(e,t,n)=>{const s=jx(e,t);It(n,(r,o)=>{const a=u=>{const d=Kx(e,s,o,u.similar,Vx(u)?u.vars:void 0),p=d.isSome();if(u.state.get()!==p){u.state.set(p);const v=d.getOr(t);Vx(u)?u.callback(p,{node:v,format:o,parents:s}):te(u.callbacks,_=>_(p,{node:v,format:o,parents:s}))}};te([r.withSimilar,r.withoutSimilar],a),te(r.withVars,a)})},tU=(e,t,n,s,r,o)=>{const a=t.get();te(n.split(","),u=>{const d=Ut(a,u).getOrThunk(()=>{const v={withSimilar:{state:vn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:vn(!1),similar:!1,callbacks:[]},withVars:[]};return a[u]=v,v}),p=()=>{const v=jx(e);return Kx(e,v,u,r,o).isSome()};if(yt(o)){const v=r?d.withSimilar:d.withoutSimilar;v.callbacks.push(s),v.callbacks.length===1&&v.state.set(p())}else d.withVars.push({state:vn(p()),similar:r,vars:o,callback:s})}),t.set(a)},nU=(e,t,n)=>{const s=e.get();te(t.split(","),r=>Ut(s,r).each(o=>{s[r]={withSimilar:{...o.withSimilar,callbacks:Be(o.withSimilar.callbacks,a=>a!==n)},withoutSimilar:{...o.withoutSimilar,callbacks:Be(o.withoutSimilar.callbacks,a=>a!==n)},withVars:Be(o.withVars,a=>a.callback!==n)}})),e.set(s)},sU=(e,t,n,s,r,o)=>(tU(e,t,n,s,r,o),{unbind:()=>nU(t,n,s)}),rU=(e,t,n,s)=>{const r=e.formatter.get(t);r&&(aw(e,t,n,s)&&(!("toggle"in r[0])||r[0].toggle)?Ux(e,t,n,s):zx(e,t,n,s))};function sc(e){return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function gw(e,t){return gw=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},gw(e,t)}function oU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function db(e,t,n){return oU()?db=Reflect.construct:db=function(r,o,a){var u=[null];u.push.apply(u,o);var d=Function.bind.apply(r,u),p=new d;return a&&gw(p,a.prototype),p},db.apply(null,arguments)}function _o(e){return iU(e)||aU(e)||lU(e)||cU()}function iU(e){if(Array.isArray(e))return bw(e)}function aU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lU(e,t){if(!!e){if(typeof e=="string")return bw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(e,t)}}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function cU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uU=Object.hasOwnProperty,Yx=Object.setPrototypeOf,fU=Object.isFrozen,dU=Object.getPrototypeOf,mU=Object.getOwnPropertyDescriptor,Ws=Object.freeze,li=Object.seal,hU=Object.create,Xx=typeof Reflect<"u"&&Reflect,mb=Xx.apply,vw=Xx.construct;mb||(mb=function(t,n,s){return t.apply(n,s)}),Ws||(Ws=function(t){return t}),li||(li=function(t){return t}),vw||(vw=function(t,n){return db(t,_o(n))});var pU=yo(Array.prototype.forEach),gU=yo(Array.prototype.pop),$m=yo(Array.prototype.push),hb=yo(String.prototype.toLowerCase),bU=yo(String.prototype.match),za=yo(String.prototype.replace),vU=yo(String.prototype.indexOf),_U=yo(String.prototype.trim),zs=yo(RegExp.prototype.test),_w=yU(TypeError);function yo(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return mb(e,t,s)}}function yU(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return vw(e,n)}}function xt(e,t){Yx&&Yx(e,null);for(var n=t.length;n--;){var s=t[n];if(typeof s=="string"){var r=hb(s);r!==s&&(fU(t)||(t[n]=r),s=r)}e[s]=!0}return e}function rc(e){var t=hU(null),n;for(n in e)mb(uU,e,[n])&&(t[n]=e[n]);return t}function pb(e,t){for(;e!==null;){var n=mU(e,t);if(n){if(n.get)return yo(n.get);if(typeof n.value=="function")return yo(n.value)}e=dU(e)}function s(r){return console.warn("fallback value for",r),null}return s}var Qx=Ws(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yw=Ws(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cw=Ws(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),CU=Ws(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ew=Ws(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),EU=Ws(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zx=Ws(["#text"]),Jx=Ws(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ww=Ws(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eN=Ws(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gb=Ws(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wU=li(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SU=li(/<%[\w\W]*|[\w\W]*%>/gm),AU=li(/^data-[\-\w.\u00B7-\uFFFF]/),TU=li(/^aria-[\-\w]+$/),xU=li(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NU=li(/^(?:\w+script|data):/i),RU=li(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),OU=li(/^html$/i),kU=function(){return typeof window>"u"?null:window},DU=function(t,n){if(sc(t)!=="object"||typeof t.createPolicy!="function")return null;var s=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(s=n.currentScript.getAttribute(r));var o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function tN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kU(),t=function(K){return tN(K)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,s=e.document,r=e.DocumentFragment,o=e.HTMLTemplateElement,a=e.Node,u=e.Element,d=e.NodeFilter,p=e.NamedNodeMap,v=p===void 0?e.NamedNodeMap||e.MozNamedAttrMap:p,_=e.HTMLFormElement,y=e.DOMParser,T=e.trustedTypes,x=u.prototype,S=pb(x,"cloneNode"),N=pb(x,"nextSibling"),B=pb(x,"childNodes"),L=pb(x,"parentNode");if(typeof o=="function"){var I=s.createElement("template");I.content&&I.content.ownerDocument&&(s=I.content.ownerDocument)}var W=DU(T,n),G=W?W.createHTML(""):"",fe=s,oe=fe.implementation,V=fe.createNodeIterator,F=fe.createDocumentFragment,ge=fe.getElementsByTagName,Se=n.importNode,Ne={};try{Ne=rc(s).documentMode?s.documentMode:{}}catch{}var $e={};t.isSupported=typeof L=="function"&&oe&&typeof oe.createHTMLDocument<"u"&&Ne!==9;var ze=wU,mt=SU,ct=AU,cn=TU,jn=NU,re=RU,Ve=xU,Oe=null,Lt=xt({},[].concat(_o(Qx),_o(yw),_o(Cw),_o(Ew),_o(Zx))),be=null,Ie=xt({},[].concat(_o(Jx),_o(ww),_o(eN),_o(gb))),Pe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,tt=null,Qe=!0,Sn=!0,Wt=!1,Ue=!1,ut=!1,on=!1,Ot=!1,Qt=!1,nn=!1,Ft=!1,un=!0,Nr=!0,Mn=!1,So={},ar=null,fc=xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),dc=null,Ao=xt({},["audio","video","img","source","image","track"]),Gr=null,hn=xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rr="http://www.w3.org/1998/Math/MathML",To="http://www.w3.org/2000/svg",Or="http://www.w3.org/1999/xhtml",kr=Or,di=!1,Gn,Xi=["application/xhtml+xml","text/html"],mi="text/html",Yr,qa=null,uv=s.createElement("form"),Y0=function(K){return K instanceof RegExp||K instanceof Function},fv=function(K){qa&&qa===K||((!K||sc(K)!=="object")&&(K={}),K=rc(K),Oe="ALLOWED_TAGS"in K?xt({},K.ALLOWED_TAGS):Lt,be="ALLOWED_ATTR"in K?xt({},K.ALLOWED_ATTR):Ie,Gr="ADD_URI_SAFE_ATTR"in K?xt(rc(hn),K.ADD_URI_SAFE_ATTR):hn,dc="ADD_DATA_URI_TAGS"in K?xt(rc(Ao),K.ADD_DATA_URI_TAGS):Ao,ar="FORBID_CONTENTS"in K?xt({},K.FORBID_CONTENTS):fc,de="FORBID_TAGS"in K?xt({},K.FORBID_TAGS):{},tt="FORBID_ATTR"in K?xt({},K.FORBID_ATTR):{},So="USE_PROFILES"in K?K.USE_PROFILES:!1,Qe=K.ALLOW_ARIA_ATTR!==!1,Sn=K.ALLOW_DATA_ATTR!==!1,Wt=K.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=K.SAFE_FOR_TEMPLATES||!1,ut=K.WHOLE_DOCUMENT||!1,Qt=K.RETURN_DOM||!1,nn=K.RETURN_DOM_FRAGMENT||!1,Ft=K.RETURN_TRUSTED_TYPE||!1,Ot=K.FORCE_BODY||!1,un=K.SANITIZE_DOM!==!1,Nr=K.KEEP_CONTENT!==!1,Mn=K.IN_PLACE||!1,Ve=K.ALLOWED_URI_REGEXP||Ve,kr=K.NAMESPACE||Or,K.CUSTOM_ELEMENT_HANDLING&&Y0(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&Y0(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pe.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Gn=Xi.indexOf(K.PARSER_MEDIA_TYPE)===-1?Gn=mi:Gn=K.PARSER_MEDIA_TYPE,Yr=Gn==="application/xhtml+xml"?function(we){return we}:hb,Ue&&(Sn=!1),nn&&(Qt=!0),So&&(Oe=xt({},_o(Zx)),be=[],So.html===!0&&(xt(Oe,Qx),xt(be,Jx)),So.svg===!0&&(xt(Oe,yw),xt(be,ww),xt(be,gb)),So.svgFilters===!0&&(xt(Oe,Cw),xt(be,ww),xt(be,gb)),So.mathMl===!0&&(xt(Oe,Ew),xt(be,eN),xt(be,gb))),K.ADD_TAGS&&(Oe===Lt&&(Oe=rc(Oe)),xt(Oe,K.ADD_TAGS)),K.ADD_ATTR&&(be===Ie&&(be=rc(be)),xt(be,K.ADD_ATTR)),K.ADD_URI_SAFE_ATTR&&xt(Gr,K.ADD_URI_SAFE_ATTR),K.FORBID_CONTENTS&&(ar===fc&&(ar=rc(ar)),xt(ar,K.FORBID_CONTENTS)),Nr&&(Oe["#text"]=!0),ut&&xt(Oe,["html","head","body"]),Oe.table&&(xt(Oe,["tbody"]),delete de.tbody),Ws&&Ws(K),qa=K)},X0=xt({},["mi","mo","mn","ms","mtext"]),Q0=xt({},["foreignobject","desc","title","annotation-xml"]),Ka=xt({},["title","style","font","a","script"]),mc=xt({},yw);xt(mc,Cw),xt(mc,CU);var M=xt({},Ew);xt(M,EU);var z=function(K){var we=L(K);(!we||!we.tagName)&&(we={namespaceURI:Or,tagName:"template"});var Me=hb(K.tagName),sn=hb(we.tagName);return K.namespaceURI===To?we.namespaceURI===Or?Me==="svg":we.namespaceURI===Rr?Me==="svg"&&(sn==="annotation-xml"||X0[sn]):Boolean(mc[Me]):K.namespaceURI===Rr?we.namespaceURI===Or?Me==="math":we.namespaceURI===To?Me==="math"&&Q0[sn]:Boolean(M[Me]):K.namespaceURI===Or?we.namespaceURI===To&&!Q0[sn]||we.namespaceURI===Rr&&!X0[sn]?!1:!M[Me]&&(Ka[Me]||!mc[Me]):!1},ne=function(K){$m(t.removed,{element:K});try{K.parentNode.removeChild(K)}catch{try{K.outerHTML=G}catch{K.remove()}}},J=function(K,we){try{$m(t.removed,{attribute:we.getAttributeNode(K),from:we})}catch{$m(t.removed,{attribute:null,from:we})}if(we.removeAttribute(K),K==="is"&&!be[K])if(Qt||nn)try{ne(we)}catch{}else try{we.setAttribute(K,"")}catch{}},xe=function(K){var we,Me;if(Ot)K="<remove></remove>"+K;else{var sn=bU(K,/^[\r\n\t ]+/);Me=sn&&sn[0]}Gn==="application/xhtml+xml"&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");var cr=W?W.createHTML(K):K;if(kr===Or)try{we=new y().parseFromString(cr,Gn)}catch{}if(!we||!we.documentElement){we=oe.createDocument(kr,"template",null);try{we.documentElement.innerHTML=di?"":cr}catch{}}var Os=we.body||we.documentElement;return K&&Me&&Os.insertBefore(s.createTextNode(Me),Os.childNodes[0]||null),kr===Or?ge.call(we,ut?"html":"body")[0]:ut?we.documentElement:Os},ot=function(K){return V.call(K.ownerDocument||K,K,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},jt=function(K){return K instanceof _&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof v)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function")},Gt=function(K){return sc(a)==="object"?K instanceof a:K&&sc(K)==="object"&&typeof K.nodeType=="number"&&typeof K.nodeName=="string"},lr=function(K,we,Me){!$e[K]||pU($e[K],function(sn){sn.call(t,we,Me,qa)})},eh=function(K){var we;if(lr("beforeSanitizeElements",K,null),jt(K)||zs(/[\u0080-\uFFFF]/,K.nodeName))return ne(K),!0;var Me=Yr(K.nodeName);if(lr("uponSanitizeElement",K,{tagName:Me,allowedTags:Oe}),K.hasChildNodes()&&!Gt(K.firstElementChild)&&(!Gt(K.content)||!Gt(K.content.firstElementChild))&&zs(/<[/\w]/g,K.innerHTML)&&zs(/<[/\w]/g,K.textContent)||Me==="select"&&zs(/<template/i,K.innerHTML))return ne(K),!0;if(!Oe[Me]||de[Me]){if(!de[Me]&&Wk(Me)&&(Pe.tagNameCheck instanceof RegExp&&zs(Pe.tagNameCheck,Me)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(Me)))return!1;if(Nr&&!ar[Me]){var sn=L(K)||K.parentNode,cr=B(K)||K.childNodes;if(cr&&sn)for(var Os=cr.length,cs=Os-1;cs>=0;--cs)sn.insertBefore(S(cr[cs],!0),N(K))}return ne(K),!0}return K instanceof u&&!z(K)||(Me==="noscript"||Me==="noembed")&&zs(/<\/no(script|embed)/i,K.innerHTML)?(ne(K),!0):(Ue&&K.nodeType===3&&(we=K.textContent,we=za(we,ze," "),we=za(we,mt," "),K.textContent!==we&&($m(t.removed,{element:K.cloneNode()}),K.textContent=we)),lr("afterSanitizeElements",K,null),!1)},Hk=function(K,we,Me){if(un&&(we==="id"||we==="name")&&(Me in s||Me in uv))return!1;if(!(Sn&&!tt[we]&&zs(ct,we))){if(!(Qe&&zs(cn,we))){if(!be[we]||tt[we]){if(!(Wk(K)&&(Pe.tagNameCheck instanceof RegExp&&zs(Pe.tagNameCheck,K)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(K))&&(Pe.attributeNameCheck instanceof RegExp&&zs(Pe.attributeNameCheck,we)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(we))||we==="is"&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&zs(Pe.tagNameCheck,Me)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(Me))))return!1}else if(!Gr[we]){if(!zs(Ve,za(Me,re,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&K!=="script"&&vU(Me,"data:")===0&&dc[K])){if(!(Wt&&!zs(jn,za(Me,re,"")))){if(Me)return!1}}}}}}return!0},Wk=function(K){return K.indexOf("-")>0},zk=function(K){var we,Me,sn,cr;lr("beforeSanitizeAttributes",K,null);var Os=K.attributes;if(!!Os){var cs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(cr=Os.length;cr--;){we=Os[cr];var dv=we,us=dv.name,Vk=dv.namespaceURI;Me=us==="value"?we.value:_U(we.value),sn=Yr(us);var xj=Me;if(cs.attrName=sn,cs.attrValue=Me,cs.keepAttr=!0,cs.forceKeepAttr=void 0,lr("uponSanitizeAttribute",K,cs),Me=cs.attrValue,!cs.forceKeepAttr){if(!cs.keepAttr){J(us,K);continue}if(zs(/\/>/i,Me)){J(us,K);continue}Ue&&(Me=za(Me,ze," "),Me=za(Me,mt," "));var Nj=Yr(K.nodeName);if(!Hk(Nj,sn,Me)){J(us,K);continue}if(Me!==xj)try{Vk?K.setAttributeNS(Vk,us,Me):K.setAttribute(us,Me)}catch{J(us,K)}}}lr("afterSanitizeAttributes",K,null)}},Tj=function Xe(K){var we,Me=ot(K);for(lr("beforeSanitizeShadowDOM",K,null);we=Me.nextNode();)lr("uponSanitizeShadowNode",we,null),!eh(we)&&(we.content instanceof r&&Xe(we.content),zk(we));lr("afterSanitizeShadowDOM",K,null)};return t.sanitize=function(Xe,K){var we,Me,sn,cr,Os;if(di=!Xe,di&&(Xe="<!-->"),typeof Xe!="string"&&!Gt(Xe)){if(typeof Xe.toString!="function")throw _w("toString is not a function");if(Xe=Xe.toString(),typeof Xe!="string")throw _w("dirty is not a string, aborting")}if(!t.isSupported){if(sc(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Xe=="string")return e.toStaticHTML(Xe);if(Gt(Xe))return e.toStaticHTML(Xe.outerHTML)}return Xe}if(on||fv(K),t.removed=[],typeof Xe=="string"&&(Mn=!1),Mn){if(Xe.nodeName){var cs=Yr(Xe.nodeName);if(!Oe[cs]||de[cs])throw _w("root node is forbidden and cannot be sanitized in-place")}}else if(Xe instanceof a)we=xe("<!---->"),Me=we.ownerDocument.importNode(Xe,!0),Me.nodeType===1&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?we=Me:we.appendChild(Me);else{if(!Qt&&!Ue&&!ut&&Xe.indexOf("<")===-1)return W&&Ft?W.createHTML(Xe):Xe;if(we=xe(Xe),!we)return Qt?null:Ft?G:""}we&&Ot&&ne(we.firstChild);for(var dv=ot(Mn?Xe:we);sn=dv.nextNode();)sn.nodeType===3&&sn===cr||eh(sn)||(sn.content instanceof r&&Tj(sn.content),zk(sn),cr=sn);if(cr=null,Mn)return Xe;if(Qt){if(nn)for(Os=F.call(we.ownerDocument);we.firstChild;)Os.appendChild(we.firstChild);else Os=we;return be.shadowroot&&(Os=Se.call(n,Os,!0)),Os}var us=ut?we.outerHTML:we.innerHTML;return ut&&Oe["!doctype"]&&we.ownerDocument&&we.ownerDocument.doctype&&we.ownerDocument.doctype.name&&zs(OU,we.ownerDocument.doctype.name)&&(us="<!DOCTYPE "+we.ownerDocument.doctype.name+`>
`+us),Ue&&(us=za(us,ze," "),us=za(us,mt," ")),W&&Ft?W.createHTML(us):us},t.setConfig=function(Xe){fv(Xe),on=!0},t.clearConfig=function(){qa=null,on=!1},t.isValidAttribute=function(Xe,K,we){qa||fv({});var Me=Yr(Xe),sn=Yr(K);return Hk(Me,sn,we)},t.addHook=function(Xe,K){typeof K=="function"&&($e[Xe]=$e[Xe]||[],$m($e[Xe],K))},t.removeHook=function(Xe){if($e[Xe])return gU($e[Xe])},t.removeHooks=function(Xe){$e[Xe]&&($e[Xe]=[])},t.removeAllHooks=function(){$e={}},t}var PU=tN();const nN=ie.explode,sN=()=>{const e={};return{addFilter:(r,o)=>{te(nN(r),a=>{Ye(e,a)||(e[a]={name:a,callbacks:[]}),e[a].callbacks.push(o)})},getFilters:()=>xf(e),removeFilter:(r,o)=>{te(nN(r),a=>{if(Ye(e,a))if(le(o)){const u=e[a],d=Be(u.callbacks,p=>p!==o);d.length>0?u.callbacks=d:delete e[a]}else delete e[a]})}}},LU=(e,t)=>{te(t,n=>{e.attr(n,null)})},BU=(e,t,n)=>{e.addNodeFilter("font",s=>{te(s,r=>{const o=t.parse(r.attr("style")),a=r.attr("color"),u=r.attr("face"),d=r.attr("size");a&&(o.color=a),u&&(o["font-family"]=u),d&&il(d).each(p=>{o["font-size"]=n[p-1]}),r.name="span",r.attr("style",t.serialize(o)),LU(r,["color","face","size"])})})},IU=(e,t,n)=>{e.addNodeFilter("strike",s=>{const r=t.type!=="html4";te(s,o=>{if(r)o.name="s";else{const a=n.parse(o.attr("style"));a["text-decoration"]="line-through",o.name="span",o.attr("style",n.serialize(a))}})})},$U=(e,t,n)=>{var s;const r=Md();t.convert_fonts_to_spans&&BU(e,r,ie.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),IU(e,n,r)},MU=(e,t,n)=>{t.inline_styles&&$U(e,t,n)},FU=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)),UU=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Sw=e=>{const[t,...n]=e.split(","),s=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const o=r[2]===";base64",a=o?UU(s):decodeURIComponent(s);return C.some({type:r[1],data:a,base64Encoded:o})}else return C.none()},rN=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return C.none()}const r=new Uint8Array(s.length);for(let o=0;o<r.length;o++)r[o]=s.charCodeAt(o);return C.some(new Blob([r],{type:e}))},HU=e=>new Promise((t,n)=>{Sw(e).bind(({type:s,data:r,base64Encoded:o})=>rN(s,r,o)).fold(()=>n("Invalid data URI"),t)}),WU=e=>On(e,"blob:")?FU(e):On(e,"data:")?HU(e):Promise.reject("Unknown URI format"),oN=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var r;n((r=s.error)===null||r===void 0?void 0:r.message)},s.readAsDataURL(e)});let zU=0;const VU=e=>(e||"blobid")+zU++,iN=(e,t,n)=>Sw(e).bind(({data:s,type:r,base64Encoded:o})=>{if(t&&!o)return C.none();{const a=o?s:btoa(s);return n(a,r)}}),aN=(e,t,n)=>{const s=e.create(VU(),t,n);return e.add(s),s},lN=(e,t,n=!1)=>iN(t,n,(s,r)=>C.from(e.getByData(s,r)).orThunk(()=>rN(r,s).map(o=>aN(e,o,s)))),qU=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(On(t,"blob:")){const s=e.getByUri(t);return le(s)?Promise.resolve(s):WU(t).then(r=>oN(r).then(o=>iN(o,!1,a=>C.some(aN(e,r,a))).getOrThunk(n)))}else return On(t,"data:")?lN(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},KU=e=>le(e.attr("data-mce-bogus")),jU=e=>e.attr("src")===gt.transparentSrc||le(e.attr("data-mce-placeholder")),GU=(e,t)=>{const{blob_cache:n}=t;if(n){const s=r=>{const o=r.attr("src");jU(r)||KU(r)||ft(o)||lN(n,o,!0).each(a=>{r.attr("src",a.blobUri())})};e.addAttributeFilter("src",r=>te(r,s))}},YU=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(r,o,a)=>{const u=ie.extend({},n.getBlockElements()),d=n.getNonEmptyElements(),p=n.getWhitespaceElements();u.body=1;const v=_=>_.name in u&&kd(n,_);for(let _=0,y=r.length;_<y;_++){let T=r[_],x=T.parent;if(x&&u[x.name]&&T===x.lastChild){let S=T.prev;for(;S;){const N=S.name;if(N!=="span"||S.attr("data-mce-type")!=="bookmark"){N==="br"&&(T=null);break}S=S.prev}if(T&&(T.remove(),Lm(n,d,p,x))){const N=n.getElementRule(x.name);N&&(N.removeEmpty?x.remove():N.paddEmpty&&QE(a,v,x))}}else{let S=T;for(;x&&x.firstChild===S&&x.lastChild===S&&(S=x,!u[x.name]);)x=x.parent;if(S===x){const N=new Ns("#text",3);N.value=xn,T.replace(N)}}}}),e.addAttributeFilter("href",r=>{let o=r.length;const a=d=>d.split(" ").filter(v=>v.length>0).concat(["noopener"]).sort().join(" "),u=d=>{const p=d?ie.trim(d):"";return/\b(noopener)\b/g.test(p)?p:a(p)};if(!t.allow_unsafe_link_target)for(;o--;){const d=r[o];d.name==="a"&&d.attr("target")==="_blank"&&d.attr("rel",u(d.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",r=>{let o=r.length,a,u,d,p;for(;o--;)if(p=r[o],p.name==="a"&&p.firstChild&&!p.attr("href"))for(d=p.parent,a=p.lastChild;a&&d;)u=a.prev,d.insert(a,p),a=u}),t.fix_list_elements&&e.addNodeFilter("ul,ol",r=>{let o=r.length,a,u;for(;o--;)if(a=r[o],u=a.parent,u&&(u.name==="ul"||u.name==="ol"))if(a.prev&&a.prev.name==="li")a.prev.append(a);else{const d=new Ns("li",1);d.attr("style","list-style-type: none"),a.wrap(d)}});const s=n.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",r=>{var o;let a=r.length;for(;a--;){const u=r[a],d=(o=u.attr("class"))!==null&&o!==void 0?o:"",p=ie.explode(d," ");let v="";for(let _=0;_<p.length;_++){const y=p[_];let T=!1,x=s["*"];x&&x[y]&&(T=!0),x=s[u.name],!T&&x&&x[y]&&(T=!0),T&&(v&&(v+=" "),v+=y)}v.length||(v=null),u.attr("class",v)}}),GU(e,t)},cN=ie.each,XU=ie.trim,QU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ZU={ftp:21,http:80,https:443,mailto:25},JU=["img","video"],eH=(e,t)=>le(e)?!e:le(t)?!St(JU,t):!0,tH=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},uN=(e,t,n)=>{const s=tH(t);return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?eH(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Co{constructor(t,n={}){this.path="",this.directory="",t=XU(t),this.settings=n;const s=n.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){r.source=t;return}const o=t.indexOf("//")===0;if(t.indexOf("/")===0&&!o&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const u=s?s.path:new Co(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+r.toAbsPath(u,t);else{const d=/([^#?]*)([#?]?.*)/.exec(t);d&&(t=(s&&s.protocol||"http")+"://mce_host"+r.toAbsPath(u,d[1])+d[2])}}t=t.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);a&&cN(QU,(u,d)=>{let p=a[d];p&&(p=p.replace(/\(mce_at\)/g,"@@")),r[u]=p}),s&&(r.protocol||(r.protocol=s.protocol),r.userInfo||(r.userInfo=s.userInfo),!r.port&&r.host==="mce_host"&&(r.port=s.port),(!r.host||r.host==="mce_host")&&(r.host=s.host),r.source=""),o&&(r.protocol="")}static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(s[0]);return r&&(n=r[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const r=mo.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!uN(s,r,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Co(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),r=n.getURI();if(s===r||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===r)return s;let o=this.toRelPath(this.path,n.path);return n.query&&(o+="?"+n.query),n.anchor&&(o+="#"+n.anchor),o}toAbsolute(t,n){const s=new Co(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?ZU[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,r="",o,a;const u=t.substring(0,t.lastIndexOf("/")).split("/"),d=n.split("/");if(u.length>=d.length){for(o=0,a=u.length;o<a;o++)if(o>=d.length||u[o]!==d[o]){s=o+1;break}}if(u.length<d.length){for(o=0,a=d.length;o<a;o++)if(o>=u.length||u[o]!==d[o]){s=o+1;break}}if(s===1)return n;for(o=0,a=u.length-(s-1);o<a;o++)r+="../";for(o=s-1,a=d.length;o<a;o++)o!==s-1?r+="/"+d[o]:r+=d[o];return r}toAbsPath(t,n){let s=0;const r=/\/$/.test(n)?"/":"",o=t.split("/"),a=n.split("/"),u=[];cN(o,_=>{_&&u.push(_)});const d=[];for(let _=a.length-1;_>=0;_--)if(!(a[_].length===0||a[_]===".")){if(a[_]===".."){s++;continue}if(s>0){s--;continue}d.push(a[_])}const p=u.length-s;let v;return p<=0?v=Ds(d).join("/"):v=u.slice(0,p).join("/")+"/"+Ds(d).join("/"),v.indexOf("/")!==0&&(v="/"+v),r&&v.lastIndexOf("/")!==v.length-1&&(v+=r),v}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const fN=ie.makeMap,dN=ie.extend,nH={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},sH=ie.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Aw="data-mce-type",rH=(e,t)=>{const n={...nH};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},oH=(e,t)=>{const n=PU(),s=t.getSpecialElements(),r=e.validate;let o=0;return n.addHook("uponSanitizeElement",(a,u)=>{var d,p,v;a.nodeType===Mh&&!e.allow_conditional_comments&&/^\[if/i.test((d=a.nodeValue)!==null&&d!==void 0?d:"")&&(a.nodeValue=" "+a.nodeValue);const _=u.tagName;if(a.nodeType!==ca||_==="body")return;const y=D.fromDom(a),T=_.toLowerCase(),x=al(y,Aw),S=Vn(y,"data-mce-bogus");if(!x&&pe(S)){S==="all"?$t(y):Fr(y);return}const N=t.getElementRule(T);if(r&&!N){Ye(s,T)?$t(y):Fr(y);return}else u.allowedTags[_]=!0;if(r&&N&&!x){if(te((p=N.attributesForced)!==null&&p!==void 0?p:[],B=>{En(y,B.name,B.value==="{$uid}"?`mce_${o++}`:B.value)}),te((v=N.attributesDefault)!==null&&v!==void 0?v:[],B=>{al(y,B.name)||En(y,B.name,B.value==="{$uid}"?`mce_${o++}`:B.value)}),N.attributesRequired&&!At(N.attributesRequired,B=>al(y,B))){Fr(y);return}if(N.removeEmptyAttrs&&Gf(y)){Fr(y);return}N.outputName&&N.outputName!==T&&ay(y,N.outputName)}}),n.addHook("uponSanitizeAttribute",(a,u)=>{const d=a.tagName.toLowerCase(),{attrName:p,attrValue:v}=u;u.keepAttr=!r||t.isValid(d,p)||On(p,"data-")||On(p,"aria-"),p in sH&&uN(e,v,d)&&(u.keepAttr=!1),u.keepAttr?(u.allowedAttributes[p]=!0,p in t.getBoolAttrs()&&(u.attrValue=p),e.allow_svg_data_urls&&On(v,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):a.hasAttribute(Aw)&&(p==="id"||p==="class"||p==="style")&&(u.forceKeepAttr=!0)}),n},mN=(e,t,n)=>{const s=e.name,r=s in n&&s!=="title"&&s!=="textarea",o=t.childNodes;for(let a=0,u=o.length;a<u;a++){const d=o[a],p=new Ns(d.nodeName.toLowerCase(),d.nodeType);if(ye(d)){const v=d.attributes;for(let _=0,y=v.length;_<y;_++){const T=v[_];p.attr(T.name,T.value)}}else se(d)?(p.value=d.data,r&&(p.raw=!0)):(bs(d)||A_(d)||T_(d))&&(p.value=d.data);mN(p,d,n),e.append(p)}},iH=(e,t,n)=>{const s=[];for(let r=e,o=r;r;o=r,r=r.walk()){const a=r;te(t,u=>u(a)),ft(a.parent)&&a!==e?r=o:s.push(a)}for(let r=s.length-1;r>=0;r--){const o=s[r];te(n,a=>a(o))}},aH=(e,t,n,s)=>{const r=n.validate,o=t.getNonEmptyElements(),a=t.getWhitespaceElements(),u=dN(fN("script,style,head,html,body,title,meta,param"),t.getBlockElements()),d=Je(t),p=/[ \t\r\n]+/g,v=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,y=L=>{let I=L.parent;for(;le(I);){if(I.name in a)return!0;I=I.parent}return!1},T=L=>{let I=L;for(;le(I);){if(I.name in d)return Lm(t,o,a,I);I=I.parent}return!1},x=L=>L.name in u&&!kd(t,L),S=(L,I)=>{const W=I?L.prev:L.next;return le(W)||ft(L.parent)?!1:x(L.parent)&&(L.parent!==e||s.isRootContent===!0)};return[L=>{var I;if(L.type===3&&!y(L)){let W=(I=L.value)!==null&&I!==void 0?I:"";W=W.replace(p," "),(RM(L.prev,x)||S(L,!0))&&(W=W.replace(v,"")),W.length===0?L.remove():L.value=W}},L=>{var I;if(L.type===1){const W=t.getElementRule(L.name);if(r&&W){const G=Lm(t,o,a,L);W.paddInEmptyBlock&&G&&T(L)?QE(s,x,L):W.removeEmpty&&G?x(L)?L.remove():L.unwrap():W.paddEmpty&&(G||xM(L))&&QE(s,x,L)}}else if(L.type===3&&!y(L)){let W=(I=L.value)!==null&&I!==void 0?I:"";(L.next&&x(L.next)||S(L,!1))&&(W=W.replace(_,"")),W.length===0?L.remove():L.value=W}}]},lH=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},Ku=(e={},t=Cs())=>{const n=sN(),s=sN(),r={validate:!0,root_name:"body",...e},o=new DOMParser,a=oH(r,t),u=(I,W,G="html")=>{const fe=G==="xhtml"?"application/xhtml+xml":"text/html",oe=Ye(t.getSpecialElements(),W.toLowerCase()),V=oe?`<${W}>${I}</${W}>`:I,F=G==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${V}</body></html>`:`<body>${V}</body>`,ge=o.parseFromString(F,fe).body;return a.sanitize(ge,rH(r,fe)),a.removed=[],oe?ge.firstChild:ge},d=n.addFilter,p=n.getFilters,v=n.removeFilter,_=s.addFilter,y=s.getFilters,T=s.removeFilter,x=(I,W)=>{ux(t,I)&&W.push(I)},S=(I,W)=>{const G=pe(W.attr(Aw)),fe=W.type===1&&!Ye(I,W.name)&&!F_(t,W);return W.type===3||fe&&!G},N=(I,W)=>{const G=dN(fN("script,style,head,html,body,title,meta,param"),t.getBlockElements()),fe=/^[ \t\r\n]+/,oe=/[ \t\r\n]+$/;let V=I.firstChild,F=null;const ge=Se=>{var Ne,$e;Se&&(V=Se.firstChild,V&&V.type===3&&(V.value=(Ne=V.value)===null||Ne===void 0?void 0:Ne.replace(fe,"")),V=Se.lastChild,V&&V.type===3&&(V.value=($e=V.value)===null||$e===void 0?void 0:$e.replace(oe,"")))};if(!!t.isValidChild(I.name,W.toLowerCase())){for(;V;){const Se=V.next;S(G,V)?(F||(F=new Ns(W,1),F.attr(r.forced_root_block_attrs),I.insert(F,V)),F.append(V)):(ge(F),F=null),V=Se}ge(F)}},L={schema:t,addAttributeFilter:_,getAttributeFilters:y,removeAttributeFilter:T,addNodeFilter:d,getNodeFilters:p,removeNodeFilter:v,parse:(I,W={})=>{var G;const fe=r.validate,oe=(G=W.context)!==null&&G!==void 0?G:r.root_name,V=u(I,oe,W.format);Rd(t,V);const F=new Ns(oe,11);mN(F,V,t.getSpecialElements()),V.innerHTML="";const[ge,Se]=aH(F,t,r,W),Ne=[],$e=fe?cn=>x(cn,Ne):Ke,ze={nodes:{},attributes:{}},mt=cn=>ix(p(),y(),cn,ze);if(iH(F,[ge,mt],[Se,$e]),Ne.reverse(),fe&&Ne.length>0)if(W.context){const{pass:cn,fail:jn}=ko(Ne,re=>re.parent===F);JE(jn,t,mt),W.invalid=cn.length>0}else JE(Ne,t,mt);const ct=lH(r,W);return ct&&(F.name==="body"||W.isRootContent)&&N(F,ct),W.invalid||ax(ze,W),F}};return YU(L,r),MU(L,r,t),L},cH=e=>lb(e)?Ma({validate:!1}).serialize(e):e,hN=(e,t)=>{const n=cH(e),s=t(n);if(s.isDefaultPrevented())return s;if(lb(e))if(s.content!==n){const r=Ku({validate:!1,forced_root_block:!1}).parse(s.content,{context:e.name});return{...s,content:r}}else return{...s,content:e};else return s},pN=(e,t)=>{if(t.no_events)return ts.value(t);{const n=GL(e,t);return n.isDefaultPrevented()?ts.error(kA(e,{content:"",...n}).content):ts.value(n)}},gN=(e,t,n)=>n.no_events?t:hN(t,r=>kA(e,{...n,content:r})).content,Tw=(e,t)=>{if(t.no_events)return ts.value(t);{const n=hN(t.content,s=>jL(e,{...t,content:s}));return n.isDefaultPrevented()?(OA(e,n),ts.error(void 0)):ts.value(n)}},xw=(e,t,n)=>{n.no_events||OA(e,{...n,content:t})},Nw=(e,t,n)=>({element:e,width:t,rows:n}),bN=(e,t)=>({element:e,cells:t}),uH=(e,t)=>({x:e,y:t}),vN=(e,t)=>co(e,t).bind(il).getOr(1),fH=(e,t,n,s,r)=>{const o=vN(r,"rowspan"),a=vN(r,"colspan"),u=e.rows;for(let d=n;d<n+o;d++){u[d]||(u[d]=bN(_u(s),[]));for(let p=t;p<t+a;p++){const v=u[d].cells;v[p]=d===n&&p===t?r:Da(r)}}},dH=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},mH=(e,t,n)=>{for(;dH(e,t,n);)t++;return t},_N=e=>Vt(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),yN=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const r=n[s].cells;for(let o=0;o<r.length;o++)if(Ct(r[o],t))return C.some(uH(o,s))}return C.none()},CN=(e,t,n,s,r)=>{const o=[],a=e.rows;for(let u=n;u<=r;u++){const d=a[u].cells,p=t<s?d.slice(t,s+1):d.slice(s,t+1);o.push(bN(a[u].element,p))}return o},hH=(e,t,n)=>{const s=t.x,r=t.y,o=n.x,a=n.y,u=r<a?CN(e,s,r,o,a):CN(e,s,a,o,r);return Nw(e.element,_N(u),u)},pH=(e,t)=>{const n=Da(e.element),s=D.fromTag("tbody");return xi(s,t),an(n,s),n},gH=e=>at(e.rows,t=>{const n=at(t.cells,r=>{const o=_u(r);return An(o,"colspan"),An(o,"rowspan"),o}),s=Da(t.element);return xi(s,n),s}),bH=e=>{const t=Nw(Da(e),0,[]);return te(Nn(e,"tr"),(n,s)=>{te(Nn(n,"td,th"),(r,o)=>{fH(t,mH(t,o,s),s,n,r)})}),Nw(t.element,_N(t.rows),t.rows)},vH=e=>pH(e,gH(e)),_H=(e,t,n)=>yN(e,t).bind(s=>yN(e,n).map(r=>hH(e,s,r))),yH=e=>Zt(e,t=>Pt(t)==="ul"||Pt(t)==="ol"),CH=(e,t)=>Zt(e,n=>Pt(n)==="li"&&oE(n,t)).fold(ae([]),n=>yH(e).map(s=>{const r=D.fromTag(Pt(s)),o=sl(sd(s),(a,u)=>On(u,"list-style"));return hr(r,o),[D.fromTag("li"),r]}).getOr([])),EH=(e,t)=>{const n=Vt(t,(s,r)=>(an(r,s),r),e);return t.length>0?vE([n]):n},wH=e=>_s(e)?mr(e).filter(Qc).fold(ae([]),t=>[e,t]):Qc(e)?[e]:[],SH=(e,t)=>{const n=D.fromDom(t.commonAncestorContainer),s=ji(n,e),r=Be(s,os),o=CH(s,t),a=r.concat(o.length?o:wH(n));return at(a,Da)},EN=()=>vE([]),AH=(e,t)=>EH(D.fromDom(t.cloneContents()),SH(e,t)),TH=(e,t)=>gl(t,"table",_e(Ct,e)),xH=(e,t)=>TH(e,t[0]).bind(n=>{const s=t[0],r=t[t.length-1],o=bH(n);return _H(o,s,r).map(a=>vE([vH(a)]))}).getOrThunk(EN),NH=(e,t)=>t.length>0&&t[0].collapsed?EN():AH(e,t[0]),RH=(e,t)=>{const n=aA(t,e);return n.length>0?xH(e,n):NH(e,t)},bb=(e,t)=>t>=0&&t<e.length&&Fu(e.charAt(t)),wN=e=>Wr(e.innerText),OH=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),kH=e=>C.from(e.selection.getRng()).map(t=>{var n;const s=C.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=OH(s),a=D.fromDom(t.cloneContents());pT(a),gT(a);const u=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom),d=wN(u),p=Wr((n=u.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(u),bb(p,0)||bb(p,p.length-1)){const v=s.getOr(r),_=wN(v),y=_.indexOf(d);if(y===-1)return d;{const T=bb(_,y-1),x=bb(_,y+d.length);return(T?" ":"")+d+(x?" ":"")}}else return d}).getOr(""),DH=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),r=e.selection.getSel(),o=RE(e,sE(r)),a=t.contextual?RH(D.fromDom(e.getBody()),o).dom:n.cloneContents();return a&&s.appendChild(a),e.selection.serializer.serialize(s,t)},PH=(e,t)=>{if(t.format==="text")return kH(e);{const n=DH(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},LH=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),BH=(e,t,n={})=>{const s=LH(n,t);return pN(e,s).fold(Yt,r=>{const o=PH(e,r);return gN(e,o,r)})},Rw=0,SN=1,AN=2,IH=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),r=new Array(n),o=(v,_,y)=>({start:v,end:_,diag:y}),a=(v,_,y,T,x)=>{const S=d(v,_,y,T);if(S===null||S.start===_&&S.diag===_-T||S.end===v&&S.diag===v-y){let N=v,B=y;for(;N<_||B<T;)N<_&&B<T&&e[N]===t[B]?(x.push([Rw,e[N]]),++N,++B):_-v>T-y?(x.push([AN,e[N]]),++N):(x.push([SN,t[B]]),++B)}else{a(v,S.start,y,S.start-S.diag,x);for(let N=S.start;N<S.end;++N)x.push([Rw,e[N]]);a(S.end,_,S.end-S.diag,T,x)}},u=(v,_,y,T)=>{let x=v;for(;x-_<T&&x<y&&e[x]===t[x-_];)++x;return o(v,x,_)},d=(v,_,y,T)=>{const x=_-v,S=T-y;if(x===0||S===0)return null;const N=x-S,B=S+x,L=(B%2===0?B:B+1)/2;s[1+L]=v,r[1+L]=_+1;let I,W,G,fe,oe;for(I=0;I<=L;++I){for(W=-I;W<=I;W+=2){for(G=W+L,W===-I||W!==I&&s[G-1]<s[G+1]?s[G]=s[G+1]:s[G]=s[G-1]+1,fe=s[G],oe=fe-v+y-W;fe<_&&oe<T&&e[fe]===t[oe];)s[G]=++fe,++oe;if(N%2!==0&&N-I<=W&&W<=N+I&&r[G-N]<=s[G])return u(r[G-N],W+v-y,_,T)}for(W=N-I;W<=N+I;W+=2){for(G=W+L-N,W===N-I||W!==N+I&&r[G+1]<=r[G-1]?r[G]=r[G+1]-1:r[G]=r[G-1],fe=r[G]-1,oe=fe-v+y-W;fe>=v&&oe>=y&&e[fe]===t[oe];)r[G]=fe--,oe--;if(N%2===0&&-I<=W&&W<=I&&r[G]<=s[G+N])return u(r[G],W+v-y,_,T)}}return null},p=[];return a(0,e.length,0,t.length,p),p},TN=e=>ye(e)?e.outerHTML:se(e)?mo.encodeRaw(e.data,!1):bs(e)?"<!--"+e.data+"-->":"",$H=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},MH=(e,t,n)=>{const s=$H(t);if(e.hasChildNodes()&&n<e.childNodes.length){const r=e.childNodes[n];e.insertBefore(s,r)}else e.appendChild(s)},FH=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},UH=(e,t)=>{let n=0;te(e,s=>{s[0]===Rw?n++:s[0]===SN?(MH(t,s[1],n),n++):s[0]===AN&&FH(t,n)})},HH=e=>Be(at(Qn(e.childNodes),TN),t=>t.length>0),WH=(e,t)=>{const n=at(Qn(t.childNodes),TN);return UH(IH(n,e),t),t},zH=vi(()=>document.implementation.createHTMLDocument("undo")),VH=e=>e.indexOf("</iframe>")!==-1,qH=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),KH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),vb=e=>{const t=HH(e.getBody()),n=js(t,r=>{const o=hT(e.serializer,r);return o.length>0?[o]:[]}),s=n.join("");return VH(s)?qH(n):KH(s)},Ow=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?WH(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:le(s)&&Re(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},kw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,xN=e=>{const t=D.fromTag("body",zH());return Wc(t,kw(e)),te(Nn(t,"*[data-mce-bogus]"),Fr),qh(t)},jH=(e,t)=>kw(e)===kw(t),GH=(e,t)=>xN(e)===xN(t),Dw=(e,t)=>!e||!t?!1:jH(e,t)?!0:GH(e,t),Pw=e=>e.get()===0,_b=(e,t,n)=>{Pw(n)&&(e.typing=t)},NN=(e,t)=>{e.typing&&(_b(e,!1,t),e.add())},YH=e=>{e.typing&&(e.typing=!1,e.add())},XH=(e,t,n)=>{Pw(t)&&n.set(rm(e.selection))},QH=(e,t,n,s,r,o,a)=>{const u=vb(e),d=ie.extend(o||{},u);if(!Pw(s)||e.removed)return null;const p=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:d,lastLevel:p,originalEvent:a}).isDefaultPrevented()||p&&Dw(p,d))return null;t.data[n.get()]&&r.get().each(y=>{t.data[n.get()].beforeBookmark=y});const v=iC(e);if(v&&t.data.length>v){for(let y=0;y<t.data.length-1;y++)t.data[y]=t.data[y+1];t.data.length--,n.set(t.data.length)}d.bookmark=rm(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(d),n.set(t.data.length-1);const _={level:d,lastLevel:p,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",_),e.dispatch("change",_)):e.dispatch("AddUndo",_),d},ZH=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},JH=(e,t,n,s,r)=>{if(t.transact(s)){const o=t.data[n.get()].bookmark,a=t.data[n.get()-1];Ow(e,a,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}},e2=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],Ow(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},t2=(e,t,n,s)=>{let r;return t.typing&&(t.add(),t.typing=!1,_b(t,!1,n)),s.get()>0&&(s.set(s.get()-1),r=t.data[s.get()],Ow(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r},n2=e=>{e.clear(),e.add()},s2=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Dw(vb(e),t.data[0]),r2=(e,t)=>t.get()<e.data.length-1&&!e.typing,o2=(e,t,n)=>(NN(e,t),e.beforeChange(),e.ignore(n),e.add()),i2=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},a2=(e,t)=>{const n=e.dom,s=le(t)?t:e.getBody();te(n.select("table,a",s),r=>{switch(r.nodeName){case"TABLE":const o=uC(e),a=n.getAttrib(r,"border");(!a||a==="0")&&e.hasVisual?n.addClass(r,o):n.removeClass(r,o);break;case"A":if(!n.getAttrib(r,"href")){const u=n.getAttrib(r,"name")||r.id,d=ku(e);u&&e.hasVisual?n.addClass(r,d):n.removeClass(r,d)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},RN=e=>({init:{bindEvents:Ke},undoManager:{beforeChange:(t,n)=>XH(e,t,n),add:(t,n,s,r,o,a)=>QH(e,t,n,s,r,o,a),undo:(t,n,s)=>t2(e,t,n,s),redo:(t,n)=>e2(e,t,n),clear:(t,n)=>ZH(e,t,n),reset:t=>n2(t),hasUndo:(t,n)=>s2(e,t,n),hasRedo:(t,n)=>r2(t,n),transact:(t,n,s)=>o2(t,n,s),ignore:(t,n)=>i2(t,n),extra:(t,n,s,r)=>JH(e,t,n,s,r)},formatter:{match:(t,n,s,r)=>aw(e,t,n,s,r),matchAll:(t,n)=>bF(e,t,n),matchNode:(t,n,s,r)=>ai(e,t,n,s,r),canApply:t=>_F(e,t),closest:t=>vF(e,t),apply:(t,n,s)=>zx(e,t,n,s),remove:(t,n,s,r)=>Ux(e,t,n,s,r),toggle:(t,n,s)=>rU(e,t,n,s),formatChanged:(t,n,s,r,o)=>sU(e,t,n,s,r,o)},editor:{getContent:t=>GI(e,t),setContent:(t,n)=>hF(e,t,n),insertContent:(t,n)=>uF(e,t,n),addVisual:t=>a2(e,t)},selection:{getContent:(t,n)=>BH(e,t,n)},autocompleter:{addDecoration:t=>II(e,t),removeDecoration:()=>MI(e,D.fromDom(e.getBody()))},raw:{getModel:()=>C.none()}}),l2=e=>{const t=p=>Ze(p)?p:{},{init:n,undoManager:s,formatter:r,editor:o,selection:a,autocompleter:u,raw:d}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(p,v,_)=>s.transact(_),ignore:(p,v)=>s.ignore(v),extra:(p,v,_,y)=>s.extra(_,y)},formatter:{match:(p,v,_,y)=>r.match(p,t(v),y),matchAll:r.matchAll,matchNode:r.matchNode,canApply:p=>r.canApply(p),closest:p=>r.closest(p),apply:(p,v,_)=>r.apply(p,t(v)),remove:(p,v,_,y)=>r.remove(p,t(v)),toggle:(p,v,_)=>r.toggle(p,t(v)),formatChanged:(p,v,_,y,T)=>r.formatChanged(v,_,y,T)},editor:{getContent:p=>o.getContent(p),setContent:(p,v)=>({content:o.setContent(p,v),html:""}),insertContent:(p,v)=>(o.insertContent(p),""),addVisual:o.addVisual},selection:{getContent:(p,v)=>a.getContent(v)},autocompleter:{addDecoration:u.addDecoration,removeDecoration:u.removeDecoration},raw:{getModel:()=>C.some(d.getRawModel())}}},c2=()=>{const e=ae(null),t=ae("");return{init:{bindEvents:Ke},undoManager:{beforeChange:Ke,add:e,undo:e,redo:e,clear:Ke,reset:Ke,hasUndo:pt,hasRedo:pt,transact:e,ignore:Ke,extra:Ke},formatter:{match:pt,matchAll:ae([]),matchNode:ae(void 0),canApply:pt,closest:t,apply:Ke,remove:Ke,toggle:Ke,formatChanged:ae({unbind:Ke})},editor:{getContent:t,setContent:ae({content:"",html:""}),insertContent:ae(""),addVisual:Ke},selection:{getContent:t},autocompleter:{addDecoration:Ke,removeDecoration:Ke},raw:{getModel:ae(C.none())}}},ci=e=>Ye(e.plugins,"rtc"),u2=e=>Ut(e.plugins,"rtc").bind(t=>C.from(t.setup)),f2=e=>{const t=e;return u2(e).fold(()=>(t.rtcInstance=RN(e),C.none()),n=>(t.rtcInstance=c2(),C.some(()=>n().then(s=>(t.rtcInstance=l2(s),s.rtc.isRemote)))))},Lw=e=>e.rtcInstance?e.rtcInstance:RN(e),mn=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},d2=(e,t,n)=>{mn(e).undoManager.beforeChange(t,n)},m2=(e,t,n,s,r,o,a)=>mn(e).undoManager.add(t,n,s,r,o,a),h2=(e,t,n,s)=>mn(e).undoManager.undo(t,n,s),p2=(e,t,n)=>mn(e).undoManager.redo(t,n),g2=(e,t,n)=>{mn(e).undoManager.clear(t,n)},b2=(e,t)=>{mn(e).undoManager.reset(t)},v2=(e,t,n)=>mn(e).undoManager.hasUndo(t,n),_2=(e,t,n)=>mn(e).undoManager.hasRedo(t,n),y2=(e,t,n,s)=>mn(e).undoManager.transact(t,n,s),C2=(e,t,n)=>{mn(e).undoManager.ignore(t,n)},E2=(e,t,n,s,r)=>{mn(e).undoManager.extra(t,n,s,r)},w2=(e,t,n,s,r)=>mn(e).formatter.match(t,n,s,r),S2=(e,t,n)=>mn(e).formatter.matchAll(t,n),A2=(e,t,n,s,r)=>mn(e).formatter.matchNode(t,n,s,r),T2=(e,t)=>mn(e).formatter.canApply(t),x2=(e,t)=>mn(e).formatter.closest(t),N2=(e,t,n,s)=>{mn(e).formatter.apply(t,n,s)},R2=(e,t,n,s,r)=>{mn(e).formatter.remove(t,n,s,r)},O2=(e,t,n,s)=>{mn(e).formatter.toggle(t,n,s)},k2=(e,t,n,s,r,o)=>mn(e).formatter.formatChanged(t,n,s,r,o),D2=(e,t)=>Lw(e).editor.getContent(t),P2=(e,t,n)=>Lw(e).editor.setContent(t,n),L2=(e,t,n)=>Lw(e).editor.insertContent(t,n),B2=(e,t,n)=>mn(e).selection.getContent(t,n),I2=(e,t)=>mn(e).editor.addVisual(t),ON=e=>mn(e).init.bindEvents(),$2=(e,t)=>mn(e).autocompleter.addDecoration(t),M2=e=>mn(e).autocompleter.removeDecoration(),F2=(e,t={})=>{const n=t.format?t.format:"html";return B2(e,n,t)},kN=e=>e.dom.length===0?($t(e),C.none()):C.some(e),U2=(e,t)=>e.filter(n=>Tm.isBookmarkNode(n.dom)).bind(t?ee:U),H2=(e,t,n,s)=>{const r=e.dom,o=t.dom,a=s?r.length:o.length;s?(UE(r,o,!1,!s),n.setStart(o,a)):(UE(o,r,!1,!s),n.setEnd(o,a))},W2=(e,t)=>{mr(e).each(n=>{const s=e.dom;t&&km(n,j(s,0))?rb(s,0):!t&&Dm(n,j(s,s.length))&&FE(s,s.length)})},DN=(e,t,n,s)=>{e.bind(r=>((s?FE:rb)(r.dom,s?r.dom.length:0),t.filter(Ls).map(a=>H2(r,a,n,s)))).orThunk(()=>U2(t,s).or(t).filter(Ls).map(o=>W2(o,s)))},z2=(e,t)=>{const n=C.from(t.firstChild).map(D.fromDom),s=C.from(t.lastChild).map(D.fromDom);e.deleteContents(),e.insertNode(t);const r=n.bind(U).filter(Ls).bind(kN),o=s.bind(ee).filter(Ls).bind(kN);DN(r,n,e,!0),DN(o,s,e,!1),e.collapse(!1)},V2=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),q2=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=s?{context:s.nodeName.toLowerCase()}:{},o=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return Ma({validate:!1},e.schema).serialize(o)}else return t.content},K2=(e,t,n={})=>{const s=V2(n,t);Tw(e,s).each(r=>{const o=q2(e,r),a=e.selection.getRng();z2(a,a.createContextualFragment(o)),e.selection.setRng(a),Nm(e,a),xw(e,o,r)})},PN=(e,t,n)=>{if(Ye(e,t)){const s=Be(e[t],r=>r!==n);s.length===0?delete e[t]:e[t]=s}};var j2=(e,t)=>{let n,s;const r=(u,d)=>Zt(d,p=>e.is(p,u)),o=u=>e.getParents(u,void 0,e.getRoot()),a=()=>{n={},s={},t.on("NodeChange",u=>{const d=u.element,p=o(d),v={};It(n,(_,y)=>{r(y,p).each(T=>{s[y]||(te(_,x=>{x(!0,{node:T,selector:y,parents:p})}),s[y]=_),v[y]=_})}),It(s,(_,y)=>{v[y]||(delete s[y],te(_,T=>{T(!1,{node:d,selector:y,parents:p})}))})})};return{selectorChangedWithUnbind:(u,d)=>(n||a(),n[u]||(n[u]=[]),n[u].push(d),r(u,o(t.selection.getStart())).each(()=>{s[u]=n[u]}),{unbind:()=>{PN(n,u,d),PN(s,u,d)}})}};const LN=e=>!!(e&&e.ownerDocument)&&hs(D.fromDom(e.ownerDocument),D.fromDom(e)),G2=e=>e?LN(e.startContainer)&&LN(e.endContainer):!1,BN=(e,t,n,s)=>{let r,o;const{selectorChangedWithUnbind:a}=j2(e,s),u=(re,Ve)=>{const Oe=e.createRng();le(re)&&le(Ve)?(Oe.setStart(re,Ve),Oe.setEnd(re,Ve),I(Oe),N(!1)):(iE(e,Oe,s.getBody(),!0),I(Oe))},d=re=>F2(s,re),p=(re,Ve)=>K2(s,re,Ve),v=re=>iT(s.getBody(),L(),re),_=re=>aT(s.getBody(),L(),re),y=(re,Ve)=>cn.getBookmark(re,Ve),T=re=>cn.moveToBookmark(re),x=(re,Ve)=>(RI(e,re,Ve).each(I),re),S=()=>{const re=L(),Ve=B();return!re||re.item?!1:re.compareEndPoints?re.compareEndPoints("StartToEnd",re)===0:!Ve||re.collapsed},N=re=>{const Ve=L();Ve.collapse(!!re),I(Ve)},B=()=>t.getSelection?t.getSelection():t.document.selection,L=()=>{let re;const Ve=(Lt,be,Ie)=>{try{return be.compareBoundaryPoints(Lt,Ie)}catch{return-1}},Oe=t.document;if(le(s.bookmark)&&!Zl(s)){const Lt=AE(s);if(Lt.isSome())return Lt.map(be=>RE(s,[be])[0]).getOr(Oe.createRange())}try{const Lt=B();Lt&&!qc(Lt.anchorNode)&&(Lt.rangeCount>0?re=Lt.getRangeAt(0):re=Oe.createRange(),re=RE(s,[re])[0])}catch{}if(re||(re=Oe.createRange()),vl(re.startContainer)&&re.collapsed){const Lt=e.getRoot();re.setStart(Lt,0),re.setEnd(Lt,0)}return r&&o&&(Ve(re.START_TO_START,re,r)===0&&Ve(re.END_TO_END,re,r)===0?re=o:(r=null,o=null)),re},I=(re,Ve)=>{if(!G2(re))return;const Oe=B();if(re=s.dispatch("SetSelectionRange",{range:re,forward:Ve}).range,Oe){o=re;try{Oe.removeAllRanges(),Oe.addRange(re)}catch{}Ve===!1&&Oe.extend&&(Oe.collapse(re.endContainer,re.endOffset),Oe.extend(re.startContainer,re.startOffset)),r=Oe.rangeCount>0?Oe.getRangeAt(0):null}if(!re.collapsed&&re.startContainer===re.endContainer&&(Oe==null?void 0:Oe.setBaseAndExtent)&&re.endOffset-re.startOffset<2&&re.startContainer.hasChildNodes()){const be=re.startContainer.childNodes[re.startOffset];be&&be.nodeName==="IMG"&&(Oe.setBaseAndExtent(re.startContainer,re.startOffset,re.endContainer,re.endOffset),(Oe.anchorNode!==re.startContainer||Oe.focusNode!==re.endContainer)&&Oe.setBaseAndExtent(be,0,be,1))}s.dispatch("AfterSetSelectionRange",{range:re,forward:Ve})},W=re=>(p(e.getOuterHTML(re)),re),G=()=>xI(s.getBody(),L()),fe=(re,Ve)=>NI(e,L(),re,Ve),oe=()=>{const re=B(),Ve=re==null?void 0:re.anchorNode,Oe=re==null?void 0:re.focusNode;if(!re||!Ve||!Oe||qc(Ve)||qc(Oe))return!0;const Lt=e.createRng(),be=e.createRng();try{Lt.setStart(Ve,re.anchorOffset),Lt.collapse(!0),be.setStart(Oe,re.focusOffset),be.collapse(!0)}catch{return!0}return Lt.compareBoundaryPoints(Lt.START_TO_START,be)<=0},ct={dom:e,win:t,serializer:n,editor:s,expand:(re={type:"word"})=>I(Ql(e).expand(L(),re)),collapse:N,setCursorLocation:u,getContent:d,setContent:p,getBookmark:y,moveToBookmark:T,select:x,isCollapsed:S,isForward:oe,setNode:W,getNode:G,getSel:B,setRng:I,getRng:L,getStart:v,getEnd:_,getSelectedBlocks:fe,normalize:()=>{const re=L(),Ve=B();if(!fL(Ve)&&Vg(s)){const Oe=Zg(e,re);return Oe.each(Lt=>{I(Lt,oe())}),Oe.getOr(re)}return re},selectorChanged:(re,Ve)=>(a(re,Ve),ct),selectorChangedWithUnbind:a,getScrollContainer:()=>{let re,Ve=e.getRoot();for(;Ve&&Ve.nodeName!=="BODY";){if(Ve.scrollHeight>Ve.clientHeight){re=Ve;break}Ve=Ve.parentNode}return re},scrollIntoView:(re,Ve)=>{le(re)?GB(s,re,Ve):Nm(s,L(),Ve)},placeCaretAt:(re,Ve)=>I(FA(re,Ve,s.getDoc())),getBoundingClientRect:()=>{const re=L();return re.collapsed?j.fromRangeStart(re).getClientRects()[0]:re.getBoundingClientRect()},destroy:()=>{t=r=o=null,jn.destroy()}},cn=Tm(ct),jn=LA(ct,s);return ct.bookmarkManager=cn,ct.controlSelection=jn,ct},Y2=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,r)=>{let o=s.length;for(;o--;){const a=s[o];a.attr("tabindex",a.attr("data-mce-tabindex")),a.attr(r,null)}}),e.addAttributeFilter("src,href,style",(s,r)=>{const o="data-mce-"+r,a=t.url_converter,u=t.url_converter_scope;let d=s.length;for(;d--;){const p=s[d];let v=p.attr(o);v!==void 0?(p.attr(r,v.length>0?v:null),p.attr(o,null)):(v=p.attr(r),r==="style"?v=n.serializeStyle(n.parseStyle(v),p.name):a&&(v=a.call(u,v,r,p.name)),p.attr(r,v.length>0?v:null))}}),e.addAttributeFilter("class",s=>{let r=s.length;for(;r--;){const o=s[r];let a=o.attr("class");a&&(a=a.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),o.attr("class",a.length>0?a:null))}}),e.addAttributeFilter("data-mce-type",(s,r,o)=>{let a=s.length;for(;a--;){const u=s[a];u.attr("data-mce-type")==="bookmark"&&!o.cleanup&&(C.from(u.firstChild).exists(p=>{var v;return!Ko((v=p.value)!==null&&v!==void 0?v:"")})?u.unwrap():u.remove())}}),e.addNodeFilter("noscript",s=>{var r;let o=s.length;for(;o--;){const a=s[o].firstChild;a&&(a.value=mo.decode((r=a.value)!==null&&r!==void 0?r:""))}}),e.addNodeFilter("script,style",(s,r)=>{var o;const a=d=>d.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let u=s.length;for(;u--;){const d=s[u],p=d.firstChild,v=(o=p==null?void 0:p.value)!==null&&o!==void 0?o:"";if(r==="script"){const _=d.attr("type");_&&d.attr("type",_==="mce-no/type"?null:_.replace(/^mce\-/,"")),t.element_format==="xhtml"&&p&&v.length>0&&(p.value=`// <![CDATA[
`+a(v)+`
// ]]>`)}else t.element_format==="xhtml"&&p&&v.length>0&&(p.value=`<!--
`+a(v)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let r=s.length;for(;r--;){const o=s[r],a=o.value;t.preserve_cdata&&(a==null?void 0:a.indexOf("[CDATA["))===0?(o.name="#cdata",o.type=4,o.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):(a==null?void 0:a.indexOf("mce:protected "))===0&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(a).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,r)=>{let o=s.length;for(;o--;){const a=s[o];a.type===7?a.remove():a.type===1&&r==="input"&&!a.attr("type")&&a.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{te(s,r=>{r.attr("data-mce-type")==="format-caret"&&(r.isEmpty(e.schema.getNonEmptyElements())?r.remove():r.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,r)=>{let o=s.length;for(;o--;)s[o].attr(r,null)})},X2=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},Q2=(e,t,n)=>{let s;const r=e.dom;let o=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const u=a.createHTMLDocument("");ie.each(o.nodeName==="BODY"?o.childNodes:[o],d=>{u.body.appendChild(u.importNode(d,!0))}),o.nodeName!=="BODY"?o=u.body.firstChild:o=u.body,s=r.doc,r.doc=u}return IL(e,{...n,node:o}),s&&(r.doc=s),o},Z2=(e,t)=>le(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,J2=(e,t,n)=>Z2(e,n)?Q2(e,t,n):t,eW=(e,t,n)=>{ie.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,r)=>{let o=s.length;for(;o--;)s[o].attr(r,null)}),t.push(n))},tW=(e,t,n)=>!t.no_events&&e?$L(e,{...t,content:n}).content:n,nW=(e,t,n)=>{const s=Wr(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Hr(D.fromDom(t))?s:ie.trim(s)},sW=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,s);return X2(r),r},rW=(e,t,n)=>Ma(e,t).serialize(n),oW=(e,t,n,s,r)=>{const o=rW(t,n,s);return tW(e,r,o)},iW=(e,t)=>{const n=["data-mce-selected"],s=t&&t.dom?t.dom:Nt.DOM,r=t&&t.schema?t.schema:Cs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;const o=Ku(e,r);Y2(o,e,s);const a=(u,d={})=>{const p={format:"html",...d},v=J2(t,u,p),_=nW(s,v,p),y=sW(o,_,p);return p.format==="tree"?y:oW(t,e,r,y,p)};return{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:a,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:_e(eW,o,n),getTempAttrs:ae(n),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},IN=(e,t)=>{const n=iW(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},aW="html",lW=(e,t)=>({...e,format:t,get:!0,getInner:!0}),cW=(e,t={})=>{const n=t.format?t.format:aW,s=lW(t,n);return pN(e,s).fold(Yt,r=>{const o=D2(e,r);return gN(e,o,r)})},uW="html",fW=(e,t)=>({format:uW,...e,set:!0,content:t}),Bw=(e,t,n={})=>{const s=fW(n,t);return Tw(e,s).map(r=>{const o=P2(e,r.content,r);return xw(e,o.html,r),o.content}).getOr(t)},dW="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),mW="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),hW=e=>{const t=Be(dW,s=>Ye(e,s)),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Do(t)},pW=e=>{const t=ie.makeMap(e.plugins," "),s=Be(mW,r=>Ye(t,r));return Do(s)},gW=(e,t)=>{const n=hW(e),s=pW(t),r=s.length>0,o=n.length>0,a=t.theme==="mobile";if(r||o||a){const u=`
- `,d=a?`

Themes:${u}mobile`:"",p=r?`

Plugins:${u}${s.join(u)}`:"",v=o?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+d+p+v)}},bW=(e,t)=>{gW(e,t)},yb=Nt.DOM,vW=e=>{yb.setStyle(e.id,"display",e.orgDisplay)},Cb=e=>C.from(e).each(t=>t.destroy()),_W=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},yW=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),yb.unbind(t,"submit reset",e.formEventDelegate))},CW=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),r=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&le(r==null?void 0:r.nextSibling)&&yb.remove(r.nextSibling),ML(e),e.editorManager.remove(e),!e.inline&&s&&vW(e),FL(e),yb.remove(e.getContainer()),Cb(t),Cb(n),e.destroy()}},EW=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Cb(n),Cb(s)),yW(e),_W(e),e.destroyed=!0}},Eb=(()=>{const e={};return{add:(r,o)=>{e[r]=o},get:r=>e[r]?e[r]:{icons:{}},has:r=>Ye(e,r)}})(),ju=Kn.ModelManager,$N=(e,t)=>t.dom[e],MN=(e,t)=>parseInt(Is(t,e),10),wW=_e($N,"clientWidth"),SW=_e($N,"clientHeight"),AW=_e(MN,"margin-top"),TW=_e(MN,"margin-left"),xW=e=>e.dom.getBoundingClientRect(),NW=(e,t,n)=>{const s=wW(e),r=SW(e);return t>=0&&n>=0&&t<=s&&n<=r},RW=(e,t,n,s)=>{const r=xW(t),o=e?r.left+t.dom.clientLeft+TW(t):0,a=e?r.top+t.dom.clientTop+AW(t):0,u=n-o,d=s-a;return{x:u,y:d}},OW=(e,t,n)=>{const s=D.fromDom(e.getBody()),r=e.inline?s:f_(s),o=RW(e.inline,r,t,n);return NW(r,o.x,o.y)},kW=e=>C.from(e).map(D.fromDom),DW=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return kW(t).map(ma).getOr(!1)};var PW=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const FN=e=>{const t=[],n=()=>{const y=e.theme;return y&&y.getNotificationManagerImpl?y.getNotificationManagerImpl():PW()},s=()=>C.from(t[0]),r=(y,T)=>y.type===T.type&&y.text===T.text&&!y.progressBar&&!y.timeout&&!T.progressBar&&!T.timeout,o=()=>{te(t,y=>{y.reposition()})},a=y=>{t.push(y)},u=y=>{oo(t,T=>T===y).each(T=>{t.splice(T,1)})},d=(y,T=!0)=>e.removed||!DW(e)?{}:(T&&e.dispatch("BeforeOpenNotification",{notification:y}),Zt(t,x=>r(n().getArgs(x),y)).getOrThunk(()=>{e.editorManager.setActive(e);const x=n().open(y,()=>{u(x),o(),s().fold(()=>e.focus(),S=>ZA(D.fromDom(S.getEl())))});return a(x),o(),e.dispatch("OpenNotification",{notification:{...x}}),x})),p=()=>{s().each(y=>{n().close(y),u(y),o()})},v=ae(t);return(y=>{y.on("SkinLoaded",()=>{const T=bo(y);T&&d({text:T,type:"warning",timeout:0},!1),o()}),y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(o)}),y.on("remove",()=>{te(t.slice(),T=>{n().close(T)})})})(e),{open:d,close:p,getNotifications:v}},Gu=Kn.PluginManager,oc=Kn.ThemeManager;var LW=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const UN=e=>{let t=[];const n=()=>{const S=e.theme;return S&&S.getWindowManagerImpl?S.getWindowManagerImpl():LW()},s=(S,N)=>(...B)=>N?N.apply(S,B):void 0,r=S=>{e.dispatch("OpenWindow",{dialog:S})},o=S=>{e.dispatch("CloseWindow",{dialog:S})},a=S=>{t.push(S),r(S)},u=S=>{o(S),t=Be(t,N=>N!==S),t.length===0&&e.focus()},d=()=>C.from(t[t.length-1]),p=S=>{e.editorManager.setActive(e),SE(e),e.ui.show();const N=S();return a(N),N},v=(S,N)=>p(()=>n().open(S,N,u)),_=S=>p(()=>n().openUrl(S,u)),y=(S,N,B)=>{const L=n();L.alert(S,s(B||L,N))},T=(S,N,B)=>{const L=n();L.confirm(S,s(B||L,N))},x=()=>{d().each(S=>{n().close(S),u(S)})};return e.on("remove",()=>{te(t,S=>{n().close(S)})}),{open:v,openUrl:_,alert:y,confirm:T,close:x}},HN=(e,t)=>{e.notificationManager.open({type:"error",text:t})},wb=(e,t)=>{e._skinLoaded?HN(e,t):e.on("SkinLoaded",()=>{HN(e,t)})},BW=(e,t)=>{wb(e,_r.translate(["Failed to upload image: {0}",t]))},Mm=(e,t,n)=>{xA(e,t,{message:n}),console.error(n)},Fm=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,IW=(e,t,n)=>{Mm(e,"PluginLoadError",Fm("plugin",t,n))},$W=(e,t,n)=>{Mm(e,"IconsLoadError",Fm("icons",t,n))},MW=(e,t,n)=>{Mm(e,"LanguageLoadError",Fm("language",t,n))},FW=(e,t,n)=>{Mm(e,"ThemeLoadError",Fm("theme",t,n))},UW=(e,t,n)=>{Mm(e,"ModelLoadError",Fm("model",t,n))},HW=(e,t,n)=>{const s=_r.translate(["Failed to initialize plugin: {0}",t]);xA(e,"PluginLoadError",{message:s}),Sb(s,n),wb(e,s)},Sb=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},WW=e=>/^[a-z0-9\-]+$/i.test(e),zW=e=>WN(e,Nu(e)),VW=e=>WN(e,Wi(e)),WN=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return at(t,o=>WW(o)&&!e.inline?`${n}/${o}/${r}`:e.documentBaseURI.toAbsolute(o))},qW=e=>{e.contentCSS=e.contentCSS.concat(zW(e),VW(e))},KW=Bt,jW=(e,t,n)=>C_(e,t,KW,n),GW=e=>e?Qn(e.getElementsByTagName("img")):[],YW=(e,t)=>{const n={};return{findAll:(r,o=Bt)=>{const a=Be(GW(r),d=>{const p=d.src;return d.hasAttribute("data-mce-bogus")||d.hasAttribute("data-mce-placeholder")||!p||p===gt.transparentSrc?!1:On(p,"blob:")?!e.isUploaded(p)&&o(d):On(p,"data:")?o(d):!1}),u=at(a,d=>{const p=d.src;if(Ye(n,p))return n[p].then(v=>pe(v)?v:{image:d,blobInfo:v.blobInfo});{const v=qU(t,p).then(_=>(delete n[p],{image:d,blobInfo:_})).catch(_=>(delete n[p],_));return n[p]=v,v}});return Promise.all(u)}}},zN=()=>{let n={};const s=(y,T)=>({status:y,resultUri:T}),r=y=>y in n;return{hasBlobUri:r,getResultUri:y=>{const T=n[y];return T?T.resultUri:null},isPending:y=>r(y)?n[y].status===1:!1,isUploaded:y=>r(y)?n[y].status===2:!1,markPending:y=>{n[y]=s(1,null)},markUploaded:(y,T)=>{n[y]=s(2,T)},removeFailed:y=>{delete n[y]},destroy:()=>{n={}}}};let XW=0;const QW=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},ZW=e=>e+XW+++QW(),JW=()=>{let e=[];const t=_=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[_.toLowerCase()]||"dat",n=(_,y,T,x,S)=>{if(pe(_))return s({id:_,name:x,filename:S,blob:y,base64:T});if(Ze(_))return s(_);throw new Error("Unknown input type")},s=_=>{if(!_.blob||!_.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const y=_.id||ZW("blobid"),T=_.name||y,x=_.blob;return{id:ae(y),name:ae(T),filename:ae(_.filename||T+"."+t(x.type)),blob:ae(x),base64:ae(_.base64),blobUri:ae(_.blobUri||URL.createObjectURL(x)),uri:ae(_.uri)}},r=_=>{a(_.id())||e.push(_)},o=_=>Zt(e,_).getOrUndefined(),a=_=>o(y=>y.id()===_);return{create:n,add:r,get:a,getByUri:_=>o(y=>y.blobUri()===_),getByData:(_,y)=>o(T=>T.base64()===_&&T.blob().type===y),findFirst:o,removeByUri:_=>{e=Be(e,y=>y.blobUri()===_?(URL.revokeObjectURL(y.blobUri()),!1):!0)},destroy:()=>{te(e,_=>{URL.revokeObjectURL(_.blobUri())}),e=[]}}},ez=(e,t)=>{const n={},s=(S,N)=>S?S.replace(/\/$/,"")+"/"+N.replace(/^\//,""):N,r=(S,N)=>new Promise((B,L)=>{const I=new XMLHttpRequest;I.open("POST",t.url),I.withCredentials=t.credentials,I.upload.onprogress=G=>{N(G.loaded/G.total*100)},I.onerror=()=>{L("Image upload failed due to a XHR Transport error. Code: "+I.status)},I.onload=()=>{if(I.status<200||I.status>=300){L("HTTP Error: "+I.status);return}const G=JSON.parse(I.responseText);if(!G||!pe(G.location)){L("Invalid JSON: "+I.responseText);return}B(s(t.basePath,G.location))};const W=new FormData;W.append("file",S.blob(),S.filename()),I.send(W)}),o=je(t.handler)?t.handler:r,a=()=>new Promise(S=>{S([])}),u=(S,N)=>({url:N,blobInfo:S,status:!0}),d=(S,N)=>({url:"",blobInfo:S,status:!1,error:N}),p=(S,N)=>{ie.each(n[S],B=>{B(N)}),delete n[S]},v=(S,N,B)=>(e.markPending(S.blobUri()),new Promise(L=>{let I,W;try{const G=()=>{I&&(I.close(),W=Ke)},fe=V=>{G(),e.markUploaded(S.blobUri(),V),p(S.blobUri(),u(S,V)),L(u(S,V))},oe=V=>{G(),e.removeFailed(S.blobUri()),p(S.blobUri(),d(S,V)),L(d(S,V))};W=V=>{V<0||V>100||C.from(I).orThunk(()=>C.from(B).map(Oo)).each(F=>{I=F,F.progressBar.value(V)})},N(S,W).then(fe,V=>{oe(pe(V)?{message:V}:V)})}catch(G){L(d(S,G))}})),_=S=>S===r,y=S=>{const N=S.blobUri();return new Promise(B=>{n[N]=n[N]||[],n[N].push(B)})},T=(S,N)=>(S=ie.grep(S,B=>!e.isUploaded(B.blobUri())),Promise.all(ie.map(S,B=>e.isPending(B.blobUri())?y(B):v(B,o,N))));return{upload:(S,N)=>!t.url&&_(o)?a():T(S,N)}},VN=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),qN=(e,t)=>ez(t,{url:qy(e),basePath:Ky(e),credentials:jy(e),handler:Gy(e)}),tz=e=>{const t=zN(),n=qN(e,t);return{upload:(s,r=!0)=>n.upload(s,r?VN(e):void 0)}},nz=e=>{const t=JW();let n,s;const r=zN(),o=[],a=I=>W=>e.selection?I(W):[],u=I=>I+(I.indexOf("?")===-1?"?":"&")+new Date().getTime(),d=(I,W,G)=>{let fe=0;do fe=I.indexOf(W,fe),fe!==-1&&(I=I.substring(0,fe)+G+I.substr(fe+W.length),fe+=G.length-W.length+1);while(fe!==-1);return I},p=(I,W,G)=>{const fe=`src="${G}"${G===gt.transparentSrc?' data-mce-placeholder="1"':""}`;return I=d(I,`src="${W}"`,fe),I=d(I,'data-mce-src="'+W+'"','data-mce-src="'+G+'"'),I},v=(I,W)=>{te(e.undoManager.data,G=>{G.type==="fragmented"?G.fragments=at(G.fragments,fe=>p(fe,I,W)):G.content=p(G.content,I,W)})},_=(I,W)=>{const G=e.convertURL(W,"src");v(I.src,W),dr(D.fromDom(I),{src:ln(e)?u(W):W,"data-mce-src":G})},y=()=>(n||(n=qN(e,r)),N().then(a(I=>{const W=at(I,G=>G.blobInfo);return n.upload(W,VN(e)).then(a(G=>{const fe=[];let oe=!1;const V=at(G,(F,ge)=>{const{blobInfo:Se,image:Ne}=I[ge];let $e=!1;return F.status&&yn(e)?(F.url&&!Ln(Ne.src,F.url)&&(oe=!0),t.removeByUri(Ne.src),ci(e)||_(Ne,F.url)):F.error&&(F.error.remove&&(v(Ne.src,gt.transparentSrc),fe.push(Ne),$e=!0),BW(e,F.error.message)),{element:Ne,status:F.status,uploadUri:F.url,blobInfo:Se,removed:$e}});return fe.length>0&&!ci(e)?e.undoManager.transact(()=>{te(fe,F=>{e.dom.remove(F),t.removeByUri(F.src)})}):oe&&e.undoManager.dispatchChange(),V}))}))),T=()=>Ul(e)?y():Promise.resolve([]),x=I=>fs(o,W=>W(I)),S=I=>{o.push(I)},N=()=>(s||(s=YW(r,t)),s.findAll(e.getBody(),x).then(a(I=>{const W=Be(I,G=>pe(G)?(wb(e,G),!1):!0);return ci(e)||te(W,G=>{v(G.image.src,G.blobInfo.blobUri()),G.image.src=G.blobInfo.blobUri(),G.image.removeAttribute("data-mce-src")}),W}))),B=()=>{t.destroy(),r.destroy(),s=n=null},L=I=>I.replace(/src="(blob:[^"]+)"/g,(W,G)=>{const fe=r.getResultUri(G);if(fe)return'src="'+fe+'"';let oe=t.getByUri(G);return oe||(oe=Vt(e.editorManager.get(),(V,F)=>V||F.editorUpload&&F.editorUpload.blobCache.getByUri(G),void 0)),oe?'src="data:'+oe.blob().type+";base64,"+oe.base64()+'"':W});return e.on("SetContent",()=>{Ul(e)?T():N()}),e.on("RawSaveContent",I=>{I.content=L(I.content)}),e.on("GetContent",I=>{I.source_view||I.format==="raw"||I.format==="tree"||(I.content=L(I.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",I=>{te(I,W=>{const G=W.attr("src");if(!G||t.getByUri(G))return;const fe=r.getResultUri(G);fe&&W.attr("src",fe)})})}),{blobCache:t,addFilter:S,uploadImages:y,uploadImagesAuto:T,scanForImages:N,destroy:B}},sz=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:r=>{t.setStyle(r,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:r=>{t.setStyle(r,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const r={inline:"span",styles:{textDecoration:"line-through"},exact:!0},o={inline:"strike",remove:"all",preserve_attributes:["class","style"]},a={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[a,r,o]:[r,a,o]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(r,o,a)=>ye(r)&&r.hasAttribute("href"),onformat:(r,o,a)=>{ie.each(a,(u,d)=>{t.setAttrib(r,d,u)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":r=>{var o;return(o=r==null?void 0:r.customValue)!==null&&o!==void 0?o:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ie.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),r=>{s[r]={block:r,remove:"all"}}),s},KN={remove_similar:!0,inherit:!1},Yu={selector:"td,th",...KN},rz={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Yu},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Yu},tablecellbordercolor:{styles:{borderColor:"%value"},...Yu},tablecellclass:{classes:["%value"],...Yu},tableclass:{selector:"table",classes:["%value"],...KN},tablecellborderstyle:{styles:{borderStyle:"%value"},...Yu},tablecellborderwidth:{styles:{borderWidth:"%value"},...Yu}},oz=ae(rz),iz=e=>{const t={},n=a=>le(a)?t[a]:t,s=a=>Ye(t,a),r=(a,u)=>{a&&(pe(a)?(We(u)||(u=[u]),te(u,d=>{yt(d.deep)&&(d.deep=!wr(d)),yt(d.split)&&(d.split=!wr(d)||Rn(d)),yt(d.remove)&&wr(d)&&!Rn(d)&&(d.remove="none"),wr(d)&&Rn(d)&&(d.mixed=!0,d.block_expand=!0),pe(d.classes)&&(d.classes=d.classes.split(/\s+/))}),t[a]=u):It(a,(d,p)=>{r(p,d)}))},o=a=>(a&&t[a]&&delete t[a],t);return r(sz(e)),r(oz()),r(Ht(e)),{get:n,has:s,register:r,unregister:o}},Ab=ie.each,Tr=Nt.DOM,Iw=e=>le(e)&&Ze(e),jN=(e,t)=>{const n=t&&t.schema||Cs({}),s=(d,p)=>{p.classes.length>0&&Tr.addClass(d,p.classes.join(" ")),Tr.setAttribs(d,p.attrs)},r=d=>{const p=pe(d)?{name:d,classes:[],attrs:{}}:d,v=Tr.create(p.name);return s(v,p),v},o=(d,p)=>{const v=n.getElementRule(d.nodeName.toLowerCase()),_=v==null?void 0:v.parentsRequired;return _&&_.length?p&&St(_,p)?p:_[0]:!1},a=(d,p,v)=>{let _;const y=p[0],T=Iw(y)?y.name:void 0,x=o(d,T);if(x)T===x?(_=y,p=p.slice(1)):_=x;else if(y)_=y,p=p.slice(1);else if(!v)return d;const S=_?r(_):Tr.create("div");S.appendChild(d),v&&ie.each(v,B=>{const L=r(B);S.insertBefore(L,d)});const N=Iw(_)?_.siblings:void 0;return a(S,p,N)},u=Tr.create("div");if(e.length>0){const d=e[0],p=r(d),v=Iw(d)?d.siblings:void 0;u.appendChild(a(p,e.slice(1),v))}return u},az=e=>{e=ie.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,r,o,a,u)=>{switch(r){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":ie.inArray("checked disabled enabled read-only required".split(" "),o)!==-1&&(n.attrs[o]=o);break}if(a==="["){const d=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);d&&(n.attrs[d[1]]=d[2])}return""})),n.name=t||"div",n},lz=e=>pe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ie.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=ie.map(t.split(/(?:~\+|~|\+)/),az),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],cz=(e,t)=>{let n="",s=eC(e);if(s==="")return"";const r=y=>pe(y)?y.replace(/%(\w+)/g,""):"",o=(y,T)=>Tr.getStyle(T!=null?T:e.getBody(),y,!0);if(pe(t)){const y=e.formatter.get(t);if(!y)return"";t=y[0]}if("preview"in t){const y=t.preview;if(y===!1)return"";s=y||s}let a=t.block||t.inline||"span",u;const d=lz(t.selector);d.length>0?(d[0].name||(d[0].name=a),a=t.selector,u=jN(d,e)):u=jN([a],e);const p=Tr.select(a,u)[0]||u.firstChild;Ab(t.styles,(y,T)=>{const x=r(y);x&&Tr.setStyle(p,T,x)}),Ab(t.attributes,(y,T)=>{const x=r(y);x&&Tr.setAttrib(p,T,x)}),Ab(t.classes,y=>{const T=r(y);Tr.hasClass(p,T)||Tr.addClass(p,T)}),e.dispatch("PreviewFormats"),Tr.setStyles(u,{position:"absolute",left:-65535}),e.getBody().appendChild(u);const v=o("fontSize"),_=/px$/.test(v)?parseInt(v,10):0;return Ab(s.split(" "),y=>{let T=o(y,p);if(!(y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(T)&&(T=o(y),zg(T).toLowerCase()==="#ffffff"))&&!(y==="color"&&zg(T).toLowerCase()==="#000000")){if(y==="font-size"&&/em|%$/.test(T)){if(_===0)return;T=parseFloat(T)/(/%$/.test(T)?100:1)*_+"px"}y==="border"&&T&&(n+="padding:0 2px;"),n+=y+":"+T+";"}}),e.dispatch("AfterPreviewFormats"),Tr.remove(u),n},uz=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},GN=e=>{const t=iz(e),n=vn({});return uz(e),RF(e),ci(e)||eU(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,r,o)=>{N2(e,s,r,o)},remove:(s,r,o,a)=>{R2(e,s,r,o,a)},toggle:(s,r,o)=>{O2(e,s,r,o)},match:(s,r,o,a)=>w2(e,s,r,o,a),closest:s=>x2(e,s),matchAll:(s,r)=>S2(e,s,r),matchNode:(s,r,o,a)=>A2(e,s,r,o,a),canApply:s=>T2(e,s),formatChanged:(s,r,o,a)=>k2(e,n,s,r,o,a),getCssText:_e(cz,e)}},YN=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},fz=(e,t,n)=>{const s=vn(!1),r=d=>{_b(t,!1,n),t.add({},d)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",d=>{const p=d.command;YN(p)||(NN(t,n),t.beforeChange())}),e.on("ExecCommand",d=>{const p=d.command;YN(p)||r(d)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",d=>{const p=d.keyCode;d.isDefaultPrevented()||((p>=33&&p<=36||p>=37&&p<=40||p===45||d.ctrlKey)&&(r(),e.nodeChanged()),(p===46||p===8)&&e.nodeChanged(),s.get()&&t.typing&&!Dw(vb(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged()))}),e.on("keydown",d=>{const p=d.keyCode;if(d.isDefaultPrevented())return;if(p>=33&&p<=36||p>=37&&p<=40||p===45){t.typing&&r(d);return}const v=d.ctrlKey&&!d.altKey||d.metaKey;(p<16||p>20)&&p!==224&&p!==91&&!t.typing&&!v&&(t.beforeChange(),_b(t,!0,n),t.add({},d),s.set(!0))}),e.on("mousedown",d=>{t.typing&&r(d)});const o=d=>d.inputType==="insertReplacementText",a=d=>d.inputType==="insertText"&&d.data===null,u=d=>d.inputType==="insertFromPaste"||d.inputType==="insertFromDrop";e.on("input",d=>{d.inputType&&(o(d)||a(d)||u(d))&&r(d)}),e.on("AddUndo Undo Redo ClearUndos",d=>{d.isDefaultPrevented()||e.nodeChanged()})},dz=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},XN=e=>{const t=Jo(),n=vn(0),s=vn(0),r={data:[],typing:!1,beforeChange:()=>{d2(e,n,t)},add:(o,a)=>m2(e,r,s,n,t,o,a),dispatchChange:()=>{e.setDirty(!0);const o=vb(e);o.bookmark=rm(e.selection),e.dispatch("change",{level:o,lastLevel:aa(r.data,s.get()).getOrUndefined()})},undo:()=>h2(e,r,n,s),redo:()=>p2(e,s,r.data),clear:()=>{g2(e,r,s)},reset:()=>{b2(e,r)},hasUndo:()=>v2(e,r,s),hasRedo:()=>_2(e,r,s),transact:o=>y2(e,r,n,o),ignore:o=>{C2(e,n,o)},extra:(o,a)=>{E2(e,r,s,o,a)}};return ci(e)||fz(e,r,n),dz(e),r},mz=[9,27,Te.HOME,Te.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Te.DOWN,Te.UP,Te.LEFT,Te.RIGHT].concat(gt.browser.isFirefox()?[224]:[]),QN="data-mce-placeholder",ZN=e=>e.type==="keydown"||e.type==="keyup",JN=e=>{const t=e.keyCode;return t===Te.BACKSPACE||t===Te.DELETE},hz=e=>{if(ZN(e)){const t=e.keyCode;return!JN(e)&&(Te.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||St(mz,t))}else return!1},pz=e=>ZN(e)&&!(JN(e)||e.type==="keyup"&&e.keyCode===229),gz=(e,t,n)=>{if(en(D.fromDom(t),!1)){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},bz=e=>{var t;const n=e.dom,s=ws(e),r=(t=Jy(e))!==null&&t!==void 0?t:"",o=(a,u)=>{if(hz(a))return;const d=e.getBody(),p=pz(a)?!1:gz(n,d,s);(n.getAttrib(d,QN)!==""!==p||u)&&(n.setAttrib(d,QN,p?r:null),n.setAttrib(d,"aria-placeholder",p?r:null),KL(e,p),e.on(p?"keydown":"keyup",o),e.off(p?"keyup":"keydown",o))};Lr(r)&&e.on("init",a=>{o(a,!0),e.on("change SetContent ExecCommand",o),e.on("paste",u=>Sr.setEditorTimeout(e,()=>o(u)))})},vz=(e,t)=>({block:e,position:t}),_z=(e,t)=>({from:e,to:t}),$w=(e,t)=>{const n=D.fromDom(e),s=D.fromDom(t.container());return ob(n,s).map(r=>vz(r,t))},yz=e=>!Ct(e.from.block,e.to.block),e1=(e,t)=>Xs(t,r=>qo(r)||pr(r.dom),r=>Ct(r,e)).filter(Zn).getOr(e),Cz=(e,t)=>{const n=D.fromDom(e);return Ct(e1(n,t.from.block),e1(n,t.to.block))},Ez=e=>Mt(e.from.block.dom)===!1&&Mt(e.to.block.dom)===!1,wz=e=>{const t=n=>Xc(n)||Od(n.dom);return t(e.from.block)&&t(e.to.block)},Sz=(e,t,n)=>Dt(n.position.getNode())&&!en(n.block)?i(!1,n.block.dom).bind(s=>s.isEqual(n.position)?Hs(t,e,s).bind(r=>$w(e,r)):C.some(n)).getOr(n):n,Az=(e,t,n)=>{const s=$w(e,j.fromRangeStart(n)),r=s.bind(o=>Hs(t,e,o.position).bind(a=>$w(e,a).map(u=>Sz(e,t,u))));return Wn(s,r,_z).filter(o=>yz(o)&&Cz(e,o)&&Ez(o)&&wz(o))},Tz=(e,t,n)=>n.collapsed?Az(e,t,n):C.none(),xz=e=>{const t=He(e);return oo(t,vs).fold(ae(t),n=>t.slice(0,n))},t1=e=>{const t=xz(e);return te(t,$t),t},n1=(e,t)=>{const n=ji(t,e);return Zt(n.reverse(),s=>en(s)).each($t)},Nz=e=>Be(Q(e),t=>!en(t)).length===0,Rz=(e,t,n,s)=>{if(en(n))return Di(n),g(n.dom);Nz(s)&&en(t)&&gs(s,D.fromTag("br"));const r=h(n.dom,j.before(s.dom));return te(t1(t),o=>{gs(s,o)}),n1(e,t),r},Oz=(e,t,n)=>{if(en(n))return $t(n),en(t)&&Di(t),g(t.dom);const s=E(n.dom);return te(t1(t),r=>{an(n,r)}),n1(e,t),s},kz=(e,t)=>{const n=ji(t,e);return C.from(n[n.length-1])},Dz=(e,t)=>hs(t,e)?kz(t,e):C.none(),s1=(e,t)=>{i(e,t.dom).bind(n=>C.from(n.getNode())).map(D.fromDom).filter(dn).each($t)},r1=(e,t,n)=>(s1(!0,t),s1(!1,n),Dz(t,n).fold(_e(Oz,e,t,n),_e(Rz,e,t,n))),o1=(e,t,n,s)=>t?r1(e,s,n):r1(e,n,s),Mw=(e,t)=>{const n=D.fromDom(e.getBody());return Tz(n.dom,t,e.selection.getRng()).map(r=>()=>{o1(n,t,r.from.block,r.to.block).each(o=>{e.selection.setRng(o.toRange())})})},Pz=(e,t)=>{const n=t.getRng();return Wn(ob(e,D.fromDom(n.startContainer)),ob(e,D.fromDom(n.endContainer)),(s,r)=>Ct(s,r)?C.none():C.some(()=>{n.deleteContents(),o1(e,!0,s,r).each(o=>{t.setRng(o.toRange())})})).getOr(C.none())},i1=(e,t)=>{const n=D.fromDom(t),s=_e(Ct,e);return A(n,qo,s).isSome()},Lz=(e,t)=>i1(e,t.startContainer)||i1(e,t.endContainer),Bz=(e,t)=>{const n=h(e.dom,j.fromRangeStart(t)).isNone(),s=l(e.dom,j.fromRangeEnd(t)).isNone();return!Lz(e,t)&&n&&s},Iz=e=>C.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),$z=e=>{const t=D.fromDom(e.getBody()),n=e.selection.getRng();return Bz(t,n)?Iz(e):Pz(t,e.selection)},Fw=(e,t)=>e.selection.isCollapsed()?C.none():$z(e),Gi=(e,t,n,s,r)=>C.from(t._selectionOverrides.showCaret(e,n,s,r)),Mz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Um=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?C.none():C.some(Mz(t)),Fz=(e,t,n)=>{const s=_m(1,e.getBody(),t),r=j.fromRangeStart(s),o=r.getNode();if(zl(o))return Gi(1,e,o,!r.isAtEnd(),!1);const a=r.getNode(!0);if(zl(a))return Gi(1,e,a,!1,!1);const u=tc(e.dom.getRoot(),r.getNode());return zl(u)?Gi(1,e,u,!1,n):C.none()},Uw=(e,t,n)=>t.collapsed?Fz(e,t,n).getOr(t):t,Uz=e=>Ua(e)||Rm(e),Hz=e=>Ha(e)||Om(e),Wz=(e,t)=>{se(t)&&t.data.length===0&&e.remove(t)},a1=(e,t,n,s,r,o)=>{Gi(s,e,o.getNode(!r),r,!0).each(a=>{if(t.collapsed){const u=t.cloneRange();r?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(a)}),Wz(e.dom,n)},zz=(e,t)=>{const n=e.selection.getRng();if(!se(n.commonAncestorContainer))return C.none();const s=t?wn.Forwards:wn.Backwards,r=Kr(e.getBody()),o=_e(ym,t?r.next:r.prev),a=t?Uz:Hz,u=jl(s,e.getBody(),n),d=o(u),p=d&&Ar(t,d);if(!p||!Iu(u,p))return C.none();if(a(p))return C.some(()=>a1(e,n,u.getNode(),s,t,p));const v=o(p);return v&&a(v)&&Iu(p,v)?C.some(()=>a1(e,n,u.getNode(),s,t,v)):C.none()},Hw=(e,t)=>zz(e,t),Ww=(e,t)=>{const n=e.getBody();return t?g(n).filter(Ua):E(n).filter(Ha)},zw=e=>{const t=e.selection.getRng();return!t.collapsed&&(Ww(e,!0).exists(n=>n.isEqual(j.fromRangeStart(t)))||Ww(e,!1).exists(n=>n.isEqual(j.fromRangeEnd(t))))},Vz=e=>le(e)&&(qo(D.fromDom(e))||_s(D.fromDom(e))),ir=sr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),qz=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return ye(n)&&n.getAttribute("data-mce-caret")===s},Kz=(e,t,n,s)=>{const r=o=>Yc(D.fromDom(o))&&!qr(n,s,e);return kg(!t,n).fold(()=>kg(t,s).fold(pt,r),r)},l1=(e,t,n,s)=>{const r=s.getNode(!t);return ob(D.fromDom(e),D.fromDom(n.getNode())).map(o=>en(o)?ir.remove(o.dom):ir.moveToElement(r)).orThunk(()=>C.some(ir.moveToElement(r)))},c1=(e,t,n)=>Hs(t,e,n).bind(s=>Vz(s.getNode())||Kz(e,t,n,s)?C.none():t&&Mt(s.getNode())||!t&&Mt(s.getNode(!0))?l1(e,t,n,s):t&&Ha(n)||!t&&Ua(n)?C.some(ir.moveToPosition(s)):C.none()),jz=(e,t)=>ft(t)?C.none():e&&Mt(t.nextSibling)?C.some(ir.moveToElement(t.nextSibling)):!e&&Mt(t.previousSibling)?C.some(ir.moveToElement(t.previousSibling)):C.none(),Gz=(e,t,n)=>n.fold(s=>C.some(ir.remove(s)),s=>C.some(ir.moveToElement(s)),s=>qr(t,s,e)?C.none():C.some(ir.moveToPosition(s))),Yz=(e,t,n)=>qz(t,n)?jz(t,n.getNode(!t)).orThunk(()=>c1(e,t,n)):c1(e,t,n).bind(s=>Gz(e,n,s)),Xz=(e,t,n)=>{const s=_m(t?1:-1,e,n),r=j.fromRangeStart(s),o=D.fromDom(e);return!t&&Ha(r)?C.some(ir.remove(r.getNode(!0))):t&&Ua(r)?C.some(ir.remove(r.getNode())):!t&&Ua(r)&&IE(o,r)?a$(o,r).map(a=>ir.remove(a.getNode())):t&&Ha(r)&&BE(o,r)?l$(o,r).map(a=>ir.remove(a.getNode())):Yz(e,t,r)},Qz=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Jl(e,t,D.fromDom(n)),!0),Zz=(e,t)=>n=>{const s=t?j.before(n):j.after(n);return e.selection.setRng(s.toRange()),!0},Jz=e=>t=>(e.selection.setRng(t.toRange()),!0),u1=(e,t)=>C.from(tc(e.getBody(),t)),eV=(e,t)=>{const n=e.selection.getNode();return u1(e,n).filter(Mt).fold(()=>Xz(e.getBody(),t,e.selection.getRng()).map(s=>()=>s.fold(Qz(e,t),Zz(e,t),Jz(e))),()=>C.some(Ke))},tV=e=>{te(Nn(e,".mce-offscreen-selection"),$t)},nV=(e,t)=>{const n=e.selection.getNode();return Mt(n)&&!jc(n)?u1(e,n.parentNode).filter(Mt).fold(()=>C.some(()=>{tV(D.fromDom(e.getBody())),Jl(e,t,D.fromDom(e.selection.getNode())),HE(e)}),()=>C.some(Ke)):zw(e)?C.some(()=>{YT(e,e.selection.getRng(),D.fromDom(e.getBody()))}):C.none()},f1=e=>{const t=e.dom,n=e.selection,s=tc(e.getBody(),n.getNode());if(pr(s)&&t.isBlock(s)&&t.isEmpty(s)){const r=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(r),n.setRng(j.before(r).toRange())}return!0},Vw=(e,t)=>e.selection.isCollapsed()?eV(e,t):nV(e,t),sV=(e,t)=>{const n=j.fromRangeStart(e.selection.getRng());return Hs(t,e.getBody(),n).filter(s=>t?e$(s):t$(s)).bind(s=>vm(t?0:-1,s)).map(s=>()=>e.selection.select(s))},qw=(e,t)=>e.selection.isCollapsed()?sV(e,t):C.none(),Xu=se,d1=e=>Xu(e)&&e.data[0]===Pn,m1=e=>Xu(e)&&e.data[e.data.length-1]===Pn,h1=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Pn)},rV=e=>{var t;if(Xu(e.previousSibling))return m1(e.previousSibling)||e.previousSibling.appendData(Pn),e.previousSibling;if(Xu(e))return d1(e)||e.insertData(0,Pn),e;{const n=h1(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},oV=e=>{var t,n;if(Xu(e.nextSibling))return d1(e.nextSibling)||e.nextSibling.insertData(0,Pn),e.nextSibling;if(Xu(e))return m1(e)||e.appendData(Pn),e;{const s=h1(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},Tb=(e,t)=>e?rV(t):oV(t),iV=_e(Tb,!0),aV=_e(Tb,!1),p1=(e,t)=>se(e.container())?Tb(t,e.container()):Tb(t,e.getNode()),g1=(e,t)=>{const n=t.get();return n&&e.container()===n&&jo(n)},Kw=(e,t)=>t.fold(n=>{zi(e.get());const s=iV(n);return e.set(s),C.some(j(s,s.length-1))},n=>g(n).map(s=>{if(g1(s,e)){const r=e.get();return j(r,1)}else{zi(e.get());const r=p1(s,!0);return e.set(r),j(r,1)}}),n=>E(n).map(s=>{if(g1(s,e)){const r=e.get();return j(r,r.length-1)}else{zi(e.get());const r=p1(s,!1);return e.set(r),j(r,r.length-1)}}),n=>{zi(e.get());const s=aV(n);return e.set(s),C.some(j(s,1))}),b1=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return C.none()},ls=sr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),v1=(e,t)=>{const n=Vr(t,e);return n||e},lV=(e,t,n)=>{const s=VT(n),r=v1(t,s.container());return Wa(e,r,s).fold(()=>l(r,s).bind(_e(Wa,e,r)).map(o=>ls.before(o)),C.none)},cV=(e,t)=>$(e,t)===null,_1=(e,t,n)=>Wa(e,t,n).filter(_e(cV,t)),uV=(e,t,n)=>{const s=qT(n);return _1(e,t,s).bind(r=>h(r,s).isNone()?C.some(ls.start(r)):C.none())},fV=(e,t,n)=>{const s=VT(n);return _1(e,t,s).bind(r=>l(r,s).isNone()?C.some(ls.end(r)):C.none())},dV=(e,t,n)=>{const s=qT(n),r=v1(t,s.container());return Wa(e,r,s).fold(()=>h(r,s).bind(_e(Wa,e,r)).map(o=>ls.after(o)),C.none)},y1=e=>!U$(jw(e)),ui=(e,t,n)=>b1([lV,uV,fV,dV],[e,t,n]).filter(y1),jw=e=>e.fold(Yt,Yt,Yt,Yt),C1=e=>e.fold(ae("before"),ae("start"),ae("end"),ae("after")),xb=e=>e.fold(ls.before,ls.before,ls.after,ls.after),Gw=e=>e.fold(ls.start,ls.start,ls.end,ls.end),mV=(e,t)=>C1(e)===C1(t)&&jw(e)===jw(t),hV=(e,t,n,s,r,o)=>Wn(Wa(t,n,s),Wa(t,n,r),(a,u)=>a!==u&&W$(n,a,u)?ls.after(e?a:u):o).getOr(o),pV=(e,t)=>e.fold(Bt,n=>!mV(n,t)),gV=(e,t,n,s,r)=>{const o=Ar(e,r);return Hs(e,n,o).map(_e(Ar,e)).fold(()=>s.map(xb),d=>ui(t,n,d).map(_e(hV,e,t,n,o,d)).filter(_e(pV,s))).filter(y1)},bV=(e,t)=>e?t.fold(ss(C.some,ls.start),C.none,ss(C.some,ls.after),C.none):t.fold(C.none,ss(C.some,ls.before),C.none,ss(C.some,ls.end)),vV=(e,t,n,s)=>{const r=Ar(e,s),o=ui(t,n,r);return ui(t,n,r).bind(_e(bV,e)).orThunk(()=>gV(e,t,n,o,s))},_V=e=>je(e.selection.getSel().modify),E1=(e,t,n)=>{const s=e?1:-1;return t.setRng(j(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yV=(e,t)=>{const n=t.selection.getRng(),s=e?j.fromRangeEnd(n):j.fromRangeStart(n);return _V(t)?e&&vd(s)?E1(!0,t.selection,s):!e&&_d(s)?E1(!1,t.selection,s):!1:!1};var fi;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(fi||(fi={}));const Nb=(e,t)=>e===wn.Backwards?Ds(t):t,CV=(e,t,n)=>e===wn.Forwards?t.next(n):t.prev(n),EV=(e,t,n,s)=>Dt(s.getNode(t===wn.Forwards))?fi.Br:qr(n,s)===!1?fi.Block:fi.Wrap,w1=(e,t,n,s)=>{const r=Kr(n);let o=s;const a=[];for(;o;){const u=CV(t,r,o);if(!u)break;if(Dt(u.getNode(!1)))return t===wn.Forwards?{positions:Nb(t,a).concat([u]),breakType:fi.Br,breakAt:C.some(u)}:{positions:Nb(t,a),breakType:fi.Br,breakAt:C.some(u)};if(!u.isVisible()){o=u;continue}if(e(o,u)){const d=EV(n,t,o,u);return{positions:Nb(t,a),breakType:d,breakAt:C.some(u)}}a.push(u),o=u}return{positions:Nb(t,a),breakType:fi.Eol,breakAt:C.none()}},S1=(e,t,n,s)=>t(n,s).breakAt.map(r=>{const o=t(n,r).positions;return e===wn.Backwards?o.concat(r):[r].concat(o)}).getOr([]),Yw=(e,t)=>Vt(e,(n,s)=>n.fold(()=>C.some(s),r=>Wn(Un(r.getClientRects()),Un(s.getClientRects()),(o,a)=>{const u=Math.abs(t-o.left);return Math.abs(t-a.left)<=u?s:r}).or(n)),C.none()),Rb=(e,t)=>Un(t.getClientRects()).bind(n=>Yw(e,n.left)),Hm=_e(w1,j.isAbove,-1),Wm=_e(w1,j.isBelow,1),A1=_e(S1,-1,Hm),T1=_e(S1,1,Wm),wV=(e,t)=>Hm(e,t).breakAt.isNone(),SV=(e,t)=>Wm(e,t).breakAt.isNone(),AV=e=>g(e).map(t=>[t].concat(Wm(e,t).positions)).getOr([]),TV=e=>E(e).map(t=>Hm(e,t).positions.concat(t)).getOr([]),xV=(e,t)=>Rb(A1(e,t),t),NV=(e,t)=>Rb(T1(e,t),t),RV=Mt,x1=(e,t)=>Math.abs(e.left-t),N1=(e,t)=>Math.abs(e.right-t),OV=e=>Lo(e,"node"),R1=(e,t)=>Nc(e,(n,s)=>{const r=Math.min(x1(n,t),N1(n,t)),o=Math.min(x1(s,t),N1(s,t));return o===r&&OV(s)&&RV(s.node)||o<r?s:n}),kV=e=>{const t=n=>at(n,s=>{const r=Fi(s);return r.node=e,r});if(ye(e))return t(e.getClientRects());if(se(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},O1=e=>js(e,kV);var zm;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(zm||(zm={}));const DV=(e,t,n,s)=>{let r=s;for(;r=ql(r,e,bt,t);)if(n(r))return},k1=(e,t,n,s,r,o)=>{let a=0;const u=[],d=_=>{let y=O1([_]);e===-1&&(y=y.reverse());for(let T=0;T<y.length;T++){const x=y[T];if(!n(x,p)){if(u.length>0&&t(x,bi(u))&&a++,x.line=a,r(x))return!0;u.push(x)}}return!1},p=bi(o.getClientRects());if(!p)return u;const v=o.getNode();return v&&(d(v),DV(e,s,d,v)),u},PV=(e,t)=>t.line>e,LV=(e,t)=>t.line===e,BV=_e(k1,zm.Up,Pl,Ll),IV=_e(k1,zm.Down,Ll,Pl),D1=e=>bi(e.getClientRects()),$V=(e,t,n,s)=>{const r=Kr(t);let o,a,u,d;const p=[];let v=0;e===1?(o=r.next,a=Ll,u=Pl,d=j.after(s)):(o=r.prev,a=Pl,u=Ll,d=j.before(s));const _=D1(d);do{if(!d.isVisible())continue;const y=D1(d);if(u(y,_))continue;p.length>0&&a(y,bi(p))&&v++;const T=Fi(y);if(T.position=d,T.line=v,n(T))return p;p.push(T)}while(d=o(d));return p},P1=e=>t=>PV(e,t),Xw=e=>t=>LV(e,t),Yi=(e,t)=>{e.selection.setRng(t),Nm(e,e.selection.getRng())},Qw=(e,t,n)=>C.some(Uw(e,t,n)),L1=(e,t,n,s,r,o)=>{const a=t===wn.Forwards,u=Kr(e.getBody()),d=_e(ym,a?u.next:u.prev),p=a?s:r;if(!n.collapsed){const x=yu(n);if(o(x))return Gi(t,e,x,t===wn.Backwards,!1);if(zw(e)){const S=n.cloneRange();return S.collapse(t===wn.Backwards),C.from(S)}}const v=jl(t,e.getBody(),n);if(p(v))return Um(e,v.getNode(!a));let _=d(v);const y=yd(n);if(_)_=Ar(a,_);else return y?C.some(n):C.none();if(p(_))return Gi(t,e,_.getNode(!a),a,!1);const T=d(_);return T&&p(T)&&Iu(_,T)?Gi(t,e,T.getNode(!a),a,!1):y?Qw(e,_.toRange(),!1):C.none()},B1=(e,t,n,s,r,o)=>{const a=jl(t,e.getBody(),n),u=bi(a.getClientRects()),d=t===zm.Down,p=e.getBody();if(!u)return C.none();if(zw(e)){const N=d?j.fromRangeEnd(n):j.fromRangeStart(n);return(d?NV:xV)(p,N).orThunk(()=>C.from(N)).map(L=>L.toRange())}const _=(d?IV:BV)(p,P1(1),a),y=Be(_,Xw(1)),T=u.left,x=R1(y,T);if(x&&o(x.node)){const N=Math.abs(T-x.left),B=Math.abs(T-x.right);return Gi(t,e,x.node,N<B,!1)}let S;if(s(a)?S=a.getNode():r(a)?S=a.getNode(!0):S=yu(n),S){const N=$V(t,p,P1(1),S);let B=R1(Be(N,Xw(1)),T);if(B||(B=bi(Be(N,Xw(0))),B))return Qw(e,B.position.toRange(),!1)}return y.length===0?Zw(e,d).filter(d?r:s).map(N=>Uw(e,N.toRange(),!1)):C.none()},Zw=(e,t)=>{const n=e.selection.getRng(),s=t?j.fromRangeEnd(n):j.fromRangeStart(n),r=Ts(s.container(),e.getBody());if(t){const o=Wm(r,s);return ao(o.positions)}else{const o=Hm(r,s);return Un(o.positions)}},I1=(e,t,n)=>Zw(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Ob=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},$1=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},M1=(e,t,n)=>Kw(t,n).map(s=>(Ob(e,s),n)),MV=(e,t,n)=>{const s=j.fromRangeStart(e);if(e.collapsed)return s;{const r=j.fromRangeEnd(e);return n?h(t,r).getOr(r):l(t,s).getOr(s)}},FV=(e,t,n)=>{const s=e.getBody(),r=MV(e.selection.getRng(),s,n),o=_e(ec,e);return vV(n,o,s,r).bind(u=>M1(e,t,u))},UV=(e,t,n)=>{const s=at(Nn(D.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),a=>a.dom),r=Be(s,e),o=Be(n,e);te(el(r,o),_e($1,!1)),te(el(o,r),_e($1,!0))},HV=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=j.fromRangeStart(e.selection.getRng());j.isTextPosition(s)&&!z$(s)&&(Ob(e,IC(n,s)),t.set(null))}},WV=(e,t,n,s)=>{if(t.selection.isCollapsed()){const r=Be(s,e);te(r,o=>{const a=j.fromRangeStart(t.selection.getRng());ui(e,t.getBody(),a).bind(u=>M1(t,n,u))})}},F1=(e,t,n)=>Hl(e)?FV(e,t,n).isSome():!1,U1=(e,t,n)=>Hl(t)?yV(e,t):!1,zV=e=>{const t=vn(null),n=_e(ec,e);return e.on("NodeChange",s=>{Hl(e)&&(UV(n,e.dom,s.parents),HV(e,t),WV(n,e,t,s.parents))}),t},VV=_e(U1,!0),qV=_e(U1,!1),kb=(e,t,n)=>{if(Hl(e)){const s=Zw(e,t).getOrThunk(()=>{const r=e.selection.getRng();return t?j.fromRangeEnd(r):j.fromRangeStart(r)});return ui(_e(ec,e),e.getBody(),s).exists(r=>{const o=xb(r);return Kw(n,o).exists(a=>(Ob(e,a),!0))})}else return!1},KV=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},jV=e=>Wn(g(e),E(e),(t,n)=>{const s=Ar(!0,t),r=Ar(!1,n);return l(e,s).forall(o=>o.isEqual(r))}).getOr(!0),H1=(e,t)=>n=>Kw(t,n).map(s=>()=>Ob(e,s)),W1=(e,t,n,s)=>{const r=e.getBody(),o=_e(ec,e);e.undoManager.ignore(()=>{e.selection.setRng(KV(n,s)),jT(e),ui(o,r,j.fromRangeStart(e.selection.getRng())).map(Gw).bind(H1(e,t)).each(Ks)}),e.nodeChanged()},GV=(e,t)=>{const n=Vr(t,e);return n||e},YV=(e,t,n,s)=>{const r=GV(e.getBody(),s.container()),o=_e(ec,e),a=ui(o,r,s);return a.bind(d=>n?d.fold(ae(C.some(Gw(d))),C.none,ae(C.some(xb(d))),C.none):d.fold(C.none,ae(C.some(xb(d))),C.none,ae(C.some(Gw(d))))).map(H1(e,t)).getOrThunk(()=>{const d=Mu(n,r,s),p=d.bind(v=>ui(o,r,v));return Wn(a,p,()=>Wa(o,r,s).bind(v=>jV(v)?C.some(()=>{Jl(e,n,D.fromDom(v))}):C.none())).getOrThunk(()=>p.bind(()=>d.map(v=>()=>{n?W1(e,t,s,v):W1(e,t,v,s)})))})},Jw=(e,t,n)=>{if(e.selection.isCollapsed()&&Hl(e)){const s=j.fromRangeStart(e.selection.getRng());return YV(e,t,n,s)}return C.none()},XV=(e,t)=>{const n=ji(t,e);return oo(n,vs).fold(ae(n),s=>n.slice(0,s))},QV=e=>Mc(e)===1,ZV=(e,t,n,s)=>{const r=_e(kF,t),o=at(Be(s,r),a=>a.dom);if(o.length===0)Jl(t,e,n);else{const a=OF(n.dom,o);t.selection.setRng(a.toRange())}},JV=(e,t)=>{const n=D.fromDom(e.getBody()),s=D.fromDom(e.selection.getStart()),r=Be(XV(n,s),QV);return ao(r).bind(o=>{const a=j.fromRangeStart(e.selection.getRng());return G$(t,a,o.dom)&&!DF(o)?C.some(()=>ZV(t,e,o,r)):C.none()})},e0=(e,t)=>e.selection.isCollapsed()?JV(e,t):C.none(),t0=(e,t,n)=>le(n)?C.some(()=>{e._selectionOverrides.hideFakeCaret(),Jl(e,t,D.fromDom(n))}):C.none(),e3=(e,t)=>{const n=t?Rm:Om,s=t?wn.Forwards:wn.Backwards,r=jl(s,e.getBody(),e.selection.getRng());return n(r)?t0(e,t,r.getNode(!t)):C.from(Ar(t,r)).filter(o=>n(o)&&Iu(r,o)).bind(o=>t0(e,t,o.getNode(!t)))},t3=(e,t)=>{const n=e.selection.getNode();return gr(n)?t0(e,t,n):C.none()},n0=(e,t)=>e.selection.isCollapsed()?e3(e,t):t3(e,t),n3=e=>Xs(e,t=>pr(t.dom)||Mt(t.dom)).exists(t=>pr(t.dom)),s0=e=>il(e!=null?e:"").getOr(0),z1=(e,t)=>{const n=e||N_(t)?"margin":"padding",s=Is(t,"direction")==="rtl"?"-right":"-left";return n+s},s3=(e,t,n,s,r,o)=>{const a=z1(n,D.fromDom(o)),u=s0(e.getStyle(o,a));if(t==="outdent"){const d=Math.max(0,u-s);e.setStyle(o,a,d?d+r:"")}else{const d=u+s+r;e.setStyle(o,a,d)}},r3=(e,t)=>fs(t,n=>{const s=z1(ug(e),n),r=Ti(n,s).map(s0).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&r>0}),V1=e=>{const t=K1(e);return!e.mode.isReadOnly()&&(t.length>1||r3(e,t))},q1=e=>Qc(e)||_s(e),o3=e=>mr(e).exists(q1),K1=e=>Be(od(e.selection.getSelectedBlocks()),t=>!q1(t)&&!o3(t)&&n3(t)),j1=(e,t)=>{var n,s;const{dom:r}=e,o=fg(e),a=(s=(n=/[a-z%]+$/i.exec(o))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",u=s0(o),d=ug(e);te(K1(e),p=>{s3(r,t,d,u,a,p.dom)})},i3=e=>j1(e,"indent"),G1=e=>j1(e,"outdent"),Y1=e=>{if(e.selection.isCollapsed()&&V1(e)){const t=e.dom,n=e.selection.getRng(),s=j.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(r!==null&&LE(D.fromDom(r),s))return C.some(()=>G1(e))}return C.none()},X1=(e,t,n)=>Po([Y1,Vw,Hw,(s,r)=>Jw(s,t,r),Mw,YE,qw,n0,Fw,e0],s=>s(e,n)),a3=(e,t)=>{X1(e,t,!1).fold(()=>{jT(e),HE(e)},Ks)},l3=(e,t)=>{X1(e,t,!0).fold(()=>q$(e),Ks)},c3=(e,t)=>{e.addCommand("delete",()=>{a3(e,t)}),e.addCommand("forwardDelete",()=>{l3(e,t)})},Q1=5,u3=400,Z1=e=>e.touches===void 0||e.touches.length!==1?C.none():C.some(e.touches[0]),f3=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>Q1||s>Q1},d3=e=>{const t=Jo(),n=vn(!1),s=vu(r=>{e.dispatch("longpress",{...r,type:"longpress"}),n.set(!0)},u3);e.on("touchstart",r=>{Z1(r).each(o=>{s.cancel();const a={x:o.clientX,y:o.clientY,target:r.target};s.throttle(r),n.set(!1),t.set(a)})},!0),e.on("touchmove",r=>{s.cancel(),Z1(r).each(o=>{t.on(a=>{f3(o,a)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",r=>{s.cancel(),r.type!=="touchcancel"&&t.get().filter(o=>o.target.isEqualNode(r.target)).each(()=>{n.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})})},!0)},r0=(e,t)=>Ye(e,t.nodeName),m3=(e,t)=>se(t)?!0:ye(t)?!r0(e.getBlockElements(),t)&&!Er(t)&&!Sl(e,t):!1,h3=(e,t,n)=>At(TT(D.fromDom(n),D.fromDom(t)),s=>r0(e,s.dom)),p3=(e,t)=>{if(se(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||r0(e,t.nextSibling)))return!0}return!1},J1=e=>e.dom.create(ws(e),Fl(e)),g3=e=>{const t=e.dom,n=e.selection,s=e.schema,r=s.getBlockElements(),o=n.getStart(),a=e.getBody();let u,d,p=!1;const v=ws(e);if(!o||!ye(o))return;const _=a.nodeName.toLowerCase();if(!s.isValidChild(_,v.toLowerCase())||h3(r,a,o))return;const y=n.getRng(),{startContainer:T,startOffset:x,endContainer:S,endOffset:N}=y,B=Zl(e);let L=a.firstChild;for(;L;)if(ye(L)&&Xo(s,L),m3(s,L)){if(p3(r,L)){d=L,L=L.nextSibling,t.remove(d);continue}u||(u=J1(e),a.insertBefore(u,L),p=!0),d=L,L=L.nextSibling,u.appendChild(d)}else u=null,L=L.nextSibling;p&&B&&(y.setStart(T,x),y.setEnd(S,N),n.setRng(y),e.nodeChanged())},eR=(e,t,n)=>{const s=D.fromDom(J1(e)),r=gd();an(s,r),n(t,s);const o=document.createRange();return o.setStartBefore(r.dom),o.setEndBefore(r.dom),o},b3=e=>{e.on("NodeChange",_e(g3,e))},tR=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,v3=(e,t,n)=>function(s){const r=arguments,o=r[r.length-2],a=o>0?t.charAt(o-1):"";if(a==='"')return s;if(a===">"){const u=t.lastIndexOf("<",o);if(u!==-1&&t.substring(u,o).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode(typeof r[1]=="string"?r[1]:r[0])+"</span>"},_3=(e,t,n)=>{let s=t.length,r=n.content;if(n.format!=="raw"){for(;s--;)r=r.replace(t[s],v3(e,r,Cg(e)));n.content=r}},y3=e=>{const t="contenteditable",n=" "+ie.trim(AC(e))+" ",s=" "+ie.trim(Cg(e))+" ",r=tR(n),o=tR(s),a=Ba(e);a.length>0&&e.on("BeforeSetContent",u=>{_3(e,a,u)}),e.parser.addAttributeFilter("class",u=>{let d=u.length;for(;d--;){const p=u[d];r(p)?p.attr(t,"true"):o(p)&&p.attr(t,"false")}}),e.serializer.addAttributeFilter(t,u=>{let d=u.length;for(;d--;){const p=u[d];!r(p)&&!o(p)||(a.length>0&&p.attr("data-mce-content")?(p.name="#text",p.type=3,p.raw=!0,p.value=p.attr("data-mce-content")):p.attr(t,null))}})},C3=e=>bl(D.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),nR=(e,t)=>{t.hasAttribute("data-mce-caret")&&(El(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},E3=(e,t)=>{const n=C3(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),nR(e,n);return}Zc(n)&&(nR(e,n),e.undoManager.add())}},w3=e=>{e.on("keyup compositionstart",_e(E3,e))},sR=Mt,S3=(e,t,n)=>L1(t,e,n,Ua,Ha,sR),A3=(e,t,n)=>B1(t,e,n,o=>Ua(o)||ST(o),o=>Ha(o)||AT(o),sR),T3=e=>{const t=e.dom.create(ws(e));return t.innerHTML='<br data-mce-bogus="1">',t},rR=(e,t,n)=>{const s=Kr(e.getBody()),r=_e(ym,t===1?s.next:s.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!r(j.fromRangeStart(n))){const u=D.fromDom(T3(e));t===1?Ys(D.fromDom(o),u):gs(D.fromDom(o),u),e.selection.select(u.dom,!0),e.selection.collapse()}}},x3=(e,t)=>{const n=t?wn.Forwards:wn.Backwards,s=e.selection.getRng();return S3(n,e,s).orThunk(()=>(rR(e,n,s),C.none()))},N3=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return A3(n,e,s).orThunk(()=>(rR(e,n,s),C.none()))},oR=(e,t)=>x3(e,t).exists(n=>(Yi(e,n),!0)),iR=(e,t)=>N3(e,t).exists(n=>(Yi(e,n),!0)),aR=(e,t)=>I1(e,t,t?Ha:Ua),Db=(e,t)=>Ww(e,!t).map(n=>{const s=n.toRange(),r=e.selection.getRng();return t?s.setStart(r.startContainer,r.startOffset):s.setEnd(r.endContainer,r.endOffset),s}).exists(n=>(Yi(e,n),!0)),R3=e=>St(["figcaption"],Pt(e)),O3=(e,t)=>{const n=_e(Ct,t);return Xs(D.fromDom(e.container()),vs,n).filter(R3)},k3=(e,t,n)=>t?SV(e.dom,n):wV(e.dom,n),D3=(e,t)=>{const n=D.fromDom(e.getBody()),s=j.fromRangeStart(e.selection.getRng());return O3(s,n).exists(()=>{if(k3(n,t,s)){const o=eR(e,n,t?an:$o);return e.selection.setRng(o),!0}else return!1})},lR=(e,t)=>e.selection.isCollapsed()?D3(e,t):!1,cR={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},P3=e=>at(e,t=>({...cR,...t})),L3=e=>at(e,t=>({...cR,...t})),uR=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,B3=(e,t)=>js(P3(e),n=>uR(n,t)?[n]:[]),I3=(e,t)=>js(L3(e),n=>uR(n,t)?[n]:[]),et=(e,...t)=>()=>e.apply(null,t),Vm=(e,t)=>Zt(B3(e,t),n=>n.action()),fR=(e,t)=>Po(I3(e,t),n=>n.action()),dR=(e,t)=>{const n=t?wn.Forwards:wn.Backwards,s=e.selection.getRng();return L1(e,n,s,Rm,Om,gr).exists(r=>(Yi(e,r),!0))},mR=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return B1(e,n,s,Rm,Om,gr).exists(r=>(Yi(e,r),!0))},hR=(e,t)=>I1(e,t,t?Om:Rm),pR=sr.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),qm={...pR,none:e=>pR.none(e)},$3=(e,t)=>gR(e,t,Bt),gR=(e,t,n)=>js(He(e),s=>Bn(s,t)?n(s)?[s]:[]:gR(s,t,n)),M3=(e,t,n=pt)=>{if(n(t))return C.none();if(St(e,Pt(t)))return C.some(t);const s=r=>Bn(r,"table")||n(r);return gl(t,e.join(","),s)},F3=(e,t)=>M3(["td","th"],e,t),U3=e=>$3(e,"th,td"),bR=(e,t)=>Ni(e,"table",t),o0=(e,t,n,s,r=Bt)=>{const o=s===1;if(!o&&n<=0)return qm.first(e[0]);if(o&&n>=e.length-1)return qm.last(e[e.length-1]);{const a=n+s,u=e[a];return r(u)?qm.middle(t,u):o0(e,t,a,s,r)}},vR=(e,t)=>bR(e,t).bind(n=>{const s=U3(n);return oo(s,o=>Ct(e,o)).map(o=>({index:o,all:s}))}),H3=(e,t,n)=>vR(e,n).fold(()=>qm.none(e),r=>o0(r.all,e,r.index,1,t)),W3=(e,t,n)=>vR(e,n).fold(()=>qm.none(),r=>o0(r.all,e,r.index,-1,t)),z3=e=>Ni(e,"[contenteditable]"),_R=(e,t=!1)=>ma(e)?e.dom.isContentEditable:z3(e).fold(ae(t),n=>V3(n)==="true"),V3=e=>e.dom.contentEditable,q3=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),K3=(e,t)=>js(t,n=>{const s=q3(Fi(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),j3=(e,t,n)=>Vt(e,(s,r)=>s.fold(()=>C.some(r),o=>{const a=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n)),u=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return C.some(u<a?r:o)}),C.none()),yR=(e,t,n,s,r)=>{const o=Nn(D.fromDom(n),"td,th,caption").map(u=>u.dom),a=Be(K3(e,o),u=>t(u,r));return j3(a,s,r).map(u=>u.cell)},G3=e=>e.bottom,Y3=e=>e.top,X3=(e,t)=>e.y<t,Q3=(e,t)=>e.y>t,Z3=_e(yR,G3,X3),J3=_e(yR,Y3,Q3),eq=(e,t)=>Un(t.getClientRects()).bind(n=>Z3(e,n.left,n.top)).bind(n=>Rb(TV(n),t)),tq=(e,t)=>ao(t.getClientRects()).bind(n=>J3(e,n.left,n.top)).bind(n=>Rb(AV(n),t)),nq=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),sq=e=>e.breakType===fi.Wrap&&e.positions.length===0,rq=e=>e.breakType===fi.Br&&e.positions.length===1,CR=(e,t,n)=>{const s=e(t,n);return sq(s)||!Dt(n.getNode())&&rq(s)?!nq(e,t,s):s.breakAt.isNone()},oq=_e(CR,Hm),iq=_e(CR,Wm),aq=(e,t,n)=>{const s=j.fromRangeStart(t);return i(!e,n).exists(r=>r.isEqual(s))},lq=(e,t,n,s)=>{const r=e.selection.getRng(),o=t?1:-1;return Rg()&&aq(t,r,n)?(Gi(o,e,n,!t,!1).each(a=>{Yi(e,a)}),!0):!1},cq=(e,t,n)=>eq(t,n).orThunk(()=>Un(n.getClientRects()).bind(s=>Yw(A1(e,j.before(t)),s.left))).getOr(j.before(t)),uq=(e,t,n)=>tq(t,n).orThunk(()=>Un(n.getClientRects()).bind(s=>Yw(T1(e,j.after(t)),s.left))).getOr(j.after(t)),ER=(e,t)=>{const n=t.getNode(e);return qn(n)?C.some(n):C.none()},fq=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?Ys:gs,r=eR(t,D.fromDom(n),s);Yi(t,r)})},wR=(e,t,n)=>{const s=ER(!!t,n),r=t===!1;s.fold(()=>Yi(e,n.toRange()),o=>i(r,e.getBody()).filter(a=>a.isEqual(n)).fold(()=>Yi(e,n.toRange()),a=>fq(t,e,o)))},dq=(e,t,n,s)=>{const r=e.selection.getRng(),o=j.fromRangeStart(r),a=e.getBody();if(!t&&oq(s,o)){const u=cq(a,n,o);return wR(e,t,u),!0}else if(t&&iq(s,o)){const u=uq(a,n,o);return wR(e,t,u),!0}else return!1},SR=(e,t,n)=>C.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>C.from(e.dom.getParent(s,"table")).map(r=>n(e,t,r,s))).getOr(!1),AR=(e,t)=>SR(e,t,lq),TR=(e,t)=>SR(e,t,dq),mq=e=>{const t=zu.exact(e,0,e,0);return AB(t)},xR=(e,t,n)=>n.fold(C.none,C.none,(s,r)=>PI(r).map(o=>mq(o)),s=>(e.execCommand("mceTableInsertRowAfter"),NR(e,t,s))),NR=(e,t,n)=>xR(e,t,H3(n,_R)),hq=(e,t,n)=>xR(e,t,W3(n,_R)),RR=(e,t)=>{const n=["table","li","dl"],s=D.fromDom(e.getBody()),r=u=>{const d=Pt(u);return Ct(u,s)||St(n,d)},o=e.selection.getRng(),a=D.fromDom(t?o.endContainer:o.startContainer);return F3(a,r).map(u=>(bR(u,r).each(v=>{e.model.table.clearSelectedCells(v.dom)}),e.selection.collapse(!t),(t?NR:hq)(e,r,u).each(v=>{e.selection.setRng(v)}),!0)).getOr(!1)},pq=(e,t,n)=>{const s=gt.os.isMacOS()||gt.os.isiOS();Vm([{keyCode:Te.RIGHT,action:et(oR,e,!0)},{keyCode:Te.LEFT,action:et(oR,e,!1)},{keyCode:Te.UP,action:et(iR,e,!1)},{keyCode:Te.DOWN,action:et(iR,e,!0)},...s?[{keyCode:Te.UP,action:et(Db,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Te.DOWN,action:et(Db,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Te.RIGHT,action:et(AR,e,!0)},{keyCode:Te.LEFT,action:et(AR,e,!1)},{keyCode:Te.UP,action:et(TR,e,!1)},{keyCode:Te.DOWN,action:et(TR,e,!0)},{keyCode:Te.RIGHT,action:et(dR,e,!0)},{keyCode:Te.LEFT,action:et(dR,e,!1)},{keyCode:Te.UP,action:et(mR,e,!1)},{keyCode:Te.DOWN,action:et(mR,e,!0)},{keyCode:Te.RIGHT,action:et(F1,e,t,!0)},{keyCode:Te.LEFT,action:et(F1,e,t,!1)},{keyCode:Te.RIGHT,ctrlKey:!s,altKey:s,action:et(VV,e,t)},{keyCode:Te.LEFT,ctrlKey:!s,altKey:s,action:et(qV,e,t)},{keyCode:Te.UP,action:et(lR,e,!1)},{keyCode:Te.DOWN,action:et(lR,e,!0)}],n).each(r=>{n.preventDefault()})},gq=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||pq(e,t,n)})},Eo=(e,t)=>({container:e,offset:t}),Pb=Nt.DOM,Lb=e=>t=>e===t?-1:0,bq=e=>t=>e.isBlock(t)||St(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",i0=(e,t,n)=>{if(se(e)&&t>=0)return C.some(Eo(e,t));{const s=Mi(Pb);return C.from(s.backwards(e,t,Lb(e),n)).map(r=>Eo(r.container,r.container.data.length))}},vq=(e,t,n)=>{if(se(e)&&t>=e.length)return C.some(Eo(e,t));{const s=Mi(Pb);return C.from(s.forwards(e,t,Lb(e),n)).map(r=>Eo(r.container,0))}},a0=(e,t,n)=>{if(!se(e))return C.none();const s=e.data;if(t>=0&&t<=s.length)return C.some(Eo(e,t));{const r=Mi(Pb);return C.from(r.backwards(e,t,Lb(e),n)).bind(o=>{const a=o.container.data;return a0(o.container,t+a.length,n)})}},OR=(e,t,n)=>{if(!se(e))return C.none();const s=e.data;if(t<=s.length)return C.some(Eo(e,t));{const r=Mi(Pb);return C.from(r.forwards(e,t,Lb(e),n)).bind(o=>OR(o.container,t-s.length,n))}},l0=(e,t,n,s,r)=>{const o=Mi(e,bq(e));return C.from(o.backwards(t,n,s,r))},_q=e=>e.collapsed&&se(e.startContainer),kR=e=>Wr(e.toString().replace(/\u00A0/g," ")),DR=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,c0=(e,t)=>e.substring(t.length),yq=(e,t,n)=>{let s;const r=n.charAt(0);for(s=t-1;s>=0;s--){const o=e.charAt(s);if(DR(o))return C.none();if(r===o&&Ln(e,n,s,t))break}return C.some(s)},Cq=(e,t,n,s=0)=>{if(!_q(t))return C.none();const r={text:"",offset:0},o=(u,d,p)=>(r.text=p+r.text,r.offset+=d,yq(r.text,r.offset,n).getOr(d)),a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return l0(e,t.startContainer,t.startOffset,o,a).bind(u=>{const d=t.cloneRange();if(d.setStart(u.container,u.offset),d.setEnd(t.endContainer,t.endOffset),d.collapsed)return C.none();const p=kR(d);return p.lastIndexOf(n)!==0||c0(p,n).length<s?C.none():C.some({text:c0(p,n),range:d,trigger:n})})},PR=(e,t,n,s=0)=>$I(D.fromDom(t.startContainer)).fold(()=>Cq(e,t,n,s),r=>{const o=e.createRng();o.selectNode(r.dom);const a=kR(o);return C.some({range:o,text:c0(a,n),trigger:n})}),Eq=e=>e.nodeType===lo,wq=e=>e.nodeType===ca,LR=e=>{if(Eq(e))return Eo(e,e.data.length);{const t=e.childNodes;return t.length>0?LR(t[t.length-1]):Eo(e,t.length)}},BR=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?BR(n[t],0):n.length>0&&wq(e)&&n.length===t?LR(n[n.length-1]):Eo(e,t)},Sq=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return l0(e,t.container,t.offset,(r,o)=>o===0?-1:o,s).filter(r=>{const o=r.container.data.charAt(r.offset-1);return!DR(o)}).isSome()},Aq=e=>t=>{const n=BR(t.startContainer,t.startOffset);return!Sq(e,n)},Tq=(e,t,n)=>Po(n.triggers,s=>PR(e,t,s)),xq=(e,t)=>{const n=t(),s=e.selection.getRng();return Tq(e.dom,s,n).bind(r=>IR(e,t,r))},IR=(e,t,n,s={})=>{var r;const o=t(),u=(r=e.selection.getRng().startContainer.nodeValue)!==null&&r!==void 0?r:"",d=Be(o.lookupByTrigger(n.trigger),v=>n.text.length>=v.minChars&&v.matches.getOrThunk(()=>Aq(e.dom))(n.range,u,n.text));if(d.length===0)return C.none();const p=Promise.all(at(d,v=>v.fetch(n.text,v.maxResults,s).then(y=>({matchText:n.text,items:y,columns:v.columns,onAction:v.onAction,highlightOn:v.highlightOn}))));return C.some({lookupData:p,context:n})};var wo;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(wo||(wo={}));const u0=(e,t,n)=>e.stype===wo.Error?t(e.serror):n(e.svalue),Nq=e=>{const t=[],n=[];return te(e,s=>{u0(s,r=>n.push(r),r=>t.push(r))}),{values:t,errors:n}},Rq=(e,t)=>e.stype===wo.Error?{stype:wo.Error,serror:t(e.serror)}:e,Oq=(e,t)=>e.stype===wo.Value?{stype:wo.Value,svalue:t(e.svalue)}:e,kq=(e,t)=>e.stype===wo.Value?t(e.svalue):e,Dq=(e,t)=>e.stype===wo.Error?t(e.serror):e,$R=e=>({stype:wo.Value,svalue:e}),MR=e=>({stype:wo.Error,serror:e}),$n={fromResult:e=>e.fold(MR,$R),toResult:e=>u0(e,ts.error,ts.value),svalue:$R,partition:Nq,serror:MR,bind:kq,bindError:Dq,map:Oq,mapError:Rq,fold:u0},f0=e=>Ze(e)&&ds(e).length>100?" removed due to size":JSON.stringify(e,null,2),Pq=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):e;return at(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Bb=(e,t)=>$n.serror([{path:e,getErrorInfo:t}]),Lq=(e,t,n)=>Bb(e,()=>'Could not find valid *required* value for "'+t+'" in '+f0(n)),Bq=(e,t)=>Bb(e,()=>'Choice schema did not contain choice key: "'+t+'"'),Iq=(e,t,n)=>Bb(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+f0(t)),$q=(e,t)=>Bb(e,ae(t)),Mq=(e,t,n,s)=>Ut(n,s).fold(()=>Iq(e,n,s),o=>o.extract(e.concat(["branch: "+s]),t)),Fq=(e,t)=>({extract:(r,o)=>Ut(o,e).fold(()=>Bq(r,e),u=>Mq(r,o,t,u)),toString:()=>"chooseOn("+e+"). Possible values: "+ds(t)}),Uq=(e,t)=>t,Hq=(e,t)=>it(e)&&it(t)?Ib(e,t):t,FR=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const r=t[s];for(const o in r)Ye(r,o)&&(n[o]=e(n[o],r[o]))}return n},Ib=FR(Hq),Wq=FR(Uq),UR=()=>({tag:"required",process:{}}),zq=e=>({tag:"defaultedThunk",process:e}),HR=e=>zq(ae(e)),Vq=()=>({tag:"option",process:{}}),qq=(e,t)=>e.length>0?$n.svalue(Ib(t,Wq.apply(void 0,e))):$n.svalue(t),WR=e=>ss($n.serror,io)(e),Kq={consolidateObj:(e,t)=>{const n=$n.partition(e);return n.errors.length>0?WR(n.errors):qq(n.values,t)},consolidateArr:e=>{const t=$n.partition(e);return t.errors.length>0?WR(t.errors):$n.svalue(t.values)}},jq=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),Gq=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),zR=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},d0=e=>{const t=(s,r)=>$n.bindError(e(r),o=>$q(s,o)),n=ae("val");return{extract:t,toString:n}},Yq=d0($n.svalue),Xq=(e,t,n,s)=>Ut(t,n).fold(()=>Lq(e,n,t),s),VR=(e,t,n,s)=>{const r=Ut(e,t).getOrThunk(()=>n(e));return s(r)},Qq=(e,t,n)=>n(Ut(e,t)),Zq=(e,t,n,s)=>{const r=Ut(e,t).map(o=>o===!0?n(e):o);return s(r)},Jq=(e,t,n,s,r)=>{const o=u=>r.extract(t.concat([s]),u),a=u=>u.fold(()=>$n.svalue(C.none()),d=>{const p=r.extract(t.concat([s]),d);return $n.map(p,C.some)});switch(e.tag){case"required":return Xq(t,n,s,o);case"defaultedThunk":return VR(n,s,e.process,o);case"option":return Qq(n,s,a);case"defaultedOptionThunk":return Zq(n,s,e.process,a);case"mergeWithThunk":return VR(n,s,ae({}),u=>{const d=Ib(e.process(n),u);return o(d)})}},e6=(e,t,n)=>{const s={},r=[];for(const o of n)zR(o,(a,u,d,p)=>{const v=Jq(d,e,t,a,p);$n.fold(v,_=>{r.push(..._)},_=>{s[u]=_})},(a,u)=>{s[a]=u(t)});return r.length>0?$n.serror(r):$n.svalue(s)},m0=e=>({extract:(s,r)=>e6(s,r,e),toString:()=>`obj{
`+at(e,r=>zR(r,(o,a,u,d)=>o+" -> "+d.toString(),(o,a)=>"state("+o+")")).join(`
`)+"}"}),qR=e=>({extract:(s,r)=>{const o=at(r,(a,u)=>e.extract(s.concat(["["+u+"]"]),a));return Kq.consolidateArr(o)},toString:()=>"array("+e.toString()+")"}),t6=e=>d0(t=>e(t).fold($n.serror,$n.svalue)),n6=(e,t,n)=>{const s=t.extract([e],n);return $n.mapError(s,r=>({input:n,errors:r}))},s6=(e,t,n)=>$n.toResult(n6(e,t,n)),r6=e=>`Errors: 
`+Pq(e.errors).join(`
`)+`

Input object: `+f0(e.input),KR=(e,t)=>Fq(e,nl(t,m0)),o6=ae(Yq),$b=(e,t)=>d0(n=>{const s=typeof n;return e(n)?$n.svalue(n):$n.serror(`Expected type: ${t} but got: ${s}`)}),i6=$b(fn,"number"),Mb=$b(pe,"string"),a6=$b(_t,"boolean"),h0=$b(je,"function"),Km=jq,jR=Gq,l6=e=>t6(t=>St(e,t)?ts.value(t):ts.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),GR=(e,t)=>Km(e,e,UR(),t),YR=e=>GR(e,Mb),XR=e=>GR(e,h0),c6=(e,t)=>Km(e,e,UR(),qR(t)),p0=(e,t)=>Km(e,e,Vq(),t),Fb=e=>p0(e,Mb),u6=e=>p0(e,h0),f6=(e,t)=>Km(e,e,HR(t),o6()),Qu=(e,t,n)=>Km(e,e,HR(t),n),QR=(e,t)=>Qu(e,t,i6),d6=(e,t)=>Qu(e,t,Mb),ZR=(e,t,n)=>Qu(e,t,l6(n)),g0=(e,t)=>Qu(e,t,a6),b0=(e,t)=>Qu(e,t,h0),m6=(e,t,n)=>Qu(e,t,qR(n)),h6=YR("type"),p6=XR("fetch"),v0=XR("onAction"),g6=b0("onSetup",()=>Ke),b6=Fb("text"),v6=Fb("icon"),_6=Fb("tooltip"),y6=Fb("label"),C6=g0("active",!1),E6=g0("enabled",!0),JR=g0("primary",!1),w6=e=>f6("columns",e),jm=e=>d6("type",e),S6=m0([h6,YR("trigger"),QR("minChars",1),w6(1),QR("maxResults",10),u6("matches"),p6,v0,m6("highlightOn",[],Mb)]),A6=e=>s6("Autocompleter",S6,{trigger:e.ch,...e}),_0=[E6,_6,v6,b6,g6],eO=[C6].concat(_0),T6=[b0("predicate",pt),ZR("scope","node",["node","editor"]),ZR("position","selection",["node","selection","line"])],x6=_0.concat([jm("contextformbutton"),JR,v0,jR("original",Yt)]),N6=eO.concat([jm("contextformbutton"),JR,v0,jR("original",Yt)]),R6=_0.concat([jm("contextformbutton")]),O6=eO.concat([jm("contextformtogglebutton")]),k6=KR("type",{contextformbutton:x6,contextformtogglebutton:N6});m0([jm("contextform"),b0("initValue",ae("")),y6,c6("commands",k6),p0("launch",KR("type",{contextformbutton:R6,contextformtogglebutton:O6}))].concat(T6));const D6=e=>{const t=e.ui.registry.getAll().popups,n=nl(t,a=>A6(a).fold(u=>{throw new Error(r6(u))},Yt)),s=Tc(Ac(n,a=>a.trigger)),r=xf(n);return{dataset:n,triggers:s,lookupByTrigger:a=>Be(r,u=>u.trigger===a)}},P6=(e,t)=>{const n=vu(t.load,50);e.on("keypress compositionend",s=>{s.which!==27&&n.throttle()}),e.on("keydown",s=>{const r=s.which;r===8?n.throttle():r===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},L6=e=>{const t=Jo(),n=vn(!1),s=t.isSet,r=()=>{s()&&(M2(e),QL(e),n.set(!1),t.clear())},o=p=>{s()||($2(e,p.range),t.set({trigger:p.trigger,matchLength:p.text.length}))},a=vi(()=>D6(e)),u=p=>t.get().map(v=>PR(e.dom,e.selection.getRng(),v.trigger).bind(_=>IR(e,a,_,p))).getOrThunk(()=>xq(e,a)),d=p=>{u(p).fold(r,v=>{o(v.context),v.lookupData.then(_=>{t.get().map(y=>{const T=v.context;y.trigger===T.trigger&&(T.text.length-y.matchLength>=10?r():(t.set({...y,matchLength:T.text.length}),n.get()?XL(e,{lookupData:_}):(n.set(!0),YL(e,{lookupData:_}))))})})})};e.addCommand("mceAutocompleterReload",(p,v)=>{const _=Ze(v)?v.fetchOptions:{};d(_)}),e.addCommand("mceAutocompleterClose",r),P6(e,{cancelIfNecessary:r,load:d})},tO=e=>(t,n,s={})=>{const r=t.getBody(),o={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:Ke,inputType:n},a=Sp(new InputEvent(e));return t.dispatch(e,{...a,...o,...s})},y0=tO("input"),C0=tO("beforeinput"),B6=(e,t,n)=>{const s=n.keyCode===Te.BACKSPACE?"deleteContentBackward":"deleteContentForward";fR([{keyCode:Te.BACKSPACE,action:et(Y1,e)},{keyCode:Te.BACKSPACE,action:et(Vw,e,!1)},{keyCode:Te.DELETE,action:et(Vw,e,!0)},{keyCode:Te.BACKSPACE,action:et(Hw,e,!1)},{keyCode:Te.DELETE,action:et(Hw,e,!0)},{keyCode:Te.BACKSPACE,action:et(Jw,e,t,!1)},{keyCode:Te.DELETE,action:et(Jw,e,t,!0)},{keyCode:Te.BACKSPACE,action:et(YE,e,!1)},{keyCode:Te.DELETE,action:et(YE,e,!0)},{keyCode:Te.BACKSPACE,action:et(qw,e,!1)},{keyCode:Te.DELETE,action:et(qw,e,!0)},{keyCode:Te.BACKSPACE,action:et(n0,e,!1)},{keyCode:Te.DELETE,action:et(n0,e,!0)},{keyCode:Te.BACKSPACE,action:et(Fw,e,!1)},{keyCode:Te.DELETE,action:et(Fw,e,!0)},{keyCode:Te.BACKSPACE,action:et(Mw,e,!1)},{keyCode:Te.DELETE,action:et(Mw,e,!0)},{keyCode:Te.BACKSPACE,action:et(e0,e,!1)},{keyCode:Te.DELETE,action:et(e0,e,!0)}],n).each(r=>{n.preventDefault(),C0(e,s).isDefaultPrevented()||(r(),y0(e,s))})},I6=(e,t)=>{Vm([{keyCode:Te.BACKSPACE,action:et(f1,e)},{keyCode:Te.DELETE,action:et(f1,e)}],t)},$6=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||B6(e,t,n)}),e.on("keyup",n=>{n.isDefaultPrevented()||I6(e,n)})},M6=e=>{for(;e;){if(ye(e)||se(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Gm=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const o=M6(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(n.doc.createTextNode(xn),t.firstChild)}const r=n.createRng();if(t.normalize(),t.hasChildNodes()){const o=new gn(t,t);let a=t,u;for(;u=o.current();){if(se(u)){r.setStart(u,0),r.setEnd(u,0);break}if(s[u.nodeName.toLowerCase()]){r.setStartBefore(u),r.setEndBefore(u);break}a=u,u=o.next()}u||(r.setStart(a,0),r.setEnd(a,0))}else Dt(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),Nm(e,r)},Ub=(e,t)=>{const n=e.getRoot();let s,r=t;for(;r!==n&&r&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(s=r),r=r.parentNode;return r!==n?s:n},E0=e=>C.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),F6=e=>E0(e).fold(ae(""),t=>t.nodeName.toUpperCase()),U6=e=>E0(e).filter(t=>_s(D.fromDom(t))).isSome(),H6=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,W6=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},nO=(e,t)=>{const n=e==null?void 0:e.parentNode;return le(n)&&n.nodeName===t},sO=e=>le(e)&&/^(OL|UL|LI)$/.test(e.nodeName),z6=e=>le(e)&&/^(LI|DT|DD)$/.test(e.nodeName),V6=e=>sO(e)&&sO(e.parentNode),Hb=e=>{const t=e.parentNode;return z6(t)?t:e},Wb=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!ye(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},q6=(e,t,n,s,r)=>{const o=e.dom,a=e.selection.getRng(),u=n.parentNode;if(n===e.getBody()||!u)return;V6(n)&&(r="LI");let d=t(r);if(Wb(n,s,!0)&&Wb(n,s,!1))if(nO(n,"LI")){const p=Hb(n);o.insertAfter(d,p),W6(n)?o.remove(p):o.remove(n)}else o.replace(d,n);else if(Wb(n,s,!0))nO(n,"LI")?(o.insertAfter(d,Hb(n)),d.appendChild(o.doc.createTextNode(" ")),d.appendChild(n)):u.insertBefore(d,n),o.remove(s);else if(Wb(n,s,!1))o.insertAfter(d,Hb(n)),o.remove(s);else{n=Hb(n);const p=a.cloneRange();p.setStartAfter(s),p.setEndAfter(n);const v=p.extractContents();r==="LI"&&H6(v,"LI")?(d=v.firstChild,o.insertAfter(v,n)):(o.insertAfter(v,n),o.insertAfter(d,n)),o.remove(s)}Gm(e,d)},K6=e=>{te(ba(D.fromDom(e),Ls),t=>{const n=t.dom;n.nodeValue=Wr(n.data)})},j6=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},G6=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),w0=e=>{e.innerHTML='<br data-mce-bogus="1">'},S0=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,rO=(e,t)=>le(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true",Y6=(e,t,n)=>{var s;const r=[];if(!n)return;let o=n;for(;o=o.firstChild;){if(e.isBlock(o))return;ye(o)&&!t[o.nodeName.toLowerCase()]&&r.push(o)}let a=r.length;for(;a--;)o=r[a],(!o.hasChildNodes()||o.firstChild===o.lastChild&&((s=o.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||G6(e,o))&&e.remove(o)},A0=(e,t,n)=>se(t)?e?n===1&&t.data.charAt(n-1)===Pn?0:n:n===t.data.length-1&&t.data.charAt(n)===Pn?t.data.length:n:n,X6=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,A0(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,A0(!1,e.endContainer,e.endOffset)),t},Q6=e=>{let t=e;do se(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Z6=(e,t,n)=>{const s=e.dom;C.from(n.style).map(s.parseStyle).each(d=>{const v={...sd(D.fromDom(t)),...d};s.setStyles(t,v)});const r=C.from(n.class).map(d=>d.split(/\s+/)),o=C.from(t.className).map(d=>Be(d.split(/\s+/),p=>p!==""));Wn(r,o,(d,p)=>{const v=Be(p,y=>!St(d,y)),_=[...d,...v];s.setAttrib(t,"class",_.join(" "))});const a=["style","class"],u=sl(n,(d,p)=>!St(a,p));s.setAttribs(t,u)},Ym=(e,t)=>{if(ws(e).toLowerCase()===t.tagName.toLowerCase()){const s=Fl(e);Z6(e,t,s)}},J6=(e,t,n,s,r)=>{var o;const a=e.dom,u=(o=Ub(a,s))!==null&&o!==void 0?o:a.getRoot();let d=a.getParent(s,a.isBlock);if(!d||!rO(a,d)){d=d||u;let p;if(d===e.getBody()||ep(d)?p=d.nodeName.toLowerCase():d.parentNode?p=d.parentNode.nodeName.toLowerCase():p="",!d.hasChildNodes()){const y=a.create(t);return Ym(e,y),d.appendChild(y),n.setStart(y,0),n.setEnd(y,0),y}let v=s;for(;v&&v.parentNode!==d;)v=v.parentNode;let _;for(;v&&!a.isBlock(v);)_=v,v=v.previousSibling;if(_&&e.schema.isValidChild(p,t.toLowerCase())){const y=_.parentNode,T=a.create(t);for(Ym(e,T),y.insertBefore(T,_),v=_;v&&!a.isBlock(v);){const x=v.nextSibling;T.appendChild(v),v=x}n.setStart(s,r),n.setEnd(s,r)}}return s},e8=(e,t)=>{t.normalize();const n=t.lastChild;(!n||ye(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},t8=(e,t)=>{const n=cg(e);return ft(t)?!1:pe(n)?St(ie.explode(n),t.nodeName.toLowerCase()):n},oO={insert:(e,t)=>{let n,s,r,o,a=!1;const u=e.dom,d=e.schema,p=d.getNonEmptyElements(),v=e.selection.getRng(),_=ws(e),y=fe=>{let oe=n;const V=d.getTextInlineElements();let F;fe||r==="TABLE"||r==="HR"?F=u.create(fe||_):F=L.cloneNode(!1);let ge=F;if(go(e)===!1)u.setAttrib(F,"style",null),u.setAttrib(F,"class",null);else do if(V[oe.nodeName]){if(P(oe)||Er(oe))continue;const Se=oe.cloneNode(!1);u.setAttrib(Se,"id",""),F.hasChildNodes()?(Se.appendChild(F.firstChild),F.appendChild(Se)):(ge=Se,F.appendChild(Se))}while((oe=oe.parentNode)&&oe!==B);return Ym(e,F),w0(ge),F},T=fe=>{const oe=A0(fe,n,s);if(se(n)&&(fe?oe>0:oe<n.data.length))return!1;if(n.parentNode===L&&a&&!fe||fe&&ye(n)&&n===L.firstChild)return!0;if(S0(n,"TABLE")||S0(n,"HR"))return a&&!fe||!a&&fe;const V=new gn(n,L);se(n)&&(fe&&oe===0?V.prev():!fe&&oe===n.data.length&&V.next());let F;for(;F=V.current();){if(ye(F)){if(!F.getAttribute("data-mce-bogus")){const ge=F.nodeName.toLowerCase();if(p[ge]&&ge!=="br")return!1}}else if(se(F)&&!Pi(F.data))return!1;fe?V.prev():V.next()}return!0},x=()=>{let fe;return/^(H[1-6]|PRE|FIGURE)$/.test(r)&&I!=="HGROUP"?fe=y(_):fe=y(),t8(e,o)&&rO(u,o)&&u.isEmpty(L)?fe=u.split(o,L):u.insertAfter(fe,L),Gm(e,fe),fe};Zg(u,v).each(fe=>{v.setStart(fe.startContainer,fe.startOffset),v.setEnd(fe.endContainer,fe.endOffset)}),n=v.startContainer,s=v.startOffset;const S=!!(t&&t.shiftKey),N=!!(t&&t.ctrlKey);ye(n)&&n.hasChildNodes()&&(a=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,a&&se(n)?s=n.data.length:s=0);const B=Ub(u,n);if(!B||j6(e,n))return;S||(n=J6(e,_,v,n,s));let L=u.getParent(n,u.isBlock)||u.getRoot();o=le(L==null?void 0:L.parentNode)?u.getParent(L.parentNode,u.isBlock):null,r=L?L.nodeName.toUpperCase():"";const I=o?o.nodeName.toUpperCase():"";if(I==="LI"&&!N){const fe=o;L=fe,o=fe.parentNode,r=I}if(/^(LI|DT|DD)$/.test(r)&&ye(o)&&u.isEmpty(L)){q6(e,y,o,L,_);return}if(L===e.getBody())return;const W=L.parentNode;let G;if(zr(L))G=El(L),u.isEmpty(L)&&w0(L),Ym(e,G),Gm(e,G);else if(T(!1))G=x();else if(T(!0)&&W)G=W.insertBefore(y(),L),Gm(e,S0(L,"HR")?G:L);else{const fe=X6(v).cloneRange();fe.setEndAfter(L);const oe=fe.extractContents();K6(oe),Q6(oe),G=oe.firstChild,u.insertAfter(oe,L),Y6(u,p,G),e8(u,L),u.isEmpty(L)&&w0(L),G.normalize(),u.isEmpty(G)?(u.remove(G),x()):(Ym(e,G),Gm(e,G))}u.setAttrib(G,"id",""),e.dispatch("NewBlock",{newBlock:G})},fakeEventName:"insertParagraph"},n8=(e,t,n)=>{const s=new gn(t,n);let r;const o=e.getNonEmptyElements();for(;r=s.next();)if(o[r.nodeName.toLowerCase()]||se(r)&&r.length>0)return!0;return!1},iO=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Nm(e,s)},s8=(e,t)=>{const n=e.selection,s=e.dom,r=n.getRng();let o,a=!1;Zg(s,r).each(T=>{r.setStart(T.startContainer,T.startOffset),r.setEnd(T.endContainer,T.endOffset)});let u=r.startOffset,d=r.startContainer;if(ye(d)&&d.hasChildNodes()){const T=u>d.childNodes.length-1;d=d.childNodes[Math.min(u,d.childNodes.length-1)]||d,T&&se(d)?u=d.data.length:u=0}let p=s.getParent(d,s.isBlock);const v=p&&p.parentNode?s.getParent(p.parentNode,s.isBlock):null,_=v?v.nodeName.toUpperCase():"",y=!!(t&&t.ctrlKey);_==="LI"&&!y&&(p=v),se(d)&&u>=d.data.length&&(n8(e.schema,d,p||s.getRoot())||(o=s.create("br"),r.insertNode(o),r.setStartAfter(o),r.setEndAfter(o),a=!0)),o=s.create("br"),Xd(s,r,o),iO(e,o,a),e.undoManager.add()},r8=(e,t)=>{const n=D.fromTag("br");gs(D.fromDom(t),n),e.undoManager.add()},o8=(e,t)=>{a8(e.getBody(),t)||Ys(D.fromDom(t),D.fromTag("br"));const n=D.fromTag("br");Ys(D.fromDom(t),n),iO(e,n.dom,!1),e.undoManager.add()},i8=e=>Dt(e.getNode()),a8=(e,t)=>i8(j.after(t))?!0:l(e,j.after(t)).map(n=>Dt(n.getNode())).getOr(!1),aO=e=>e&&e.nodeName==="A"&&"href"in e,l8=e=>e.fold(pt,aO,aO,pt),c8=e=>{const t=_e(ec,e),n=j.fromRangeStart(e.selection.getRng());return ui(t,e.getBody(),n).filter(l8)},u8=(e,t)=>{t.fold(Ke,_e(r8,e),_e(o8,e),Ke)},lO={insert:(e,t)=>{const n=c8(e);n.isSome()?n.each(_e(u8,e)):s8(e,t)},fakeEventName:"insertLineBreak"},cO=(e,t)=>E0(e).filter(n=>t.length>0&&Bn(D.fromDom(n),t)).isSome(),f8=e=>cO(e,lm(e)),d8=e=>cO(e,zy(e)),xr=sr.generate([{br:[]},{block:[]},{none:[]}]),m8=(e,t)=>d8(e),uO=e=>(t,n)=>U6(t)===e,fO=(e,t)=>(n,s)=>F6(n)===e.toUpperCase()===t,h8=e=>{const t=Ub(e.dom,e.selection.getStart());return ft(t)},Xm=e=>fO("pre",e),p8=()=>fO("summary",!0),zb=e=>(t,n)=>Hy(t)===e,g8=(e,t)=>f8(e),Vb=(e,t)=>t,b8=e=>{const t=ws(e),n=Ub(e.dom,e.selection.getStart());return le(n)&&e.schema.isValidChild(n.nodeName,t)},jr=(e,t)=>(n,s)=>Vt(e,(o,a)=>o&&a(n,s),!0)?C.some(t):C.none(),v8=(e,t)=>b1([jr([m8],xr.none()),jr([Xm(!0),h8],xr.none()),jr([p8()],xr.br()),jr([Xm(!0),zb(!1),Vb],xr.br()),jr([Xm(!0),zb(!1)],xr.block()),jr([Xm(!0),zb(!0),Vb],xr.block()),jr([Xm(!0),zb(!0)],xr.br()),jr([uO(!0),Vb],xr.br()),jr([uO(!0)],xr.block()),jr([g8],xr.br()),jr([Vb],xr.br()),jr([b8],xr.block())],[e,!!(t&&t.shiftKey)]).getOr(xr.none()),qb=(e,t,n)=>{t.selection.isCollapsed()||V$(t),!(le(n)&&C0(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),le(n)&&y0(t,e.fakeEventName))},dO=(e,t)=>{const n=()=>qb(lO,e,t),s=()=>qb(oO,e,t),r=v8(e,t);switch(Wy(e)){case"linebreak":r.fold(n,n,Ke);break;case"block":r.fold(s,s,Ke);break;case"invert":r.fold(s,n,Ke);break;default:r.fold(n,s,Ke);break}},_8=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),YH(e.undoManager),e.undoManager.transact(()=>{dO(e,t)}))},y8=e=>{e.on("keydown",t=>{t.keyCode===Te.ENTER&&_8(e,t)})},C8=(e,t,n)=>{const s=gt.os.isMacOS()||gt.os.isiOS();Vm([{keyCode:Te.END,action:et(aR,e,!0)},{keyCode:Te.HOME,action:et(aR,e,!1)},...s?[]:[{keyCode:Te.HOME,action:et(Db,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Te.END,action:et(Db,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Te.END,action:et(hR,e,!0)},{keyCode:Te.HOME,action:et(hR,e,!1)},{keyCode:Te.END,action:et(kb,e,!0,t)},{keyCode:Te.HOME,action:et(kb,e,!1,t)}],n).each(r=>{n.preventDefault()})},E8=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||C8(e,t,n)})},w8=e=>{e.on("input",t=>{t.isComposing||E$(e)})},S8=Ci(),A8=(e,t,n)=>{Vm([{keyCode:Te.PAGE_UP,action:et(kb,e,!1,t)},{keyCode:Te.PAGE_DOWN,action:et(kb,e,!0,t)}],n)},mO=e=>e.stopImmediatePropagation(),hO=e=>e.keyCode===Te.PAGE_UP||e.keyCode===Te.PAGE_DOWN,pO=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",mO,!0):!n&&e.get()&&t.off("NodeChange",mO),e.set(n)},T8=(e,t)=>{if(S8.os.isMacOS())return;const n=vn(!1);e.on("keydown",s=>{hO(s)&&pO(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||A8(e,t,s),hO(s)&&n.get()&&(pO(n,e,!1),e.nodeChanged())})},gO=(e,t)=>{const n=t.container(),s=t.offset();return se(n)?(n.insertData(s,e),C.some(j(n,s+e.length))):Bu(t).map(r=>{const o=D.fromText(e);return t.isAtEnd()?Ys(r,o):gs(r,o),j(o.dom,e.length)})},x8=_e(gO,xn),N8=_e(gO," "),R8=e=>t=>t.fold(n=>h(e.dom,j.before(n)),n=>g(n),n=>E(n),n=>l(e.dom,j.after(n))),O8=(e,t)=>n=>g$(e,n)?x8(t):N8(t),k8=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),D8=e=>{const t=j.fromRangeStart(e.selection.getRng()),n=D.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=_e(ec,e),r=j.fromRangeStart(e.selection.getRng());return ui(s,e.getBody(),r).bind(R8(n)).map(o=>()=>O8(n,t)(o).each(k8(e)))}else return C.none()},P8=(e,t)=>{fR([{keyCode:Te.SPACEBAR,action:et(D8,e)}],t).each(n=>{t.preventDefault(),C0(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),y0(e,"insertText",{data:" "}))})},L8=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||P8(e,t)})},B8=e=>Eg(e)?[{keyCode:Te.TAB,action:et(RR,e,!0)},{keyCode:Te.TAB,shiftKey:!0,action:et(RR,e,!1)}]:[],I8=(e,t)=>{Vm([...B8(e)],t).each(n=>{t.preventDefault()})},$8=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||I8(e,t)})},M8=e=>{if(e.addShortcut("Meta+P","","mcePrint"),L6(e),ci(e))return vn(null);{const t=zV(e);return w3(e),gq(e,t),$6(e,t),y8(e),L8(e),w8(e),$8(e),E8(e,t),T8(e,t),t}};class F8{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",r=>{const o=t.selection.getRng(),a={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};(r.type==="nodechange"||!_E(a,n))&&t.dispatch("SelectionChange"),n=a}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const r=t.selection.getStart(!0);!r||Vg(t)&&!s.isSameElementPath(r)&&t.dom.isChildOf(r,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",r=>{!r.isDefaultPrevented()&&Vg(t)&&(t.selection.getNode().nodeName==="IMG"?Sr.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!aC(this.editor)&&!this.editor.mode.isReadOnly()){const r=this.editor.getBody();s=n.getStart(!0)||r,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,r))&&(s=r);const o=[];this.editor.dom.getParent(s,a=>a===r?!0:(o.push(a),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:o})}}isSameElementPath(t){let n;const s=this.editor,r=Ds(s.dom.getParents(t,Bt,s.getBody()));if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1}}const bO="x-tinymce/html",Kb=ae(bO),T0="<!-- "+bO+" -->",U8=e=>T0+e,H8=e=>e.replace(T0,""),vO=e=>e.indexOf(T0)!==-1,W8=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),z8=(e,t)=>{let n="<"+e;const s=Ac(t,(r,o)=>o+'="'+mo.encodeAllRaw(r)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},V8=(e,t,n)=>{const s=e.split(/\n\n/),r=z8(t,n),o="</"+t+">",a=at(s,d=>d.split(/\n/).join("<br />")),u=d=>r+d+o;return a.length===1?a[0]:at(a,u).join("")},_O="%MCEPASTEBIN%",q8=(e,t)=>{const{dom:n,selection:s}=e,r=e.getBody();t.set(s.getRng());const o=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},_O);gt.browser.isFirefox()&&n.setStyle(o,"left",n.getStyle(r,"direction",!0)==="rtl"?65535:-65535),n.bind(o,"beforedeactivate focusin focusout",a=>{a.stopPropagation()}),o.focus(),s.select(o,!0)},K8=(e,t)=>{const n=e.dom;if(x0(e)){let s;const r=t.get();for(;s=x0(e);)n.remove(s),n.unbind(s);r&&e.selection.setRng(r)}t.set(null)},x0=e=>e.dom.get("mcepastebin"),j8=e=>le(e)&&e.id==="mcepastebin",G8=e=>{const t=e.dom,n=(a,u)=>{a.appendChild(u),t.remove(u,!0)},[s,...r]=Be(e.getBody().childNodes,j8);te(r,a=>{n(s,a)});const o=t.select("div[id=mcepastebin]",s);for(let a=o.length-1;a>=0;a--){const u=t.create("div");s.insertBefore(u,o[a]),n(u,o[a])}return s?s.innerHTML:""},yO=e=>e===_O,Y8=e=>{const t=vn(null);return{create:()=>q8(e,t),remove:()=>K8(e,t),getEl:()=>x0(e),getHtml:()=>G8(e),getLastRng:t.get}},CO=(e,t)=>(ie.each(t,n=>{rt(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),X8=e=>{const t=Cs(),n=Ku({},t);let s="";const r=t.getVoidElements(),o=ie.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),u=d=>{const p=d.name,v=d;if(p==="br"){s+=`
`;return}if(p!=="wbr"){if(r[p]&&(s+=" "),o[p]){s+=" ";return}if(d.type===3&&(s+=d.value),!(d.name in t.getVoidElements())){let _=d.firstChild;if(_)do u(_);while(_=_.next)}a[p]&&v.next&&(s+=`
`,p==="p"&&(s+=`
`))}};return e=CO(e,[/<!\[[^\]]+\]>/g]),u(n.parse(e)),s},EO=e=>(e=CO(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,r)=>!s&&!r?" ":xn],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Q8=e=>{let t=0;return()=>e+t++},Z8=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ie.hasOwn(n,t)?"image/"+n[t]:"image/"+t},J8=(e,t)=>{const n=Ku({},e.schema);n.addNodeFilter("meta",r=>{ie.each(r,o=>{o.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Ma({validate:!0},e.schema).serialize(s)},wO=(e,t)=>({content:e,cancelled:t}),e5=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),r=JL(e,s,n);return wO(r.node.innerHTML,r.isDefaultPrevented())},t5=(e,t,n)=>{const s=ZL(e,t,n),r=J8(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?e5(e,r,n):wO(r,s.isDefaultPrevented())},n5=(e,t,n)=>t5(e,t,n),N0=(e,t)=>(e.insertContent(t,{merge:yC(e),paste:!0}),!0),R0=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),s5=(e,t)=>R0(t)&&At(hm(e),n=>Ah(t.toLowerCase(),`.${n.toLowerCase()}`)),r5=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),o5=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),i5=(e,t,n)=>!e.selection.isCollapsed()&&R0(t)?o5(e,t,n):!1,a5=(e,t,n)=>s5(e,t)?r5(e,t,n):!1,l5=(e,t)=>{ie.each([i5,a5,N0],n=>!n(e,t,N0))},c5=(e,t,n)=>{n||!CC(e)?N0(e,t):l5(e,t)},u5=Q8("mceclip"),SO=(e,t,n,s)=>{const r=n5(e,t,n);r.cancelled||c5(e,r.content,s)},jb=(e,t,n)=>{const s=n||vO(t);SO(e,H8(t),s,!1)},O0=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,`
`),s=up(n,_g(e)),r=V8(s,ws(e),Fl(e));SO(e,r,!1,!0)},AO=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Zu=(e,t)=>t in e&&e[t].length>0,TO=e=>Zu(e,"text/html")||Zu(e,"text/plain"),f5=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return le(n)?e.dom.encode(n[1]):void 0},d5=(e,t,n,s)=>{const r=u5(),o=ln(e)&&le(n.name),a=o?f5(e,n.name):r,u=o?n.name:void 0,d=t.create(r,n,s,a,u);return t.add(d),d},m5=(e,t)=>{Sw(t.uri).each(({data:n,type:s,base64Encoded:r})=>{const o=r?n:btoa(n),a=t.file,u=e.editorUpload.blobCache,d=u.getByData(o,s),p=d!=null?d:d5(e,u,a,o);jb(e,`<img src="${p.blobUri()}">`,!1)})},h5=e=>e.type==="paste",p5=e=>Promise.all(at(e,t=>oN(t).then(n=>({file:t,uri:n})))),g5=e=>{const t=hm(e);return n=>On(n.type,"image/")&&At(t,s=>Z8(s)===n.type)},b5=(e,t)=>{const n=t.items?js(Qn(t.items),r=>r.kind==="file"?[r.getAsFile()]:[]):[],s=t.files?Qn(t.files):[];return Be(n.length>0?n:s,g5(e))},xO=(e,t,n)=>{const s=h5(t)?t.clipboardData:t.dataTransfer;if(Wl(e)&&s){const r=b5(e,s);if(r.length>0)return t.preventDefault(),p5(r).then(o=>{n&&e.selection.setRng(n),te(o,a=>{m5(e,a)})}),!0}return!1},v5=e=>{var t,n;return gt.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},_5=e=>Te.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,NO=(e,t,n,s)=>{let r=EO(n);const o=Zu(t,Kb())||vO(n),a=!o&&W8(r),u=R0(r);(yO(r)||!r.length||a&&!u)&&(s=!0),(s||u)&&(Zu(t,"text/plain")&&a?r=t["text/plain"]:r=X8(r)),!yO(r)&&(s?O0(e,r):jb(e,r,o))},y5=(e,t,n)=>{let s;const r=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",o=>{_5(o)&&!o.isDefaultPrevented()&&(s=o.shiftKey&&o.keyCode===86)}),e.on("paste",o=>{if(o.isDefaultPrevented()||v5(o))return;const a=n.get()==="text"||s;s=!1;const u=AO(o.clipboardData);!TO(u)&&xO(e,o,r())||(Zu(u,"text/html")?(o.preventDefault(),NO(e,u,u["text/html"],a)):(t.create(),Sr.setEditorTimeout(e,()=>{const d=t.getHtml();t.remove(),NO(e,u,d,a)},0)))})},C5=e=>{const t=r=>On(r,"webkit-fake-url"),n=r=>On(r,"data:"),s=r=>{var o;return((o=r.data)===null||o===void 0?void 0:o.paste)===!0};e.parser.addNodeFilter("img",(r,o,a)=>{if(!Wl(e)&&s(a))for(const u of r){const d=u.attr("src");pe(d)&&!u.attr("data-mce-object")&&d!==gt.transparentSrc&&(t(d)||!yg(e)&&n(d))&&u.remove()}})},E5=(e,t,n)=>{y5(e,t,n),C5(e)},w5=(e,t)=>{t.get()==="text"?(t.set("html"),DA(e,!1)):(t.set("text"),DA(e,!0)),e.focus()},S5=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{w5(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&jb(e,s.html,s.internal),s.text&&O0(e,s.text)})},A5=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(Kb(),t),!0}catch{return!1}else return!1},RO=(e,t,n,s)=>{A5(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},OO=e=>(t,n)=>{const{dom:s,selection:r}=e,o=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=s.create("div",{contenteditable:"true"},t);s.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(a),s.add(e.getBody(),o);const u=r.getRng();a.focus();const d=s.createRng();d.selectNodeContents(a),r.setRng(d),Sr.setEditorTimeout(e,()=>{r.setRng(u),s.remove(o),n()},0)},kO=e=>({html:U8(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),T5=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),DO=e=>!e.selection.isCollapsed()||T5(e),x5=e=>t=>{!t.isDefaultPrevented()&&DO(e)&&RO(t,kO(e),OO(e),()=>{if(gt.browser.isChromium()||gt.browser.isFirefox()){const n=e.selection.getRng();Sr.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},N5=e=>t=>{!t.isDefaultPrevented()&&DO(e)&&RO(t,kO(e),OO(e),Ke)},R5=e=>{e.on("cut",x5(e)),e.on("copy",N5(e))},PO=(e,t)=>{var n,s;return Ql.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},O5=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},LO=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},k5=e=>At(e.files,t=>/^image\//.test(t.type)),D5=(e,t)=>{gC(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Wl(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&k5(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented()||t.get())return;const s=PO(e,n);if(ft(s))return;const r=AO(n.dataTransfer),o=Zu(r,Kb());if((!TO(r)||O5(r))&&xO(e,n,s))return;const a=r[Kb()],u=a||r["text/html"]||r["text/plain"];u&&(n.preventDefault(),Sr.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{a&&e.execCommand("Delete"),LO(e,s);const d=EO(u);r["text/html"]?jb(e,d,o):O0(e,d)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Wl(e)&&!t.get()&&(n.preventDefault(),LO(e,PO(e,n))),n.type==="dragend"&&t.set(!1)})},P5=e=>{const t=r=>o=>{r(e,o)},n=bC(e);je(n)&&e.on("PastePreProcess",t(n));const s=vC(e);je(s)&&e.on("PastePostProcess",t(s))},L5=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},B5=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,BO=e=>ie.trim(e).replace(B5,zg).toLowerCase(),I5=(e,t,n)=>{const s=_C(e);if(n||s==="all"||!vg(e))return t;const r=s?s.split(/[, ]/):[];if(r&&s!=="none"){const o=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,d,p,v)=>{const _=o.parseStyle(o.decode(p)),y={};for(let x=0;x<r.length;x++){const S=_[r[x]];let N=S,B=o.getStyle(a,r[x],!0);/color/.test(r[x])&&(N=BO(N),B=BO(B)),B!==N&&(y[r[x]]=S)}const T=o.serializeStyle(y,"span");return T?d+' style="'+T+'"'+v:d+v})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(o,a,u,d)=>a+' style="'+u+'"'+d),t},$5=e=>{(gt.browser.isChromium()||gt.browser.isSafari())&&L5(e,I5)},M5=e=>{const t=vn(!1),n=vn(EC(e)?"text":"html"),s=Y8(e);$5(e),S5(e,n),P5(e),e.on("PreInit",()=>{R5(e),D5(e,t),E5(e,s,n)})},F5=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},U5=e=>{e.parser.addNodeFilter("details",t=>{te(t,n=>{n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",t=>{te(t,n=>{const s=n.attr("data-mce-open");n.attr("open",pe(s)?s:null),n.attr("data-mce-open",null)})})},H5=e=>{F5(e),U5(e)},W5=Dt,IO=se,z5=e=>Mt(e.dom),V5=e=>pr(e.dom),$O=e=>t=>Ct(D.fromDom(e),t),q5=(e,t)=>Xs(D.fromDom(e),n=>V5(n)||vs(n),$O(t)).getOr(D.fromDom(t)).dom,MO=(e,t)=>Xs(D.fromDom(e),z5,$O(t)),FO=(e,t,n)=>{const s=new gn(e,t),r=n?s.next.bind(s):s.prev.bind(s);let o=e;for(let a=n?e:r();a&&!W5(a);a=r())Js(a)&&(o=a);return o},K5=(e,t)=>{const s=j.fromRangeStart(e).getNode(),r=q5(s,t),o=FO(s,r,!1),a=FO(s,r,!0),u=document.createRange();return MO(o,r).fold(()=>{IO(o)?u.setStart(o,0):u.setStartBefore(o)},d=>u.setStartBefore(d.dom)),MO(a,r).fold(()=>{IO(a)?u.setEnd(a,a.data.length):u.setEndAfter(a)},d=>u.setEndAfter(d.dom)),u},j5=e=>{const t=K5(e.selection.getRng(),e.getBody());e.selection.setRng(ew(t))},G5=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),j5(e))})};var Ju;(function(e){e.Before="before",e.After="after"})(Ju||(Ju={}));const Y5=(e,t)=>Math.abs(e.left-t),X5=(e,t)=>Math.abs(e.right-t),Q5=(e,t)=>e>=t.top&&e<=t.bottom,Z5=(e,t)=>e.top<t.bottom&&e.bottom>t.top,J5=(e,t)=>{const n=fy(e,t)/Math.min(e.height,t.height);return Z5(e,t)&&n>.5},eK=(e,t)=>{const n=Be(e,s=>Q5(t,s));return uy(n).fold(()=>[[],e],s=>{const{pass:r,fail:o}=ko(e,a=>J5(a,s));return[r,o]})},tK=(e,t)=>({node:e.node,position:Y5(e,t)<X5(e,t)?Ju.Before:Ju.After}),nK=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),k0=(e,t,n)=>{const s=v=>Js(v.node)?C.some(v):ye(v.node)?k0(Qn(v.node.childNodes),t,n):C.none(),r=(v,_)=>{if(v.length>=2){const y=s(v[0]).getOr(v[0]),T=s(v[1]).getOr(v[1]);if(Math.abs(_(y,t,n)-_(T,t,n))<2){if(se(y.node))return C.some(y);if(se(T.node))return C.some(T)}}return C.none()},o=(v,_)=>{const y=Do(v,(T,x)=>_(T,t,n)-_(x,t,n));return r(y,_).orThunk(()=>Po(y,s))},[a,u]=eK(O1(e),n),{pass:d,fail:p}=ko(u,v=>v.top<n);return o(a,nK).orThunk(()=>o(p,Up)).orThunk(()=>o(d,Up))},sK=(e,t,n,s)=>{const r=(o,a)=>{const u=p=>ye(p)&&p.classList.contains("mce-drag-container"),d=Be(o.dom.childNodes,Fn(u));return a.fold(()=>k0(d,n,s),p=>{const v=Be(d,_=>_!==p.dom);return k0(v,n,s)}).orThunk(()=>(Ct(o,e)?C.none():Wh(o)).bind(v=>r(v,C.some(o))))};return r(t,C.none())},rK=(e,t,n)=>{const s=D.fromDom(e),r=Mr(s),a=D.fromPoint(r,t,n).filter(u=>hs(s,u)).getOr(s);return sK(s,a,t,n)},UO=(e,t,n)=>rK(e,t,n).filter(s=>Vl(s.node)).map(s=>tK(s,t)),HO=e=>{var t,n;const s=e.getBoundingClientRect(),r=e.ownerDocument,o=r.documentElement,a=r.defaultView;return{top:s.top+((t=a==null?void 0:a.scrollY)!==null&&t!==void 0?t:0)-o.clientTop,left:s.left+((n=a==null?void 0:a.scrollX)!==null&&n!==void 0?n:0)-o.clientLeft}},oK=e=>e.inline?HO(e.getBody()):{left:0,top:0},iK=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},aK=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:r},lK=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=HO(e.getContentAreaContainer()),s=aK(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},cK=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),uK=(e,t)=>cK(oK(e),iK(e),lK(e,t)),Gb=32,fK=100,Yb=8,Xb=16,D0=Mt,dK=Hp(D0,pr),mK=(e,t)=>D0(t)&&t!==e,hK=(e,t,n)=>ft(t)||t===n||e.dom.isChildOf(t,n)?!1:!D0(t),pK=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},gK=(e,t,n,s)=>{const r=e.dom,o=t.cloneNode(!0);r.setStyles(o,{width:n,height:s}),r.setAttrib(o,"data-mce-selected",null);const a=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),r.setStyles(o,{margin:0,boxSizing:"border-box"}),a.appendChild(o),a},bK=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Qb=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},WO=Qb("left",-Gb),zO=Qb("left",Gb),VO=Qb("top",-Gb),qO=Qb("top",Gb),vK=(e,t,n,s,r,o,a,u,d,p,v,_)=>{let y=0,T=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(y=t.pageX+n-r),t.pageY+s>o&&(T=t.pageY+s-o),e.style.width=n-y+"px",e.style.height=s-T+"px";const x=d.clientHeight,S=d.clientWidth,N=a+d.getBoundingClientRect().top,B=u+d.getBoundingClientRect().left;v.on(L=>{L.intervalId.clear(),L.dragging&&_&&(a+Yb>=x?L.intervalId.set(qO(p)):a-Yb<=0?L.intervalId.set(VO(p)):u+Yb>=S?L.intervalId.set(zO(p)):u-Yb<=0?L.intervalId.set(WO(p)):N+Xb>=window.innerHeight?L.intervalId.set(qO(window)):N-Xb<=0?L.intervalId.set(VO(window)):B+Xb>=window.innerWidth?L.intervalId.set(zO(window)):B-Xb<=0&&L.intervalId.set(WO(window)))})},KO=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},_K=e=>e.button===0,yK=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),CK=(e,t)=>n=>{if(_K(n)){const s=Zt(t.dom.getParents(n.target),dK).getOr(null);if(le(s)&&mK(t.getBody(),s)){const r=t.dom.getPos(s),o=t.getBody(),a=t.getDoc().documentElement;e.set({element:s,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?o.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:a.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:s.offsetWidth,height:s.offsetHeight,ghost:gK(t,s,s.offsetWidth,s.offsetHeight),intervalId:ey(fK)})}}},EK=(e,t)=>{const n=bu((r,o)=>{t._selectionOverrides.hideFakeCaret(),UO(t.getBody(),r,o).fold(()=>t.selection.placeCaretAt(r,o),a=>{const u=t._selectionOverrides.showCaret(1,a.node,a.position===Ju.Before,!1);u?t.selection.setRng(u):t.selection.placeCaretAt(r,o)})},0);t.on("remove",n.cancel);const s=e;return r=>e.on(o=>{const a=Math.max(Math.abs(r.screenX-o.screenX),Math.abs(r.screenY-o.screenY));if(!o.dragging&&a>10){if(t.dispatch("dragstart",{target:o.element}).isDefaultPrevented())return;o.dragging=!0,t.focus()}if(o.dragging){const u=r.currentTarget===t.getDoc().documentElement,d=yK(o,uK(t,r));bK(o.ghost,t.getBody()),vK(o.ghost,d,o.width,o.height,o.maxX,o.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),s,u),n.throttle(r.clientX,r.clientY)}})},wK=e=>{const t=e.getSel();if(le(t)){const s=t.getRangeAt(0).startContainer;return se(s)?s.parentNode:s}else return null},SK=(e,t)=>n=>{e.on(s=>{if(s.intervalId.clear(),s.dragging){if(hK(t,wK(t.selection),s.element)){const r=pK(s.element);t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact(()=>{KO(s.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})}t.dispatch("dragend")}}),jO(e)},AK=(e,t)=>()=>{e.on(n=>{n.intervalId.clear(),n.dragging&&t.dispatch("dragend")}),jO(e)},jO=e=>{e.on(t=>{t.intervalId.clear(),KO(t.ghost)}),e.clear()},TK=e=>{const t=Jo(),n=Nt.DOM,s=document,r=CK(t,e),o=EK(t,e),a=SK(t,e),u=AK(t,e);e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a),n.bind(s,"mousemove",o),n.bind(s,"mouseup",u),e.on("remove",()=>{n.unbind(s,"mousemove",o),n.unbind(s,"mouseup",u)}),e.on("keydown",d=>{d.keyCode===Te.ESC&&u()})},xK=e=>{const t=r=>{if(!r.isDefaultPrevented()){const o=r.dataTransfer;o&&(St(o.types,"Files")||o.files.length>0)&&(r.preventDefault(),r.type==="drop"&&wb(e,"Dropped file type is not supported"))}},n=r=>{tb(e,r.target)&&t(r)},s=()=>{const r=Nt.DOM,o=e.dom,a=document,u=e.inline?e.getBody():e.getDoc(),d=["drop","dragover"];te(d,p=>{r.bind(a,p,n),o.bind(u,p,t)}),e.on("remove",()=>{te(d,p=>{r.unbind(a,p,n),o.unbind(u,p,t)})})};e.on("init",()=>{Sr.setEditorTimeout(e,s,0)})},NK=e=>{TK(e),cC(e)&&xK(e)},RK=e=>{const t=bu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=Uw(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},OK=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(gr(n)){const s=tc(e.getBody(),n),r=Mt(s)?s:n;e.selection.getNode()!==r&&Um(e,r).each(o=>e.selection.setRng(o))}})})},ef=Mt,P0=(e,t)=>tc(e.getBody(),t),kK=e=>{const t=e.selection,n=e.dom,s=e.getBody(),r=WC(e,s,n.isBlock,()=>Zl(e)),o="sel-"+n.uniqueId(),a="data-mce-selected";let u;const d=oe=>le(oe)&&n.hasClass(oe,"mce-offscreen-selection"),p=oe=>oe!==s&&(ef(oe)||gr(oe))&&n.isChildOf(oe,s),v=oe=>{oe&&t.setRng(oe)},_=(oe,V,F,ge=!0)=>e.dispatch("ShowCaret",{target:V,direction:oe,before:F}).isDefaultPrevented()?null:(ge&&t.scrollIntoView(V,oe===-1),r.show(F,V)),y=oe=>{oe.hasAttribute("data-mce-caret")&&(El(oe),t.scrollIntoView(oe))},T=()=>{e.on("click",V=>{const F=P0(e,V.target);F&&ef(F)&&(V.preventDefault(),e.focus())}),e.on("blur NewBlock",W),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",V=>{const F=V.target,ge=P0(e,F);ef(ge)?(V.preventDefault(),Um(e,ge).each(I)):p(F)&&Um(e,F).each(I)},!0),e.on("mousedown",V=>{const F=V.target;if(F!==s&&F.nodeName!=="HTML"&&!n.isChildOf(F,s)||!OW(e,V.clientX,V.clientY))return;W(),fe();const ge=P0(e,F);ef(ge)?(V.preventDefault(),Um(e,ge).each(I)):UO(s,V.clientX,V.clientY).each(Se=>{V.preventDefault();const Ne=_(1,Se.node,Se.position===Ju.Before,!1);v(Ne),ye(ge)?ge.focus():e.getBody().focus()})}),e.on("keypress",V=>{Te.modifierPressed(V)||ef(t.getNode())&&V.preventDefault()}),e.on("GetSelectionRange",V=>{let F=V.range;if(u){if(!u.parentNode){u=null;return}F=F.cloneRange(),F.selectNode(u),V.range=F}}),e.on("SetSelectionRange",V=>{V.range=N(V.range);const F=I(V.range,V.forward);F&&(V.range=F)});const oe=V=>ye(V)&&V.id==="mcepastebin";e.on("AfterSetSelectionRange",V=>{const F=V.range,ge=F.startContainer.parentElement;!S(F)&&!oe(ge)&&fe(),d(ge)||W()}),NK(e),RK(e),OK(e)},x=oe=>$s(oe)||Cl(oe)||ya(oe),S=oe=>x(oe.startContainer)||x(oe.endContainer),N=oe=>{const V=e.schema.getVoidElements(),F=n.createRng(),ge=oe.startContainer,Se=oe.startOffset,Ne=oe.endContainer,$e=oe.endOffset;return Ye(V,ge.nodeName.toLowerCase())?Se===0?F.setStartBefore(ge):F.setStartAfter(ge):F.setStart(ge,Se),Ye(V,Ne.nodeName.toLowerCase())?$e===0?F.setEndBefore(Ne):F.setEndAfter(Ne):F.setEnd(Ne,$e),F},B=(oe,V)=>{const F=D.fromDom(e.getBody()),ge=e.getDoc(),Se=bl(F,"#"+o).getOrThunk(()=>{const ze=D.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ge);return En(ze,"id",o),an(F,ze),ze}),Ne=n.createRng();Mo(Se),xi(Se,[D.fromText(xn,ge),D.fromDom(V),D.fromText(xn,ge)]),Ne.setStart(Se.dom.firstChild,1),Ne.setEnd(Se.dom.lastChild,0),hr(Se,{top:n.getPos(oe,e.getBody()).y+"px"}),ZA(Se);const $e=t.getSel();return $e&&($e.removeAllRanges(),$e.addRange(Ne)),Ne},L=oe=>{const V=oe.cloneNode(!0),F=e.dispatch("ObjectSelected",{target:oe,targetClone:V});if(F.isDefaultPrevented())return null;const ge=B(oe,F.targetClone),Se=D.fromDom(oe);return te(Nn(D.fromDom(e.getBody()),`*[${a}]`),Ne=>{Ct(Se,Ne)||An(Ne,a)}),n.getAttrib(oe,a)||oe.setAttribute(a,"1"),u=oe,fe(),ge},I=(oe,V)=>{if(!oe)return null;if(oe.collapsed){if(!S(oe)){const Ne=V?1:-1,$e=jl(Ne,s,oe),ze=$e.getNode(!V);if(le(ze)){if(Vl(ze))return _(Ne,ze,V?!$e.isAtEnd():!1,!1);if(jo(ze)&&Mt(ze.nextSibling)){const ct=n.createRng();return ct.setStart(ze,0),ct.setEnd(ze,0),ct}}const mt=$e.getNode(V);if(le(mt)){if(Vl(mt))return _(Ne,mt,V?!1:!$e.isAtEnd(),!1);if(jo(mt)&&Mt(mt.previousSibling)){const ct=n.createRng();return ct.setStart(mt,1),ct.setEnd(mt,1),ct}}}return null}let F=oe.startContainer,ge=oe.startOffset;const Se=oe.endOffset;if(se(F)&&ge===0&&ef(F.parentNode)&&(F=F.parentNode,ge=n.nodeIndex(F),F=F.parentNode),!ye(F))return null;if(Se===ge+1&&F===oe.endContainer){const Ne=F.childNodes[ge];if(p(Ne))return L(Ne)}return null},W=()=>{u&&u.removeAttribute(a),bl(D.fromDom(e.getBody()),"#"+o).each($t),u=null},G=()=>{r.destroy(),u=null},fe=()=>{r.hide()};return ci(e)||T(),{showCaret:_,showBlockCaretContainer:y,hideFakeCaret:fe,destroy:G}},DK=(e,t)=>{let n=t;for(let s=e.previousSibling;se(s);s=s.previousSibling)n+=s.data.length;return n},GO=(e,t,n,s,r)=>{if(se(n)&&(s<0||s>n.data.length))return[];const o=r&&se(n)?[DK(n,s)]:[s];let a=n;for(;a!==t&&a.parentNode;)o.push(e.nodeIndex(a,r)),a=a.parentNode;return a===t?o.reverse():[]},L0=(e,t,n,s,r,o,a=!1)=>{const u=GO(e,t,n,s,a),d=GO(e,t,r,o,a);return{start:u,end:d}},YO=(e,t)=>{const n=t.slice(),s=n.pop();return fn(s)?Vt(n,(o,a)=>o.bind(u=>C.from(u.childNodes[a])),C.some(e)).bind(o=>se(o)&&(s<0||s>o.data.length)?C.none():C.some({node:o,offset:s})):C.none()},XO=(e,t)=>YO(e,t.start).bind(({node:n,offset:s})=>YO(e,t.end).map(({node:r,offset:o})=>{const a=document.createRange();return a.setStart(n,s),a.setEnd(r,o),a})),PK=(e,t,n,s=!1)=>L0(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),tf=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t),tf(e,s,n)}},Zb=(e,t,n,s=!0)=>{const r=t.startContainer.parentNode,o=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(se(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),se(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),tf(e,r,n),r!==o&&tf(e,o,n))},B0=(e,t)=>C.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),QO=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:og(s).concat(e.blockPatterns),inlinePatterns:ig(s).concat(e.inlinePatterns)}},ZO=(e,t,n,s)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(n,s),r.toString()},JO=(e,t,n)=>{vq(t,0,t).each(r=>{const o=r.container;OR(o,n.start.length,t).each(a=>{const u=e.createRng();u.setStart(o,0),u.setEnd(a.container,a.offset),Zb(e,u,d=>d===t)})})},LK=(e,t)=>{const n=e.dom,s=t.pattern,r=XO(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),o=(a,u)=>{const d=u.get(a);return We(d)&&Un(d).exists(p=>Ye(p,"block"))};return B0(e,r).each(a=>{s.type==="block-format"?o(s.format,e.formatter)&&e.undoManager.transact(()=>{JO(e.dom,a,s),e.formatter.apply(s.format)}):s.type==="block-command"&&e.undoManager.transact(()=>{JO(e.dom,a,s),e.execCommand(s.cmd,!1,s.value)})}),!0},BK=e=>Do(e,(t,n)=>n.start.length-t.start.length),IK=(e,t)=>{const n=BK(e),s=t.replace(xn," ");return Zt(n,r=>t.indexOf(r.start)===0||s.indexOf(r.start)===0)},$K=(e,t,n,s)=>{var r;const o=e.dom,a=ws(e);if(!o.is(t,a))return[];const u=(r=t.textContent)!==null&&r!==void 0?r:"";return IK(n.blockPatterns,u).map(d=>ie.trim(u).length===d.start.length?[]:[{pattern:d,range:L0(o,o.getRoot(),t,0,t,0,s)}]).getOr([])},MK=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();te(t,s=>LK(e,s)),e.selection.moveToBookmark(n)},ek=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Jb=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},tk=(e,t,n)=>{const s=XO(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=s.startContainer,o=s.endContainer,a=s.endOffset===0?o:o.splitText(s.endOffset),u=s.startOffset===0?r:r.splitText(s.startOffset),d=u.parentNode,p=a.parentNode;return{prefix:t,end:p.insertBefore(ek(e,t+"-end"),a),start:d.insertBefore(ek(e,t+"-start"),u)}},nk=(e,t,n)=>{tf(e,e.get(t.prefix+"-end"),n),tf(e,e.get(t.prefix+"-start"),n)},I0=e=>e.start.length===0,FK=e=>(t,n)=>{const r=t.data.substring(0,n),o=r.lastIndexOf(e.charAt(e.length-1)),a=r.lastIndexOf(e);return a!==-1?a+e.length:o!==-1?o+1:-1},sk=(e,t,n,s)=>{const r=t.start;return l0(e,s.container,s.offset,FK(r),n).bind(a=>{var u,d;const p=(d=(u=n.textContent)===null||u===void 0?void 0:u.indexOf(r))!==null&&d!==void 0?d:-1;if(p!==-1&&a.offset>=p+r.length){const _=e.createRng();return _.setStart(a.container,a.offset-r.length),_.setEnd(a.container,a.offset),C.some(_)}else{const _=a.offset-r.length;return a0(a.container,_,n).map(y=>{const T=e.createRng();return T.setStart(y.container,y.offset),T.setEnd(a.container,a.offset),T}).filter(y=>y.toString()===r).orThunk(()=>sk(e,t,n,Eo(a.container,0)))}})},UK=(e,t,n,s,r,o=!1)=>{if(t.start.length===0&&!o){const a=e.createRng();return a.setStart(n,s),a.setEnd(n,s),C.some(a)}return i0(n,s,r).bind(a=>sk(e,t,r,a).bind(d=>{var p;if(o){if(d.endContainer===a.container&&d.endOffset===a.offset)return C.none();if(a.offset===0&&((p=d.endContainer.textContent)===null||p===void 0?void 0:p.length)===d.endOffset)return C.none()}return C.some(d)}))},HK=(e,t,n,s)=>{const r=e.dom,o=r.getRoot(),a=n.pattern,u=n.position.container,d=n.position.offset;return a0(u,d-n.pattern.end.length,t).bind(p=>{const v=L0(r,o,p.container,p.offset,u,d,s);if(I0(a))return C.some({matches:[{pattern:a,startRng:v,endRng:v}],position:p});{const _=ev(e,n.remainingPatterns,p.container,p.offset,t,s),y=_.getOr({matches:[],position:p}),T=y.position;return UK(r,a,T.container,T.offset,t,_.isNone()).map(S=>{const N=PK(r,o,S,s);return{matches:y.matches.concat([{pattern:a,startRng:N,endRng:v}]),position:Eo(S.startContainer,S.startOffset)}})}})},ev=(e,t,n,s,r,o)=>{const a=e.dom;return i0(n,s,a.getRoot()).bind(u=>{const d=ZO(a,r,n,s);for(let p=0;p<t.length;p++){const v=t[p];if(!Ah(d,v.end))continue;const _=t.slice();_.splice(p,1);const y=HK(e,r,{pattern:v,remainingPatterns:_,position:u},o);if(y.isNone()&&s>0)return ev(e,t,n,s-1,r,o);if(y.isSome())return y}return C.none()})},rk=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?te(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},WK=(e,t,n,s)=>{const r=Jb(e.dom,n);Zb(e.dom,r,s),rk(e,t,r)},zK=(e,t,n,s,r)=>{const o=e.dom,a=Jb(o,s),u=Jb(o,n);Zb(o,u,r),Zb(o,a,r);const d={prefix:n.prefix,start:n.end,end:s.start},p=Jb(o,d);rk(e,t,p)},VK=(e,t)=>{const n=Kd("mce_textpattern"),s=Xn(t,(r,o)=>{const a=tk(e,n+`_end${r.length}`,o.endRng);return r.concat([{...o,endMarker:a}])},[]);return Xn(s,(r,o)=>{const a=s.length-r.length-1,u=I0(o.pattern)?o.endMarker:tk(e,n+`_start${a}`,o.startRng);return r.concat([{...o,startMarker:u}])},[])},qK=e=>Do(e,(t,n)=>n.end.length-t.end.length),KK=(e,t)=>{const n=fs(e,s=>At(t,r=>s.pattern.start===r.pattern.start&&s.pattern.end===r.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},ok=(e,t,n,s,r,o)=>{const a=ev(e,r.inlinePatterns,n,s,t,o).fold(()=>[],d=>d.matches),u=ev(e,qK(r.inlinePatterns),n,s,t,o).fold(()=>[],d=>d.matches);return KK(a,u)},ik=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),r=VK(n,t);te(r,o=>{const a=n.getParent(o.startMarker.start,n.isBlock),u=d=>d===a;I0(o.pattern)?WK(e,o.pattern,o.endMarker,u):zK(e,o.pattern,o.startMarker,o.endMarker,u),nk(n,o.endMarker,u),nk(n,o.startMarker,u)}),e.selection.moveToBookmark(s)},jK=(e,t)=>{const n=e.selection.getRng();return B0(e,n).map(s=>{var r;const o=Math.max(0,n.startOffset),a=QO(t,s,(r=s.textContent)!==null&&r!==void 0?r:""),u=ok(e,s,n.startContainer,o,a,!0),d=$K(e,s,a,!0);return d.length>0||u.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(va),ik(e,u),MK(e,d);const p=e.selection.getRng(),v=i0(p.startContainer,p.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),v.each(_=>{const y=_.container;y.data.charAt(_.offset-1)===va&&(y.deleteData(_.offset-1,1),tf(e.dom,y.parentNode,T=>T===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},GK=(e,t)=>{const n=e.selection.getRng();B0(e,n).map(s=>{const r=Math.max(0,n.startOffset-1),o=ZO(e.dom,s,n.startContainer,r),a=QO(t,s,o),u=ok(e,s,n.startContainer,r,a,!1);u.length>0&&e.undoManager.transact(()=>{ik(e,u)})})},ak=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},YK=(e,t)=>ak(e,t,(n,s)=>n===s.keyCode&&!Te.modifierPressed(s)),XK=(e,t)=>ak(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),QK=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>Ly(wC(e),SC(e)),r=()=>xC(e);e.on("keydown",a=>{if(a.keyCode===13&&!Te.modifierPressed(a)&&e.selection.isCollapsed()){const u=s();(u.inlinePatterns.length>0||u.blockPatterns.length>0||r())&&jK(e,u)&&a.preventDefault()}},!0);const o=()=>{if(e.selection.isCollapsed()){const a=s();(a.inlinePatterns.length>0||r())&&GK(e,a)}};e.on("keyup",a=>{YK(n,a)&&o()}),e.on("keypress",a=>{XK(t,a)&&Sr.setEditorTimeout(e,o)})},ZK=e=>{QK(e)},JK=e=>{const t=ie.each,n=Te.BACKSPACE,s=Te.DELETE,r=e.dom,o=e.selection,a=e.parser,u=gt.browser,d=u.isFirefox(),p=u.isChromium()||u.isSafari(),v=gt.deviceType.isiPhone()||gt.deviceType.isiPad(),_=gt.os.isMacOS()||gt.os.isiOS(),y=(be,Ie)=>{try{e.getDoc().execCommand(be,!1,String(Ie))}catch{}},T=be=>be.isDefaultPrevented(),x=()=>{const be=Pe=>{const de=r.create("body"),tt=Pe.cloneContents();return de.appendChild(tt),o.serializer.serialize(de,{format:"html"})},Ie=Pe=>{const de=be(Pe),tt=r.createRng();tt.selectNode(e.getBody());const Qe=be(tt);return de===Qe};e.on("keydown",Pe=>{const de=Pe.keyCode;if(!T(Pe)&&(de===s||de===n)){const tt=e.selection.isCollapsed(),Qe=e.getBody();if(tt&&!r.isEmpty(Qe)||!tt&&!Ie(e.selection.getRng()))return;Pe.preventDefault(),e.setContent(""),Qe.firstChild&&r.isBlock(Qe.firstChild)?e.selection.setCursorLocation(Qe.firstChild,0):e.selection.setCursorLocation(Qe,0),e.nodeChanged()}})},S=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},N=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",be=>{let Ie;if(be.target===e.getDoc().documentElement)if(Ie=o.getRng(),e.getBody().focus(),be.type==="mousedown"){if($s(Ie.startContainer))return;o.placeCaretAt(be.clientX,be.clientY)}else o.setRng(Ie)})},B=()=>{e.on("keydown",be=>{if(!T(be)&&be.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&o.getRng().startOffset===0){const Ie=o.getNode(),Pe=Ie.previousSibling;if(Ie.nodeName==="HR"){r.remove(Ie),be.preventDefault();return}Pe&&Pe.nodeName&&Pe.nodeName.toLowerCase()==="hr"&&(r.remove(Pe),be.preventDefault())}}})},L=()=>{Range.prototype.getClientRects||e.on("mousedown",be=>{if(!T(be)&&be.target.nodeName==="HTML"){const Ie=e.getBody();Ie.blur(),Sr.setEditorTimeout(e,()=>{Ie.focus()})}})},I=()=>{const be=ku(e);e.on("click",Ie=>{const Pe=Ie.target;/^(IMG|HR)$/.test(Pe.nodeName)&&r.getContentEditableParent(Pe)!=="false"&&(Ie.preventDefault(),e.selection.select(Pe),e.nodeChanged()),Pe.nodeName==="A"&&r.hasClass(Pe,be)&&Pe.childNodes.length===0&&(Ie.preventDefault(),o.select(Pe))})},W=()=>{const be=()=>{const Pe=r.getAttribs(o.getStart().cloneNode(!1));return()=>{const de=o.getStart();de!==e.getBody()&&(r.setAttrib(de,"style",null),t(Pe,tt=>{de.setAttributeNode(tt.cloneNode(!0))}))}},Ie=()=>!o.isCollapsed()&&r.getParent(o.getStart(),r.isBlock)!==r.getParent(o.getEnd(),r.isBlock);e.on("keypress",Pe=>{let de;return!T(Pe)&&(Pe.keyCode===8||Pe.keyCode===46)&&Ie()?(de=be(),e.getDoc().execCommand("delete",!1),de(),Pe.preventDefault(),!1):!0}),r.bind(e.getDoc(),"cut",Pe=>{if(!T(Pe)&&Ie()){const de=be();Sr.setEditorTimeout(e,()=>{de()})}})},G=()=>{e.on("keydown",be=>{if(!T(be)&&be.keyCode===n&&o.isCollapsed()&&o.getRng().startOffset===0){const Ie=o.getNode().previousSibling;if(Ie&&Ie.nodeName&&Ie.nodeName.toLowerCase()==="table")return be.preventDefault(),!1}return!0})},fe=()=>{e.on("keydown",be=>{if(T(be)||be.keyCode!==Te.BACKSPACE)return;let Ie=o.getRng();const Pe=Ie.startContainer,de=Ie.startOffset,tt=r.getRoot();let Qe=Pe;if(!(!Ie.collapsed||de!==0)){for(;Qe.parentNode&&Qe.parentNode.firstChild===Qe&&Qe.parentNode!==tt;)Qe=Qe.parentNode;Qe.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Qe),Ie=r.createRng(),Ie.setStart(Pe,0),Ie.setEnd(Pe,0),o.setRng(Ie))}})},oe=()=>{const be=()=>{y("StyleWithCSS",!1),y("enableInlineTableEditing",!1),dg(e)||y("enableObjectResizing",!1)};gg(e)||e.on("BeforeExecCommand mousedown",be)},V=()=>{const be=()=>{t(r.select("a:not([data-mce-block])"),Ie=>{var Pe;let de=Ie.parentNode;const tt=r.getRoot();if((de==null?void 0:de.lastChild)===Ie){for(;de&&!r.isBlock(de);){if(((Pe=de.parentNode)===null||Pe===void 0?void 0:Pe.lastChild)!==de||de===tt)return;de=de.parentNode}r.add(de,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Ie=>{(Ie.type==="setcontent"||Ie.command==="mceInsertLink")&&be()})},F=()=>{e.on("init",()=>{y("DefaultParagraphSeparator",ws(e))})},ge=be=>{const Ie=be.getBody(),Pe=be.selection.getRng();return Pe.startContainer===Pe.endContainer&&Pe.startContainer===Ie&&Pe.startOffset===0&&Pe.endOffset===Ie.childNodes.length},Se=()=>{e.on("keyup focusin mouseup",be=>{!Te.modifierPressed(be)&&!ge(e)&&o.normalize()},!0)},Ne=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},$e=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ze=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",be=>{let Ie;be.target.nodeName==="HTML"&&(Ie=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Ie),e.selection.normalize(),e.nodeChanged())}))},mt=()=>{_&&e.on("keydown",be=>{Te.metaKeyPressed(be)&&!be.shiftKey&&(be.keyCode===37||be.keyCode===39)&&(be.preventDefault(),e.selection.getSel().modify("move",be.keyCode===37?"backward":"forward","lineboundary"))})},ct=()=>{e.on("click",be=>{let Ie=be.target;do if(Ie.tagName==="A"){be.preventDefault();return}while(Ie=Ie.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},cn=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",be=>{be.preventDefault()})})},jn=()=>{a.addNodeFilter("br",be=>{let Ie=be.length;for(;Ie--;)be[Ie].attr("class")==="Apple-interchange-newline"&&be[Ie].remove()})},re=Ke,Ve=()=>{if(!d||e.removed)return!1;const be=e.selection.getSel();return!be||!be.rangeCount||be.rangeCount===0},Oe=()=>{p&&(N(),I(),cn(),S(),v&&($e(),ze(),ct())),d&&(L(),oe(),Ne(),mt())},Lt=()=>{fe(),x(),gt.windowsPhone||Se(),p&&(N(),I(),F(),cn(),G(),jn(),v?($e(),ze(),ct()):S()),d&&(B(),L(),W(),oe(),V(),Ne(),mt(),G())};return ci(e)?Oe():Lt(),{refreshContentEditable:re,isHidden:Ve}},$0=Nt.DOM,e4=(e,t)=>{const n=D.fromDom(e.getBody()),s=da(Bs(n)),r=D.fromTag("style");En(r,"type","text/css"),an(r,D.fromText(t)),an(s,r),e.on("remove",()=>{$t(r)})},t4=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,M0=e=>sl(e,t=>yt(t)===!1),lk=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return M0({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:t4(e),validate:!0,blob_cache:n,document:e.getDoc()})},ck=e=>{const t=e.options.get;return M0({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},n4=e=>{const t=e.options.get;return{...lk(e),...ck(e),...M0({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},s4=e=>{const t=Ku(lk(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const r=e.dom,o="data-mce-"+s;let a=n.length;for(;a--;){const u=n[a];let d=u.attr(s);if(d&&!u.attr(o)){if(d.indexOf("data:")===0||d.indexOf("blob:")===0)continue;s==="style"?(d=r.serializeStyle(r.parseStyle(d),u.name),d.length||(d=null),u.attr(o,d),u.attr(s,d)):s==="tabindex"?(u.attr(o,d),u.attr(s,null)):u.attr(o,e.convertURL(d,s,u.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const r=n[s],o=r.attr("type")||"no/type";o.indexOf("mce-")!==0&&r.attr("type","mce-"+o)}}),TC(e)&&t.addNodeFilter("#cdata",n=>{var s;let r=n.length;for(;r--;){const o=n[r];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode((s=o.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const r=e.schema.getNonEmptyElements();for(;s--;){const o=n[s];o.isEmpty(r)&&o.getAll("br").length===0&&o.append(new Ns("br",1))}}),t},r4=e=>{const t=As(e);t&&Sr.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},o4=e=>{const t=e.dom.getRoot();!e.inline&&(!Vg(e)||e.selection.getStart(!0)===t)&&g(t).each(n=>{const s=n.getNode(),r=qn(s)?g(s).getOr(n):n;e.selection.setRng(r.toRange())})},i4=e=>{e.bindPendingEventDelegates(),e.initialized=!0,qL(e),e.focus(!0),o4(e),e.nodeChanged({initial:!0});const t=mC(e);je(t)&&t.call(e,e),r4(e)},uk=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,a4=(e,t,n)=>{const s=[uk(e).loadAll(t)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])},fk=e=>{const t=uk(e),n=Wi(e),s=e.contentCSS,r=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},o=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let d="";ie.each(e.contentStyles,p=>{d+=p+`\r
`}),e.dom.addStyle(d)}const a=Promise.all(a4(e,s,n)).then(o).catch(o),u=Us(e);return u&&e4(e,u),a},l4=e=>{const t=e.getDoc(),n=e.getBody();zL(e),hC(e)||(t.body.spellcheck=!1,$0.setAttrib(n,"spellcheck","false")),e.quirks=JK(e),VL(e);const s=Xy(e);s!==void 0&&(n.dir=s);const r=pC(e);r&&e.on("BeforeSetContent",o=>{ie.each(r,a=>{o.content=o.content.replace(a,u=>"<!--mce:protected "+escape(u)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",o=>{e.composing=o.type==="compositionstart"})},c4=e=>{ci(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},F0=e=>{e.removed!==!0&&(c4(e),i4(e))},dk=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&($0.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=gg(e),e.readonly||(e.inline&&$0.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=nz(e),e.schema=Cs(ck(e)),e.dom=Nt(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Yy(e),referrerPolicy:xu(e),onSetAttrib:a=>{e.dispatch("SetAttrib",a)}}),e.parser=s4(e),e.serializer=IN(n4(e),e),e.selection=BN(e.dom,e.getWin(),e.serializer,e),e.annotator=AA(e),e.formatter=GN(e),e.undoManager=XN(e),e._nodeChangeDispatcher=new F8(e),e._selectionOverrides=kK(e),d3(e),H5(e),y3(e),ci(e)||(G5(e),ZK(e));const r=M8(e);c3(e,r),b3(e),bz(e),M5(e);const o=f2(e);l4(e),o.fold(()=>{fk(e).then(()=>F0(e))},a=>{e.setProgressState(!0),fk(e).then(()=>{a().then(u=>{e.setProgressState(!1),F0(e),ON(e)},u=>{e.notificationManager.open({type:"error",text:String(u)}),F0(e),ON(e)})})})},mk=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline){const n=e.iframeElement,s=jW(D.fromDom(n),"load",()=>{s.unbind(),e.contentDocument=n.contentDocument,dk(e)});if(gt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close()}else n.srcdoc=e.iframeHTML}else dk(e)},U0=Nt.DOM,u4=(e,t,n,s)=>{const r=D.fromTag("iframe");return s.each(o=>En(r,"tabindex",o)),dr(r,n),dr(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),uo(r,"tox-edit-area__iframe"),r},f4=e=>{let t=Es(e)+"<html><head>";_n(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Uy(e),s=ri(e),r=e.translate(fC(e));return lg(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+lg(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t},d4=(e,t)=>{const n=e.translate("Rich Text Area"),s=co(D.fromDom(e.getElement()),"tabindex").bind(il),r=u4(e.id,n,Fy(e),s).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=f4(e),U0.add(t.iframeContainer,r)},m4=(e,t)=>{d4(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=U0.isHidden(t.editorContainer)),e.getElement().style.display="none",U0.setAttrib(e.id,"aria-hidden","true"),mk(e)},hk=Nt.DOM,h4=(e,t,n)=>{const s=Gu.get(n),r=Gu.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=ie.trim(n),s&&ie.inArray(t,n)===-1){if(e.plugins[n])return;try{const o=s(e,r)||{};e.plugins[n]=o,je(o.init)&&(o.init(e,r),t.push(n))}catch(o){HW(e,n,o)}}},p4=e=>e.replace(/^\-/,""),g4=e=>{const t=[];te(Ou(e),n=>{h4(e,t,p4(n))})},b4=e=>{const t=ie.trim(cm(e)),n=e.ui.registry.getAll().icons,s={...Eb.get("default").icons,...Eb.get(t).icons};It(s,(r,o)=>{Ye(n,o)||e.ui.registry.addIcon(o,r)})},v4=e=>{const t=lt(e);if(pe(t)){const n=oc.get(t);e.theme=n(e,oc.urls[t])||{},je(e.theme.init)&&e.theme.init(e,oc.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},_4=e=>{const t=Ss(e),n=ju.get(t);e.model=n(e,ju.urls[t])},y4=e=>{const t=e.theme.renderUI;return t?t():gk(e)},C4=e=>{const t=e.getElement(),s=lt(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},pk=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),E4=e=>{const t=hk.create("div");return hk.insertAfter(t,e),pk(t,t)},gk=e=>{const t=e.getElement();return e.inline?pk(null):E4(t)},w4=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,pe(lt(e))?y4(e):je(lt(e))?C4(e):gk(e)},S4=(e,t)=>{const n={show:C.from(t.show).getOr(Ke),hide:C.from(t.hide).getOr(Ke),isEnabled:C.from(t.isEnabled).getOr(Bt),setEnabled:s=>{e.mode.isReadOnly()||C.from(t.setEnabled).each(r=>r(s))}};e.ui={...e.ui,...n}},A4=e=>{e.dispatch("ScriptsLoaded"),b4(e),v4(e),_4(e),g4(e);const t=w4(e);S4(e,C.from(t.api).getOr({})),e.editorContainer=t.editorContainer,qW(e),e.inline?mk(e):m4(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},ic=Nt.DOM,bk=e=>e.charAt(0)==="-",T4=(e,t)=>{const n=La(t),s=um(t);if(!_r.hasCode(n)&&n!=="en"){const r=Lr(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch(()=>{MW(t,r,n)})}},x4=(e,t)=>{const n=lt(e);if(pe(n)&&!bk(n)&&!Ye(oc.urls,n)){const s=mg(e),r=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;oc.load(n,r).catch(()=>{FW(e,r,n)})}},N4=(e,t)=>{const n=Ss(e);if(n!=="plugin"&&!Ye(ju.urls,n)){const s=hg(e),r=pe(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;ju.load(n,r).catch(()=>{UW(e,r,n)})}},R4=e=>C.from(Vy(e)).filter(Lr).map(t=>({url:t,name:C.none()})),vk=(e,t,n)=>C.from(t).filter(s=>Lr(s)&&!Eb.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:C.some(s)})),O4=(e,t,n)=>{const s=vk(t,"default",n),r=R4(t).orThunk(()=>vk(t,cm(t),""));te(Ih([s,r]),o=>{e.add(o.url).catch(()=>{$W(t,o.url,o.name.getOrUndefined())})})},k4=(e,t)=>{const n=(s,r)=>{Gu.load(s,r).catch(()=>{IW(e,r,s)})};It(lC(e),(s,r)=>{n(r,s),e.options.set("plugins",Ou(e).concat(r))}),te(Ou(e),s=>{s=ie.trim(s),s&&!Gu.urls[s]&&!bk(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},D4=e=>{const t=lt(e);return!pe(t)||le(oc.get(t))},P4=e=>{const t=Ss(e);return le(ju.get(t))},L4=(e,t)=>{const n=vr.ScriptLoader,s=()=>{!e.removed&&D4(e)&&P4(e)&&A4(e)};x4(e,t),N4(e,t),T4(n,e),O4(n,e,t),k4(e,t),n.loadQueue().then(s,s)},B4=(e,t)=>vp.forElement(e,{contentCssCors:bg(t),referrerPolicy:xu(t)}),I4=e=>{const t=e.id;_r.setCode(La(e));const n=()=>{ic.unbind(window,"ready",n),e.render()};if(!ho.Event.domLoaded){ic.bind(window,"ready",n);return}if(!e.getElement())return;const s=D.fromDom(e.getElement()),r=Ic(s);e.on("remove",()=>{ks(s.dom.attributes,a=>An(s,a.name)),dr(s,r)}),e.ui.styleSheetLoader=B4(s,e),dm(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const o=e.getElement().form||ic.getParent(t,"form");o&&(e.formElement=o,nC(e)&&!cd(e.getElement())&&(ic.insertAfter(ic.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=a=>{e.dispatch(a.type,a)},ic.bind(o,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),sC(e)&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit&&(o._mceOldSubmit=o.submit,o.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)))),e.windowManager=UN(e),e.notificationManager=FN(e),OC(e)&&e.on("GetContent",a=>{a.save&&(a.content=ic.encode(a.content))}),rC(e)&&e.on("submit",()=>{e.initialized&&e.save()}),oC(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),L4(e,e.suffix)},$4=(e,t)=>({sections:ae(e),options:ae(t)}),_k=Ci().deviceType,yk=_k.isPhone(),M4=_k.isTablet(),Qm=e=>{if(ft(e))return[];{const t=We(e)?e:e.split(/[ ,]/),n=at(t,_i);return Be(n,Lr)}},F4=(e,t)=>{const n=Mv(t,(s,r)=>St(e,r));return $4(n.t,n.f)},U4=(e,t,n={})=>{const s=e.sections(),r=Ut(s,t).getOr({});return ie.extend({},n,r)},H0=(e,t)=>Ye(e.sections(),t),H4=(e,t)=>H0(e,t)?e.sections()[t]:{},W4=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ut(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),z4=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?ie.extend({},e.external_plugins,s):s},V4=(e,t)=>[...Qm(e),...Qm(t)],q4=(e,t,n,s)=>e&&H0(t,"mobile")?s:n,K4=(e,t,n,s)=>{const r=Qm(n.forced_plugins),o=Qm(s.plugins),a=H4(t,"mobile"),u=a.plugins?Qm(a.plugins):o,d=q4(e,t,o,u),p=V4(r,d);return ie.extend(s,{forced_plugins:r,plugins:p})},j4=(e,t)=>e&&H0(t,"mobile"),G4=(e,t,n,s,r)=>{var o;const a=e?{mobile:W4((o=r.mobile)!==null&&o!==void 0?o:{},t)}:{},u=F4(["mobile"],Ib(a,r)),d=ie.extend(n,s,u.options(),j4(e,u)?U4(u,"mobile"):{},{external_plugins:z4(s,u.options())});return K4(e,u,s,d)},Y4=(e,t)=>G4(yk||M4,yk,t,e,t),X4=(e,t)=>I2(e,t),Q4=e=>{const t=(s,r)=>{e.formatter.toggle(s,r),e.nodeChanged()},n=s=>()=>{te("left,center,right,justify".split(","),r=>{s!==r&&e.formatter.remove("align"+r)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Z4=e=>{const t=n=>()=>{const s=e.selection,r=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return At(r,o=>le(e.formatter.matchNode(o,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},J4=e=>{Q4(e),Z4(e)},e9=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(gt.os.isMacOS()||gt.os.isiOS())&&(r=r.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:r,type:"error"})}}})},t9=(e,t,n)=>{const s=D.fromDom(e.getRoot());return km(s,j.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Dm(s,j.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},n9=e=>{if(typeof e!="string"){const t=ie.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},s9=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?t9(s,n.getRng(),t):t},tv=(e,t)=>{const{content:n,details:s}=n9(t);Tw(e,{...s,content:s9(e,n),format:"html",set:!1,selection:!0}).each(r=>{const o=L2(e,r.content,s);xw(e,o,r),e.addVisual()})},r9=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{tv(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{tv(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{tv(e,s)},mceInsertContent:(t,n,s)=>{tv(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},o9={"font-size":"size","font-family":"face"},i9=jf("font"),a9=(e,t,n)=>{const s=o=>Ti(o,e).orThunk(()=>i9(o)?Ut(o9,e).bind(a=>co(o,a)):C.none()),r=o=>Ct(D.fromDom(t),o);return rw(D.fromDom(n),o=>s(o),r)},l9=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),c9=(e,t)=>C.from(Nt.DOM.getStyle(t,e,!0)),Ck=e=>(t,n)=>C.from(n).map(D.fromDom).filter(Zn).bind(s=>a9(e,t,s.dom).or(c9(e,s.dom))).getOr(""),u9=Ck("font-size"),f9=ss(l9,Ck("font-family")),d9=e=>g(e.getBody()).bind(t=>{const n=t.container();return C.from(se(n)?n.parentNode:n)}),m9=e=>C.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?C.none():C.from(e.selection.getStart(!0))}),h9=(e,t)=>m9(e).orThunk(_e(d9,e)).map(D.fromDom).filter(Zn).bind(t),W0=(e,t)=>h9(e,Yn(C.some,t)),Ek=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=NC(e),r=RC(e);return r.length>0?r[n-1]||t:s[n-1]||t}else return t}else return t},p9=e=>{const t=e.split(/\s*,\s*/);return at(t,n=>n.indexOf(" ")!==-1&&!(On(n,'"')||On(n,"'"))?`'${n}'`:n).join(",")},g9=(e,t)=>{const n=Ek(e,t);e.formatter.toggle("fontname",{value:p9(n)}),e.nodeChanged()},b9=e=>W0(e,t=>f9(e.getBody(),t.dom)).getOr(""),v9=(e,t)=>{e.formatter.toggle("fontsize",{value:Ek(e,t)}),e.nodeChanged()},_9=e=>W0(e,t=>u9(e.getBody(),t.dom)).getOr(""),y9=e=>W0(e,t=>{const n=D.fromDom(e.getBody()),s=rw(t,o=>Ti(o,"line-height"),_e(Ct,n)),r=()=>{const o=parseFloat(Is(t,"line-height")),a=parseFloat(Is(t,"font-size"));return String(o/a)};return s.getOrThunk(r)}).getOr(""),C9=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},E9=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,r)=>{t(n,{value:r})},BackColor:(n,s,r)=>{t("hilitecolor",{value:r})},FontName:(n,s,r)=>{g9(e,r)},FontSize:(n,s,r)=>{v9(e,r)},LineHeight:(n,s,r)=>{C9(e,r)},Lang:(n,s,r)=>{var o;t(n,{value:r.code,customValue:(o=r.customCode)!==null&&o!==void 0?o:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,r)=>{t(pe(r)?r:"p")},mceToggleFormat:(n,s,r)=>{t(r)}})},w9=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>b9(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>_9(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>y9(e))},S9=e=>{E9(e),w9(e)},A9=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},T9=e=>{e.editorCommands.addCommands({Indent:()=>{i3(e)},Outdent:()=>{G1(e)}}),e.editorCommands.addCommands({Outdent:()=>V1(e)},"state")},x9=e=>{const t=(n,s,r)=>{const o=pe(r)?{href:r}:r,a=e.dom.getParent(e.selection.getNode(),"a");Ze(o)&&pe(o.href)&&(o.href=o.href.replace(/ /g,"%20"),(!a||!o.href)&&e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")},mceInsertLink:t,createLink:t})},N9=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const s=n.parentNode;if(s&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)){const r=e.selection.getBookmark();e.dom.split(s,n),e.selection.moveToBookmark(r)}}}})},R9=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},O9=e=>{N9(e),R9(e)},k9=e=>{e.editorCommands.addCommands({insertParagraph:()=>{qb(oO,e)},mceInsertNewLine:(t,n,s)=>{dO(e,s)},InsertLineBreak:(t,n,s)=>{qb(lO,e)}})},D9=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let r=0;e.dom.getParent(e.selection.getNode(),o=>ye(o)&&r++===s?(e.selection.select(o),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),pr);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},P9=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const r=s!=null?s:e.selection.getNode();if(r!==e.getBody()){const o=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(o)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{TI(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},L9=e=>{J4(e),e9(e),A9(e),D9(e),r9(e),x9(e),T9(e),k9(e),O9(e),S9(e),P9(e)},B9=["toggleview"],wk=e=>St(B9,e.toLowerCase());class Sk{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,r){const o=this.editor,a=t.toLowerCase(),u=r==null?void 0:r.skip_focus;if(o.removed||(a!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)&&!u?o.focus():sI(o)),o.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const p=this.commands.exec[a];return je(p)?(p(a,n,s),o.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!wk(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return je(s)?s(n):!1}queryCommandValue(t){if(!wk(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return je(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;It(t,(r,o)=>{te(o.toLowerCase().split(","),a=>{s[n][a]=r})})}addCommand(t,n,s){const r=t.toLowerCase();this.commands.exec[r]=(o,a,u)=>n.call(s!=null?s:this.editor,a,u)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s!=null?s:this.editor)}}const ac="data-mce-contenteditable",I9=(e,t,n)=>{Jf(e,t)&&!n?ll(e,t):n&&uo(e,t)},z0=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},nv=(e,t)=>{e.dom.contentEditable=t?"true":"false"},$9=e=>{te(Nn(e,'*[contenteditable="true"]'),t=>{En(t,ac,"true"),nv(t,!1)})},M9=e=>{te(Nn(e,`*[${ac}="true"]`),t=>{An(t,ac),nv(t,!0)})},F9=e=>{C.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},U9=e=>{e.selection.setRng(e.selection.getRng())},H9=(e,t)=>{const n=D.fromDom(e.getBody());I9(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),F9(e),e.readonly=!0,nv(n,!1),$9(n)):(e.readonly=!1,nv(n,!0),M9(n),z0(e,"StyleWithCSS",!1),z0(e,"enableInlineTableEditing",!1),z0(e,"enableObjectResizing",!1),SI(e)&&e.focus(),U9(e),e.nodeChanged())},lc=e=>e.readonly,Ak=e=>{e.parser.addAttributeFilter("contenteditable",t=>{lc(e)&&te(t,n=>{n.attr(ac,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ac,t=>{lc(e)&&te(t,n=>{n.attr("contenteditable",n.attr(ac))})}),e.serializer.addTempAttr(ac)},W9=e=>{e.serializer?Ak(e):e.on("PreInit",()=>{Ak(e)})},z9=e=>e.type==="click",V9=["copy"],q9=e=>St(V9,e.type),K9=(e,t)=>Ni(t,"a",s=>Ct(s,D.fromDom(e.getBody()))).bind(s=>co(s,"href")),j9=(e,t)=>{if(z9(t)&&!Te.metaKeyPressed(t)){const n=D.fromDom(t.target);K9(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const r=e.dom.select(`${s},[name="${Gv(s,"#")}"]`);r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else q9(t)&&e.dispatch(t.type,t)},G9=e=>{e.on("ShowCaret",t=>{lc(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{lc(e)&&t.preventDefault()})},Y9=ie.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class V0{constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||pt}static isNative(t){return!!Y9[t.toLowerCase()]}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),r=hu(s,n!=null?n:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);const o=this.bindings[s];if(o)for(let a=0,u=o.length;a<u;a++){const d=o[a];if(!d.removed){if(d.once&&this.off(s,d.func),r.isImmediatePropagationStopped())return r;if(d.func.call(this.scope,r)===!1)return r.preventDefault(),r}}return r}on(t,n,s,r){if(n===!1&&(n=pt),n){const o={func:n,removed:!1};r&&ie.extend(o,r);const a=t.toLowerCase().split(" ");let u=a.length;for(;u--;){const d=a[u];let p=this.bindings[d];p||(p=[],this.toggleEvent(d,!0)),s?p=[o,...p]:p=[...p,o],this.bindings[d]=p}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let r=s.length;for(;r--;){const o=s[r];let a=this.bindings[o];if(!o)return It(this.bindings,(u,d)=>{this.toggleEvent(d,!1),delete this.bindings[d]}),this;if(a){if(!n)a.length=0;else{const u=ko(a,d=>d.func===n);a=u.fail,this.bindings[o]=a,te(u.pass,d=>{d.removed=!0})}a.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}}else It(this.bindings,(s,r)=>{this.toggleEvent(r,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const Zm=e=>(e._eventDispatcher||(e._eventDispatcher=new V0({scope:e,toggleEvent:(t,n)=>{V0.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),q0={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return hu(e.toLowerCase(),t!=null?t:{},s);const r=Zm(s).dispatch(e,t);if(n!==!1&&s.parent){let o=s.parent();for(;o&&!r.isPropagationStopped();)o.dispatch(e,r,!1),o=o.parent?o.parent():void 0}return r},on(e,t,n){return Zm(this).on(e,t,n)},off(e,t){return Zm(this).off(e,t)},once(e,t){return Zm(this).once(e,t)},hasEventListeners(e){return Zm(this).has(e)}},sv=Nt.DOM;let cc;const rv=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const n=fm(e);return n?(e.eventRoot||(e.eventRoot=sv.select(n)[0]),e.eventRoot):e.getBody()},X9=e=>!e.hidden&&!lc(e),Tk=(e,t,n)=>{X9(e)?e.dispatch(t,n):lc(e)&&j9(e,n)},xk=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=rv(e,t);if(fm(e)){if(cc||(cc={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||cc&&(It(cc,(r,o)=>{e.dom.unbind(rv(e,o))}),cc=null)})),cc[t])return;const s=r=>{const o=r.target,a=e.editorManager.get();let u=a.length;for(;u--;){const d=a[u].getBody();(d===o||sv.isChildOf(o,d))&&Tk(a[u],t,r)}};cc[t]=s,sv.bind(n,t,s)}else{const s=r=>{Tk(e,t,r)};sv.bind(n,t,s),e.delegates[t]=s}},Nk={...q0,bindPendingEventDelegates(){const e=this;ie.each(e._pendingNativeEvents,t=>{xk(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?xk(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(rv(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(It(e.delegates,(s,r)=>{e.dom.unbind(rv(e,r),r,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},Q9=e=>pe(e)?{value:e.split(/[ ,]/),valid:!0}:pn(e,pe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Z9=e=>{const t=(()=>{switch(e){case"array":return We;case"boolean":return _t;case"function":return je;case"number":return fn;case"object":return Ze;case"string":return pe;case"string[]":return Q9;case"object[]":return n=>pn(n,Ze);case"regexp":return n=>rt(n,RegExp);default:return Bt}})();return n=>K0(n,t,`The value must be a ${e}.`)},J9=e=>pe(e.processor),Rk=(e,t)=>{const n=la(t.message)?"":`. ${t.message}`;return e+n},Ok=e=>e.valid,K0=(e,t,n="")=>{const s=t(e);return _t(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},ej=(e,t,n)=>{if(!yt(t)){const s=K0(t,n);if(Ok(s))return s.value;console.error(Rk(`Invalid default value passed for the "${e}" option`,s))}},tj=(e,t)=>{const n={},s={},r=(_,y,T)=>{const x=K0(y,T);return Ok(x)?(s[_]=x.value,!0):(console.warn(Rk(`Invalid value passed for the ${_} option`,x)),!1)},o=(_,y)=>{const T=J9(y)?Z9(y.processor):y.processor,x=ej(_,y.default,T);n[_]={...y,default:x,processor:T},Ut(s,_).orThunk(()=>Ut(t,_)).each(N=>r(_,N,T))},a=_=>Ye(n,_);return{register:o,isRegistered:a,get:_=>Ut(s,_).orThunk(()=>Ut(n,_).map(y=>y.default)).getOrUndefined(),set:(_,y)=>{if(a(_)){const T=n[_];return T.immutable?(console.error(`"${_}" is an immutable option and cannot be updated`),!1):r(_,y,T.processor)}else return console.warn(`"${_}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:_=>{const y=a(_);return y&&delete s[_],y},isSet:_=>Ye(s,_)}},nj=["design","readonly"],kk=(e,t,n,s)=>{const r=n[t.get()],o=n[s];try{o.activate()}catch(a){console.error(`problem while activating editor mode ${s}:`,a);return}r.deactivate(),r.editorReadOnly!==o.editorReadOnly&&H9(e,o.editorReadOnly),t.set(s),UL(e,s)},sj=(e,t,n,s)=>{if(s!==n.get()){if(!Ye(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?kk(e,n,t,s):e.on("init",()=>kk(e,n,t,s))}},rj=(e,t,n)=>{if(St(nj,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},oj=e=>{const t=vn("design"),n=vn({design:{activate:Ke,deactivate:Ke,editorReadOnly:!1},readonly:{activate:Ke,deactivate:Ke,editorReadOnly:!0}});return W9(e),G9(e),{isReadOnly:()=>lc(e),set:s=>sj(e,n.get(),t,s),get:()=>t.get(),register:(s,r)=>{n.set(rj(n.get(),s,r))}}},j0=ie.each,G0=ie.explode,ij={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Dk=ie.makeMap("alt,ctrl,shift,meta,access"),aj=e=>e in Dk,lj=e=>{const t={},n=gt.os.isMacOS()||gt.os.isiOS();j0(G0(e.toLowerCase(),"+"),o=>{aj(o)?t[o]=!0:/^[0-9]{2,}$/.test(o)?t.keyCode=parseInt(o,10):(t.charCode=o.charCodeAt(0),t.keyCode=ij[o]||o.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let r;for(r in Dk)t[r]?s.push(r):t[r]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class Pk{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(j0(n.shortcuts,r=>{n.matchShortcut(s,r)&&(n.pendingPatterns=r.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(r))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,r){const o=this,a=o.normalizeCommandFunc(s);return j0(G0(ie.trim(t)),u=>{const d=o.createShortcut(u,n,a,r);o.shortcuts[d.id]=d}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:ie.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,r){const o=ie.map(G0(t,">"),lj);return o[o.length-1]=ie.extend(o[o.length-1],{func:s,scope:r||this.editor}),ie.extend(o[0],{desc:this.editor.translate(n),subpatterns:o.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const cj=()=>{const e={},t={},n={},s={},r={},o={},a={},u={},d=(v,_)=>(y,T)=>{v[y.toLowerCase()]={...T,type:_}},p=(v,_)=>s[v.toLowerCase()]=_;return{addButton:d(e,"button"),addGroupToolbarButton:d(e,"grouptoolbarbutton"),addToggleButton:d(e,"togglebutton"),addMenuButton:d(e,"menubutton"),addSplitButton:d(e,"splitbutton"),addMenuItem:d(t,"menuitem"),addNestedMenuItem:d(t,"nestedmenuitem"),addToggleMenuItem:d(t,"togglemenuitem"),addAutocompleter:d(n,"autocompleter"),addContextMenu:d(r,"contextmenu"),addContextToolbar:d(o,"contexttoolbar"),addContextForm:d(o,"contextform"),addSidebar:d(a,"sidebar"),addView:d(u,"views"),addIcon:p,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:r,contextToolbars:o,sidebars:a,views:u})}},uj=()=>{const e=cj();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},uc=Nt.DOM,Lk=ie.extend,fj=ie.each;class ov{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,Lk(this,Nk);const r=this;this.id=t,this.hidden=!1;const o=Y4(s.defaultOptions,n);this.options=tj(r,o),dt(r);const a=this.options.get;a("deprecation_warnings")&&bW(n,o);const u=a("suffix");u&&(s.suffix=u),this.suffix=s.suffix;const d=a("base_url");d&&s._setBaseUrl(d),this.baseUri=s.baseURI;const p=xu(r);p&&(vr.ScriptLoader._setReferrerPolicy(p),Nt.DOM.styleSheetLoader._setReferrerPolicy(p));const v=bg(r);le(v)&&Nt.DOM.styleSheetLoader._setContentCssCors(v),Kn.languageLoad=a("language_load"),Kn.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Co(_n(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=dm(r),this.hasVisual=mm(r),this.shortcuts=new Pk(this),this.editorCommands=new Sk(this),L9(this);const _=a("cache_suffix");_&&(gt.cacheSuffix=_.replace(/^[\?\&]+/,"")),this.ui={registry:uj(),styleSheetLoader:void 0,show:Ke,hide:Ke,setEnabled:Ke,isEnabled:Bt},this.mode=oj(r),s.dispatch("SetupEditor",{editor:this});const y=dC(r);je(y)&&y.call(r,r)}render(){I4(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Zl(this)}translate(t){return _r.translate(t)}getParam(t,n,s){const r=this.options;return r.isRegistered(t)||(le(s)?r.register(t,{processor:s,default:n}):r.register(t,{processor:Bt,default:n})),!r.isSet(t)&&!yt(n)?n:r.get(t)}hasPlugin(t,n){return St(Ou(this),t)?n?Gu.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,r){this.shortcuts.add(t,n,s,r)}execCommand(t,n,s,r){return this.editorCommands.execCommand(t,n,s,r)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(uc.show(t.getContainer()),uc.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(uc.hide(t.getContainer()),uc.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const r={...t,load:!0},o=cd(s)?s.value:s.innerHTML,a=n.setContent(o,r);return r.no_events||n.dispatch("LoadContent",{...r,element:s}),a}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const r={...t,save:!0,element:s};let o=n.getContent(r);const a={...r,content:o};if(a.no_events||n.dispatch("SaveContent",a),a.format==="raw"&&n.dispatch("RawSaveContent",a),o=a.content,cd(s))s.value=o;else{(t.is_removing||!n.inline)&&(s.innerHTML=o);const u=uc.getParent(n.id,"form");u&&fj(u.elements,d=>d.name===n.id?(d.value=o,!1):!0)}return a.element=r.element=s=null,a.set_dirty!==!1&&n.setDirty(!1),o}setContent(t,n){return Bw(this,t,n)}getContent(t){return cW(this,t)}insertContent(t,n){n&&(t=Lk({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Bw(this,this.startContent,{format:"raw"}):Bw(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||uc.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=uc.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const r=this,o=r.options.get,a=In(r);return je(a)?a.call(r,t,s,!0,n):!o("convert_urls")||s==="link"||Ze(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:o("relative_urls")?r.documentBaseURI.toRelative(t):(t=r.documentBaseURI.toAbsolute(t,o("remove_script_host")),t)}addVisual(t){X4(this,t)}remove(){CW(this)}destroy(t){EW(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const nf=Nt.DOM,iv=ie.each;let Bk=!1,av,Rs=[];const lv=e=>{const t=e.type;iv(Va.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},Ik=e=>{if(e!==Bk){const t=Nt.DOM;e?(t.bind(window,"resize",lv),t.bind(window,"scroll",lv)):(t.unbind(window,"resize",lv),t.unbind(window,"scroll",lv)),Bk=e}},$k=e=>{const t=Rs;return Rs=Be(Rs,n=>e!==n),Va.activeEditor===e&&(Va.activeEditor=Rs.length>0?Rs[0]:null),Va.focusedEditor===e&&(Va.focusedEditor=null),t.length!==Rs.length},dj=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&($k(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},mj=document.compatMode!=="CSS1Compat",Va={...q0,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"3.0",releaseDate:"2022-11-23",i18n:_r,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=Co.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,n=r.suffix;else{const o=document.getElementsByTagName("script");for(let a=0;a<o.length;a++){const u=o[a].src||"";if(u==="")continue;const d=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){d.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}if(!t&&document.currentScript){const a=document.currentScript.src;a.indexOf(".min")!==-1&&(n=".min"),t=a.substring(0,a.lastIndexOf("/"))}}e.baseURL=new Co(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Co(e.baseURL),e.suffix=n,gI(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&It(s,(r,o)=>{Kn.PluginManager.urls[o]=r})},init(e){const t=this;let n;const s=ie.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),r=(v,_)=>v.inline&&_.tagName.toLowerCase()in s,o=v=>{let _=v.id;return _||(_=Ut(v,"name").filter(y=>!nf.get(y)).getOrThunk(nf.uniqueId),v.setAttribute("id",_)),_},a=v=>{const _=e[v];if(!!_)return _.apply(t,[])},u=v=>gt.browser.isIE()||gt.browser.isEdge()?(Sb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):mj?(Sb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):pe(v.selector)?nf.select(v.selector):le(v.target)?[v.target]:[];let d=v=>{n=v};const p=()=>{let v=0;const _=[];let y;const T=(x,S,N)=>{const B=new ov(x,S,t);_.push(B),B.on("init",()=>{++v===y.length&&d(_)}),B.targetElm=B.targetElm||N,B.render()};nf.unbind(window,"ready",p),a("onpageload"),y=Af(u(e)),ie.each(y,x=>{dj(t.get(x.id))}),y=ie.grep(y,x=>!t.get(x.id)),y.length===0?d([]):iv(y,x=>{r(e,x)?Sb("Could not initialize inline editor on invalid inline target element",x):T(o(x),e,x)})};return nf.bind(window,"ready",p),new Promise(v=>{n?v(n):d=_=>{v(_)}})},get(e){return arguments.length===0?Rs.slice(0):pe(e)?Zt(Rs,t=>t.id===e).getOr(null):fn(e)&&Rs[e]?Rs[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Rs.push(e),Ik(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),av||(av=s=>{const r=t.dispatch("BeforeUnload");if(r.returnValue)return s.preventDefault(),s.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",av))),e},createEditor(e,t){return this.add(new ov(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=Rs.length-1;s>=0;s--)t.remove(Rs[s]);return}if(pe(e)){iv(nf.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,ht(t.get(n.id))?null:($k(n)&&t.dispatch("RemoveEditor",{editor:n}),Rs.length===0&&window.removeEventListener("beforeunload",av),n.remove(),Ik(Rs.length>0),n)},execCommand(e,t,n){var s;const r=this,o=Ze(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!r.get(o)){const a=n.options;new ov(o,a,r).render()}return!0}case"mceRemoveEditor":{const a=r.get(o);return a&&a.remove(),!0}case"mceToggleEditor":{const a=r.get(o);return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{iv(Rs,e=>{e.save()})},addI18n:(e,t)=>{_r.add(e,t)},translate:e=>_r.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Co(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Co(this.baseURL)}};Va.setup();const hj=(()=>{const e=Jo(),t=o=>({items:o,types:ds(o),getType:a=>Ut(o,a).getOrUndefined()}),n=o=>{e.set(o)},s=()=>e.get().getOrUndefined(),r=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:r}})(),Mk=Math.min,sf=Math.max,cv=Math.round,Fk=(e,t,n)=>{let s=t.x,r=t.y;const o=e.w,a=e.h,u=t.w,d=t.h,p=(n||"").split("");return p[0]==="b"&&(r+=d),p[1]==="r"&&(s+=u),p[0]==="c"&&(r+=cv(d/2)),p[1]==="c"&&(s+=cv(u/2)),p[3]==="b"&&(r-=a),p[4]==="r"&&(s-=o),p[3]==="c"&&(r-=cv(a/2)),p[4]==="c"&&(s-=cv(o/2)),rf(s,r,o,a)},pj=(e,t,n,s)=>{for(let r=0;r<s.length;r++){const o=Fk(e,t,s[r]);if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return s[r]}return null},gj=(e,t,n)=>rf(e.x-t,e.y-n,e.w+t*2,e.h+n*2),bj=(e,t)=>{const n=sf(e.x,t.x),s=sf(e.y,t.y),r=Mk(e.x+e.w,t.x+t.w),o=Mk(e.y+e.h,t.y+t.h);return r-n<0||o-s<0?null:rf(n,s,r-n,o-s)},vj=(e,t,n)=>{let s=e.x,r=e.y,o=e.x+e.w,a=e.y+e.h;const u=t.x+t.w,d=t.y+t.h,p=sf(0,t.x-s),v=sf(0,t.y-r),_=sf(0,o-u),y=sf(0,a-d);return s+=p,r+=v,n&&(o+=p,a+=v,s-=_,r-=y),o-=_,a-=y,rf(s,r,o-s,a-r)},rf=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),_j={inflate:gj,relativePosition:Fk,findBestRelativePosition:pj,intersect:bj,clamp:vj,create:rf,fromClientRect:e=>rf(e.left,e.top,e.width,e.height)},yj=(e,t,n=1e3)=>{let s=!1,r=null;const o=p=>(...v)=>{s||(s=!0,r!==null&&(clearTimeout(r),r=null),p.apply(null,v))},a=o(e),u=o(t);return{start:(...p)=>{!s&&r===null&&(r=setTimeout(()=>u.apply(null,p),n))},resolve:a,reject:u}},Cj=(()=>{const e={},t={};return{load:(o,a)=>{const u=`Script at URL "${a}" failed to load`,d=`Script at URL "${a}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(e[o]!==void 0)return e[o];{const p=new Promise((v,_)=>{const y=yj(v,_);t[o]=y.resolve,vr.ScriptLoader.loadScript(a).then(()=>y.start(d),()=>y.reject(u))});return e[o]=p,p}},add:(o,a)=>{t[o]!==void 0&&(t[o](a),delete t[o]),e[o]=Promise.resolve(a)},unload:o=>{delete e[o]}}})(),Ej=()=>(()=>{let e={},t=[];const n={getItem:s=>{const r=e[s];return r||null},setItem:(s,r)=>{t.push(s),e[s]=String(r)},key:s=>t[s],removeItem:s=>{t=t.filter(r=>r===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let Jm;try{const e="__storage_test__";Jm=window.localStorage,Jm.setItem(e,e),Jm.removeItem(e)}catch{Jm=Ej()}var wj=Jm;const Sj={geom:{Rect:_j},util:{Delay:Sr,Tools:ie,VK:Te,URI:Co,EventDispatcher:V0,Observable:q0,I18n:_r,LocalStorage:wj,ImageUploader:tz},dom:{EventUtils:ho,TreeWalker:gn,TextSeeker:Mi,DOMUtils:Nt,ScriptLoader:vr,RangeUtils:Ql,Serializer:IN,StyleSheetLoader:br,ControlSelection:LA,BookmarkManager:Tm,Selection:BN,Event:ho.Event},html:{Styles:Md,Entities:mo,Node:Ns,Schema:Cs,DomParser:Ku,Writer:vT,Serializer:Ma},Env:gt,AddOnManager:Kn,Annotator:AA,Formatter:GN,UndoManager:XN,EditorCommands:Sk,WindowManager:UN,NotificationManager:FN,EditorObservable:Nk,Shortcuts:Pk,Editor:ov,FocusManager:sT,EditorManager:Va,DOM:Nt.DOM,ScriptLoader:vr.ScriptLoader,PluginManager:Gu,ThemeManager:oc,ModelManager:ju,IconManager:Eb,Resource:Cj,FakeClipboard:hj,trim:ie.trim,isArray:ie.isArray,is:ie.is,toArray:ie.toArray,makeMap:ie.makeMap,each:ie.each,map:ie.map,grep:ie.grep,inArray:ie.inArray,extend:ie.extend,walk:ie.walk,resolve:ie.resolve,explode:ie.explode,_addCacheSuffix:ie._addCacheSuffix},Uk=ie.extend(Va,Sj),Aj=e=>{if(typeof AS=="object")try{AS.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(Uk),Aj(Uk)})();window.getModalForm=function(m,c=!1){window.token=document.getElementById("csrf").content,c&&(m=m+"?tab="+document.querySelector("#myTab .active").id),fetch(m).then(function(f){return f.text()}).then(function(f){window.myModal=new bootstrap.Modal("#ModalForm",{}),document.getElementById("modalContent").innerHTML=f,editorInit(),myModal.show()}).catch(function(f){console.warn("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u043E \u0432\u043E\u0442 \u0442\u0430\u043A\u043E\u0435 \u0434\u0435\u0440\u044C\u043C\u043E",f)})};window.notificationRead=function(){fetch("/notification-read/",{method:"POST",headers:{"X-CSRF-TOKEN":document.getElementById("csrf").content},body:{}})};window.submitForm=function(m,c,f="POST"){clearErrors(),tinymce.triggerSave();const b=new FormData(m);fetch(c,{method:f,headers:{"X-CSRF-TOKEN":window.token},enctype:"multipart/form-data",body:b}).then(w=>w.json()).then(async w=>{w.message?valedationError(w):(w.result="success")&&(window.myModal.hide(),showTost(),await timeout(3e3),window.location.href=w.url)})};window.valedationError=function(m){var c=document.getElementById("errors");c.innerHTML="";for(const[b,w]of Object.entries(m.message)){var f=document.createElement("p");f.classList.add("text-danger","my-0"),f.innerHTML=w,c.append(f)}};window.dialog=function(m,c="DELETE"){window.myModal=new bootstrap.Modal("#ModalFormDel",{}),window.myModal.show(),document.getElementById("btnYes").addEventListener("click",f=>{if(c==="DELETE"){deleteElement(m);return}restoreElement(m)}),document.getElementById("btnNo").addEventListener("click",f=>{window.myModal.hide()})};window.deleteElement=function(m){window.token=document.getElementById("csrf").content;var c=document.createElement("form");submitForm(c,m,"DELETE")};window.restoreElement=function(m){window.token=document.getElementById("csrf").content;var c=document.createElement("form");submitForm(c,m,"POST")};window.showTost=function(){new bootstrap.Toast(document.getElementById("toast")).show()};window.showFlashTost=function(){new bootstrap.Toast(document.getElementById("FlashTost")).show()};window.timeout=function(m){return counterCircle(),new Promise(c=>setTimeout(c,m))};window.editorInit=function(){tinymce.activeEditor&&tinymce.activeEditor.destroy(),document.querySelector("#content")&&(tinymce.init({selector:"textarea#content",plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image  link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons  ",editimage_cors_hosts:["picsum.photos"],menubar:"",toolbar:"undo redo | bold italic underline strikethrough |insertfile image link codesample | alignleft aligncenter alignright alignjustify | fontfamily fontsize blocks | outdent indent |  numlist bullist | forecolor backcolor removeformat  | charmap emoticons | fullscreen  ",toolbar_sticky:!0,autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"tinymce-autosave-{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,link_list:[{title:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u043B\u0430\u043D\u0444\u0438\u043A\u0441",value:"https://relevant.planfix.ru/"}],image_class_list:[{title:"\u0411\u0435\u0437 \u043A\u043B\u0430\u0441\u0441\u0430",value:"zoom"},{title:"\u041E\u0442\u0441\u0442\u0443\u043F\u044B \u0441\u043E \u0432\u0441\u0435\u0445 \u0441\u0442\u043E\u0440\u043E\u043D",value:"zoom m-1"}],importcss_append:!0,image_title:!0,automatic_uploads:!0,images_upload_url:"/post/upload?_token="+window.token,file_picker_types:"image",file_picker_callback:function(m,c,f){var b=document.createElement("input");b.setAttribute("type","file"),b.setAttribute("accept","image/*"),b.onchange=function(w){const k=w.target.files[0];var O=new FileReader;O.readAsDataURL(k),O.onload=function(){var H="blobid"+new Date().getTime(),X=tinymce.activeEditor.editorUpload.blobCache,Y=O.result.split(",")[1],Z=X.create(H,k,Y);X.add(Z),m(Z.blobUri(),{title:k.name})}},b.click()},height:300,image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_class:"mceNonEditable",toolbar_mode:"sliding",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:16px }"}),document.addEventListener("focusin",m=>{m.target.closest(".tox-tinymce-aux, .moxman-window, .tam-assetmanager-root")!==null&&m.stopImmediatePropagation()}))};window.copyToClipboard=function(m){var c=m.dataset.link;navigator.clipboard.writeText(c).then(()=>{showFlashTost()})};window.counterCircle=function(){var m=document.getElementById("countdown-number"),c=3;m.textContent=c,setInterval(function(){c=--c<=0?3:c,m.textContent=c},1e3)};window.checkSshConnection=function(m,c){clearErrors(),window.token=document.getElementById("csrf").content;var f=document.querySelector(".spinner-grow-sshcheck-hide");f&&f.classList.remove("spinner-grow-sshcheck-hide");const b=new FormData(m.closest("form"));fetch(c,{method:"POST",headers:{"X-CSRF-TOKEN":window.token},enctype:"multipart/form-data",body:b}).then(w=>w.json()).then(async w=>{f&&f.classList.add("spinner-grow-sshcheck-hide"),w.success?(m.classList.remove("btn-danger"),m.classList.add("btn-success")):w.message&&(m.classList.remove("btn-success"),m.classList.add("btn-danger"),document.querySelector(".passwordHide")&&(document.querySelector(".newConnectHide").classList.remove("newConnectHide"),document.querySelector(".passwordHide").classList.remove("passwordHide")),valedationError(w))}).catch(function(w){console.warn("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u043E \u0432\u043E\u0442 \u0442\u0430\u043A\u043E\u0435 \u0434\u0435\u0440\u044C\u043C\u043E",w)})};window.sshAccountSelect=function(m){var c=m.options[m.selectedIndex].dataset.pass,f=m.options[m.selectedIndex].dataset.login,b=m.options[m.selectedIndex].dataset.ip;document.querySelector(".ssh_user").value=f,document.querySelector(".ssh_ip").value=b,document.querySelector(".password").value=c};window.getSftpAccount=function(m,c){clearErrors(),window.token=document.getElementById("csrf").content,document.querySelector(".spinner-grow-hide").classList.remove("spinner-grow-hide"),fetch(c,{method:"POST",headers:{"X-CSRF-TOKEN":window.token},enctype:"text/html",body:m}).then(function(f){return f.text()}).then(f=>{f.message?valedationError(f):document.querySelector(".sftpaccount").innerHTML=f})};window.getAllAccounts=function(m,c){if(document.querySelector(".allaccounts").innerHTML)return!0;window.token=document.getElementById("csrf").content;var f=document.querySelector(".spinner-grow-hide");f.classList.remove("spinner-grow-hide"),fetch(c,{method:"POST",headers:{"X-CSRF-TOKEN":window.token},enctype:"text/html",body:m}).then(function(b){return b.text()}).then(b=>{b.message?valedationError(b):(f.classList.add("spinner-grow-hide"),document.querySelector(".allaccounts").innerHTML=b)})};document.addEventListener("DOMContentLoaded",function(){window.myZoomModal=new bootstrap.Modal("#imageZoom",{});var m=document.getElementsByClassName("text-body");for(let f=0;f<m.length;f++){var c=m[f].getElementsByTagName("img");for(let b=0;b<c.length;b++)c[b].addEventListener("click",function(w){document.getElementById("imageZoom_wrapper").innerHTML="";var k=document.createElement("img");k.setAttribute("src",w.target.src),k.setAttribute("class","zoomedImg"),document.getElementById("imageZoom_wrapper").appendChild(k),window.myZoomModal.show()})}setTimeout(f=>{var b=document.getElementsByClassName("preloaderWrapper");b[0].remove()},500)});window.GetQueryParams=new Proxy(new URLSearchParams(window.location.search),{get:(m,c)=>m.get(c)});GetQueryParams.domain&&getModalForm("/informer/create?domain="+GetQueryParams.domain);GetQueryParams.post&&GetQueryParams.tab&&(setTimeout(function(){document.getElementById(GetQueryParams.tab).click()},100),setTimeout(function(){document.getElementById(GetQueryParams.post).scrollIntoView()},500),setTimeout(function(){document.querySelector("#"+GetQueryParams.post+" .accordion-button").click()},1e3));window.clearErrors=function(){document.getElementById("errors")!==null&&(document.getElementById("errors").innerHTML="")};window.addSearchInputs=function(m){var c=m.closest("div"),f=m.closest(".search_block");f.append(c.cloneNode(!0));const b=htmlToElement('<button onclick="removeSearchInputs(this)" type="button" class="btn btn-danger ">-</button>');m.replaceWith(b)};window.removeSearchInputs=function(m){var c=m.closest("div");c.remove()};window.htmlToElement=function(m){var c=document.createElement("template");return m=m.trim(),c.innerHTML=m,c.content.firstChild};window.switchIputs=function(m){document.querySelectorAll(".search input").forEach(c=>{c.required=!c.required,c.disabled=!c.disabled}),document.querySelector("."+m).classList.toggle("hide")}});export default $Z();
